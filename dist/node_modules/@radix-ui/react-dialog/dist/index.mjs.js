import*as e from"react";import{composeEventHandlers as t}from"../../primitive/dist/index.mjs.js";import{useComposedRefs as o}from"../../react-compose-refs/dist/index.mjs.js";import{createContextScope as r,createContext as n}from"../../react-context/dist/index.mjs.js";import{useId as s}from"../../react-id/dist/index.mjs.js";import{useControllableState as i}from"../../react-use-controllable-state/dist/index.mjs.js";import{DismissableLayer as a}from"../../react-dismissable-layer/dist/index.mjs.js";import{FocusScope as c}from"../../react-focus-scope/dist/index.mjs.js";import{Portal as d}from"../../react-portal/dist/index.mjs.js";import{Presence as l}from"../../react-presence/dist/index.mjs.js";import{Primitive as p}from"../../react-primitive/dist/index.mjs.js";import{useFocusGuards as u}from"../../react-focus-guards/dist/index.mjs.js";import f from"../../../react-remove-scroll/dist/es2015/Combination.js";import{hideOthers as m}from"../../../aria-hidden/dist/es2015/index.js";import{Slot as x}from"../../react-slot/dist/index.mjs.js";import"../../../react/jsx-runtime.js";import{j as g}from"../../../../_virtual/jsx-runtime.js";var j="Dialog",[D,v]=r(j),[h,_]=D(j),y=t=>{const{__scopeDialog:o,children:r,open:n,defaultOpen:a,onOpenChange:c,modal:d=!0}=t,l=e.useRef(null),p=e.useRef(null),[u=!1,f]=i({prop:n,defaultProp:a,onChange:c});return g.exports.jsx(h,{scope:o,triggerRef:l,contentRef:p,contentId:s(),titleId:s(),descriptionId:s(),open:u,onOpenChange:f,onOpenToggle:e.useCallback((()=>f((e=>!e))),[f]),modal:d,children:r})};y.displayName=j;var R="DialogTrigger",b=e.forwardRef(((e,r)=>{const{__scopeDialog:n,...s}=e,i=_(R,n),a=o(r,i.triggerRef);return g.exports.jsx(p.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":K(i.open),...s,ref:a,onClick:t(e.onClick,i.onOpenToggle)})}));b.displayName=R;var C="DialogPortal",[I,w]=D(C,{forceMount:void 0}),O=t=>{const{__scopeDialog:o,forceMount:r,children:n,container:s}=t,i=_(C,o);return g.exports.jsx(I,{scope:o,forceMount:r,children:e.Children.map(n,(e=>g.exports.jsx(l,{present:r||i.open,children:g.exports.jsx(d,{asChild:!0,container:s,children:e})})))})};O.displayName=C;var F="DialogOverlay",N=e.forwardRef(((e,t)=>{const o=w(F,e.__scopeDialog),{forceMount:r=o.forceMount,...n}=e,s=_(F,e.__scopeDialog);return s.modal?g.exports.jsx(l,{present:r||s.open,children:g.exports.jsx(E,{...n,ref:t})}):null}));N.displayName=F;var E=e.forwardRef(((e,t)=>{const{__scopeDialog:o,...r}=e,n=_(F,o);return g.exports.jsx(f,{as:x,allowPinchZoom:!0,shards:[n.contentRef],children:g.exports.jsx(p.div,{"data-state":K(n.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})})),P="DialogContent",A=e.forwardRef(((e,t)=>{const o=w(P,e.__scopeDialog),{forceMount:r=o.forceMount,...n}=e,s=_(P,e.__scopeDialog);return g.exports.jsx(l,{present:r||s.open,children:s.modal?g.exports.jsx(M,{...n,ref:t}):g.exports.jsx(k,{...n,ref:t})})}));A.displayName=P;var M=e.forwardRef(((r,n)=>{const s=_(P,r.__scopeDialog),i=e.useRef(null),a=o(n,s.contentRef,i);return e.useEffect((()=>{const e=i.current;if(e)return m(e)}),[]),g.exports.jsx(T,{...r,ref:a,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:t(r.onCloseAutoFocus,(e=>{e.preventDefault(),s.triggerRef.current?.focus()})),onPointerDownOutside:t(r.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,o=0===t.button&&!0===t.ctrlKey;(2===t.button||o)&&e.preventDefault()})),onFocusOutside:t(r.onFocusOutside,(e=>e.preventDefault()))})})),k=e.forwardRef(((t,o)=>{const r=_(P,t.__scopeDialog),n=e.useRef(!1),s=e.useRef(!1);return g.exports.jsx(T,{...t,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:e=>{t.onCloseAutoFocus?.(e),e.defaultPrevented||(n.current||r.triggerRef.current?.focus(),e.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:e=>{t.onInteractOutside?.(e),e.defaultPrevented||(n.current=!0,"pointerdown"===e.detail.originalEvent.type&&(s.current=!0));const o=e.target,i=r.triggerRef.current?.contains(o);i&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&s.current&&e.preventDefault()}})})),T=e.forwardRef(((t,r)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:d,...l}=t,p=_(P,n),f=e.useRef(null),m=o(r,f);return u(),g.exports.jsxs(g.exports.Fragment,{children:[g.exports.jsx(c,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:d,children:g.exports.jsx(a,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":K(p.open),...l,ref:m,onDismiss:()=>p.onOpenChange(!1)})}),g.exports.jsxs(g.exports.Fragment,{children:[g.exports.jsx(z,{titleId:p.titleId}),g.exports.jsx(G,{contentRef:f,descriptionId:p.descriptionId})]})]})})),$="DialogTitle",W=e.forwardRef(((e,t)=>{const{__scopeDialog:o,...r}=e,n=_($,o);return g.exports.jsx(p.h2,{id:n.titleId,...r,ref:t})}));W.displayName=$;var B="DialogDescription",S=e.forwardRef(((e,t)=>{const{__scopeDialog:o,...r}=e,n=_(B,o);return g.exports.jsx(p.p,{id:n.descriptionId,...r,ref:t})}));S.displayName=B;var q="DialogClose",H=e.forwardRef(((e,o)=>{const{__scopeDialog:r,...n}=e,s=_(q,r);return g.exports.jsx(p.button,{type:"button",...n,ref:o,onClick:t(e.onClick,(()=>s.onOpenChange(!1)))})}));function K(e){return e?"open":"closed"}H.displayName=q;var U="DialogTitleWarning",[V,Z]=n(U,{contentName:P,titleName:$,docsSlug:"dialog"}),z=({titleId:t})=>{const o=Z(U),r=`\`${o.contentName}\` requires a \`${o.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${o.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${o.docsSlug}`;return e.useEffect((()=>{if(t){document.getElementById(t)||console.error(r)}}),[r,t]),null},G=({contentRef:t,descriptionId:o})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Z("DialogDescriptionWarning").contentName}}.`;return e.useEffect((()=>{const e=t.current?.getAttribute("aria-describedby");if(o&&e){document.getElementById(o)||console.warn(r)}}),[r,t,o]),null},J=y,L=b,Q=O,X=N,Y=A,ee=W,te=S,oe=H;export{oe as Close,Y as Content,te as Description,y as Dialog,H as DialogClose,A as DialogContent,S as DialogDescription,N as DialogOverlay,O as DialogPortal,W as DialogTitle,b as DialogTrigger,X as Overlay,Q as Portal,J as Root,ee as Title,L as Trigger,V as WarningProvider,v as createDialogScope};
//# sourceMappingURL=index.mjs.js.map
