{"version":3,"file":"index.mjs.js","sources":["../../../../../node_modules/@radix-ui/react-menu/dist/index.mjs"],"sourcesContent":["\"use client\";\n\n// packages/react/menu/src/menu.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { useComposedRefs, composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive, dispatchDiscreteCustomEvent } from \"@radix-ui/react-primitive\";\nimport * as RovingFocusGroup from \"@radix-ui/react-roving-focus\";\nimport { createRovingFocusGroupScope } from \"@radix-ui/react-roving-focus\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { hideOthers } from \"aria-hidden\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { jsx } from \"react/jsx-runtime\";\nvar SELECTION_KEYS = [\"Enter\", \" \"];\nvar FIRST_KEYS = [\"ArrowDown\", \"PageUp\", \"Home\"];\nvar LAST_KEYS = [\"ArrowUp\", \"PageDown\", \"End\"];\nvar FIRST_LAST_KEYS = [...FIRST_KEYS, ...LAST_KEYS];\nvar SUB_OPEN_KEYS = {\n  ltr: [...SELECTION_KEYS, \"ArrowRight\"],\n  rtl: [...SELECTION_KEYS, \"ArrowLeft\"]\n};\nvar SUB_CLOSE_KEYS = {\n  ltr: [\"ArrowLeft\"],\n  rtl: [\"ArrowRight\"]\n};\nvar MENU_NAME = \"Menu\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(MENU_NAME);\nvar [createMenuContext, createMenuScope] = createContextScope(MENU_NAME, [\n  createCollectionScope,\n  createPopperScope,\n  createRovingFocusGroupScope\n]);\nvar usePopperScope = createPopperScope();\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar [MenuProvider, useMenuContext] = createMenuContext(MENU_NAME);\nvar [MenuRootProvider, useMenuRootContext] = createMenuContext(MENU_NAME);\nvar Menu = (props) => {\n  const { __scopeMenu, open = false, children, dir, onOpenChange, modal = true } = props;\n  const popperScope = usePopperScope(__scopeMenu);\n  const [content, setContent] = React.useState(null);\n  const isUsingKeyboardRef = React.useRef(false);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n  const direction = useDirection(dir);\n  React.useEffect(() => {\n    const handleKeyDown = () => {\n      isUsingKeyboardRef.current = true;\n      document.addEventListener(\"pointerdown\", handlePointer, { capture: true, once: true });\n      document.addEventListener(\"pointermove\", handlePointer, { capture: true, once: true });\n    };\n    const handlePointer = () => isUsingKeyboardRef.current = false;\n    document.addEventListener(\"keydown\", handleKeyDown, { capture: true });\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown, { capture: true });\n      document.removeEventListener(\"pointerdown\", handlePointer, { capture: true });\n      document.removeEventListener(\"pointermove\", handlePointer, { capture: true });\n    };\n  }, []);\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    MenuProvider,\n    {\n      scope: __scopeMenu,\n      open,\n      onOpenChange: handleOpenChange,\n      content,\n      onContentChange: setContent,\n      children: /* @__PURE__ */ jsx(\n        MenuRootProvider,\n        {\n          scope: __scopeMenu,\n          onClose: React.useCallback(() => handleOpenChange(false), [handleOpenChange]),\n          isUsingKeyboardRef,\n          dir: direction,\n          modal,\n          children\n        }\n      )\n    }\n  ) });\n};\nMenu.displayName = MENU_NAME;\nvar ANCHOR_NAME = \"MenuAnchor\";\nvar MenuAnchor = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...anchorProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { ...popperScope, ...anchorProps, ref: forwardedRef });\n  }\n);\nMenuAnchor.displayName = ANCHOR_NAME;\nvar PORTAL_NAME = \"MenuPortal\";\nvar [PortalProvider, usePortalContext] = createMenuContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar MenuPortal = (props) => {\n  const { __scopeMenu, forceMount, children, container } = props;\n  const context = useMenuContext(PORTAL_NAME, __scopeMenu);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopeMenu, forceMount, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children }) }) });\n};\nMenuPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"MenuContent\";\nvar [MenuContentProvider, useMenuContentContext] = createMenuContext(CONTENT_NAME);\nvar MenuContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n    return /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeMenu, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeMenu, children: rootContext.modal ? /* @__PURE__ */ jsx(MenuRootContentModal, { ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(MenuRootContentNonModal, { ...contentProps, ref: forwardedRef }) }) }) });\n  }\n);\nvar MenuRootContentModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    React.useEffect(() => {\n      const content = ref.current;\n      if (content) return hideOthers(content);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      MenuContentImpl,\n      {\n        ...props,\n        ref: composedRefs,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: context.open,\n        disableOutsideScroll: true,\n        onFocusOutside: composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault(),\n          { checkForDefaultPrevented: false }\n        ),\n        onDismiss: () => context.onOpenChange(false)\n      }\n    );\n  }\n);\nvar MenuRootContentNonModal = React.forwardRef((props, forwardedRef) => {\n  const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n  return /* @__PURE__ */ jsx(\n    MenuContentImpl,\n    {\n      ...props,\n      ref: forwardedRef,\n      trapFocus: false,\n      disableOutsidePointerEvents: false,\n      disableOutsideScroll: false,\n      onDismiss: () => context.onOpenChange(false)\n    }\n  );\n});\nvar MenuContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeMenu,\n      loop = false,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEntryFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      onDismiss,\n      disableOutsideScroll,\n      ...contentProps\n    } = props;\n    const context = useMenuContext(CONTENT_NAME, __scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, __scopeMenu);\n    const popperScope = usePopperScope(__scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const getItems = useCollection(__scopeMenu);\n    const [currentItemId, setCurrentItemId] = React.useState(null);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef, context.onContentChange);\n    const timerRef = React.useRef(0);\n    const searchRef = React.useRef(\"\");\n    const pointerGraceTimerRef = React.useRef(0);\n    const pointerGraceIntentRef = React.useRef(null);\n    const pointerDirRef = React.useRef(\"right\");\n    const lastPointerXRef = React.useRef(0);\n    const ScrollLockWrapper = disableOutsideScroll ? RemoveScroll : React.Fragment;\n    const scrollLockWrapperProps = disableOutsideScroll ? { as: Slot, allowPinchZoom: true } : void 0;\n    const handleTypeaheadSearch = (key) => {\n      const search = searchRef.current + key;\n      const items = getItems().filter((item) => !item.disabled);\n      const currentItem = document.activeElement;\n      const currentMatch = items.find((item) => item.ref.current === currentItem)?.textValue;\n      const values = items.map((item) => item.textValue);\n      const nextMatch = getNextMatch(values, search, currentMatch);\n      const newItem = items.find((item) => item.textValue === nextMatch)?.ref.current;\n      (function updateSearch(value) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        if (value !== \"\") timerRef.current = window.setTimeout(() => updateSearch(\"\"), 1e3);\n      })(search);\n      if (newItem) {\n        setTimeout(() => newItem.focus());\n      }\n    };\n    React.useEffect(() => {\n      return () => window.clearTimeout(timerRef.current);\n    }, []);\n    useFocusGuards();\n    const isPointerMovingToSubmenu = React.useCallback((event) => {\n      const isMovingTowards = pointerDirRef.current === pointerGraceIntentRef.current?.side;\n      return isMovingTowards && isPointerInGraceArea(event, pointerGraceIntentRef.current?.area);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      MenuContentProvider,\n      {\n        scope: __scopeMenu,\n        searchRef,\n        onItemEnter: React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        onItemLeave: React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) return;\n            contentRef.current?.focus();\n            setCurrentItemId(null);\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        onTriggerLeave: React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        pointerGraceTimerRef,\n        onPointerGraceIntentChange: React.useCallback((intent) => {\n          pointerGraceIntentRef.current = intent;\n        }, []),\n        children: /* @__PURE__ */ jsx(ScrollLockWrapper, { ...scrollLockWrapperProps, children: /* @__PURE__ */ jsx(\n          FocusScope,\n          {\n            asChild: true,\n            trapped: trapFocus,\n            onMountAutoFocus: composeEventHandlers(onOpenAutoFocus, (event) => {\n              event.preventDefault();\n              contentRef.current?.focus({ preventScroll: true });\n            }),\n            onUnmountAutoFocus: onCloseAutoFocus,\n            children: /* @__PURE__ */ jsx(\n              DismissableLayer,\n              {\n                asChild: true,\n                disableOutsidePointerEvents,\n                onEscapeKeyDown,\n                onPointerDownOutside,\n                onFocusOutside,\n                onInteractOutside,\n                onDismiss,\n                children: /* @__PURE__ */ jsx(\n                  RovingFocusGroup.Root,\n                  {\n                    asChild: true,\n                    ...rovingFocusGroupScope,\n                    dir: rootContext.dir,\n                    orientation: \"vertical\",\n                    loop,\n                    currentTabStopId: currentItemId,\n                    onCurrentTabStopIdChange: setCurrentItemId,\n                    onEntryFocus: composeEventHandlers(onEntryFocus, (event) => {\n                      if (!rootContext.isUsingKeyboardRef.current) event.preventDefault();\n                    }),\n                    preventScrollOnEntryFocus: true,\n                    children: /* @__PURE__ */ jsx(\n                      PopperPrimitive.Content,\n                      {\n                        role: \"menu\",\n                        \"aria-orientation\": \"vertical\",\n                        \"data-state\": getOpenState(context.open),\n                        \"data-radix-menu-content\": \"\",\n                        dir: rootContext.dir,\n                        ...popperScope,\n                        ...contentProps,\n                        ref: composedRefs,\n                        style: { outline: \"none\", ...contentProps.style },\n                        onKeyDown: composeEventHandlers(contentProps.onKeyDown, (event) => {\n                          const target = event.target;\n                          const isKeyDownInside = target.closest(\"[data-radix-menu-content]\") === event.currentTarget;\n                          const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                          const isCharacterKey = event.key.length === 1;\n                          if (isKeyDownInside) {\n                            if (event.key === \"Tab\") event.preventDefault();\n                            if (!isModifierKey && isCharacterKey) handleTypeaheadSearch(event.key);\n                          }\n                          const content = contentRef.current;\n                          if (event.target !== content) return;\n                          if (!FIRST_LAST_KEYS.includes(event.key)) return;\n                          event.preventDefault();\n                          const items = getItems().filter((item) => !item.disabled);\n                          const candidateNodes = items.map((item) => item.ref.current);\n                          if (LAST_KEYS.includes(event.key)) candidateNodes.reverse();\n                          focusFirst(candidateNodes);\n                        }),\n                        onBlur: composeEventHandlers(props.onBlur, (event) => {\n                          if (!event.currentTarget.contains(event.target)) {\n                            window.clearTimeout(timerRef.current);\n                            searchRef.current = \"\";\n                          }\n                        }),\n                        onPointerMove: composeEventHandlers(\n                          props.onPointerMove,\n                          whenMouse((event) => {\n                            const target = event.target;\n                            const pointerXHasChanged = lastPointerXRef.current !== event.clientX;\n                            if (event.currentTarget.contains(target) && pointerXHasChanged) {\n                              const newDir = event.clientX > lastPointerXRef.current ? \"right\" : \"left\";\n                              pointerDirRef.current = newDir;\n                              lastPointerXRef.current = event.clientX;\n                            }\n                          })\n                        )\n                      }\n                    )\n                  }\n                )\n              }\n            )\n          }\n        ) })\n      }\n    );\n  }\n);\nMenuContent.displayName = CONTENT_NAME;\nvar GROUP_NAME = \"MenuGroup\";\nvar MenuGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...groupProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { role: \"group\", ...groupProps, ref: forwardedRef });\n  }\n);\nMenuGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"MenuLabel\";\nvar MenuLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...labelProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { ...labelProps, ref: forwardedRef });\n  }\n);\nMenuLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"MenuItem\";\nvar ITEM_SELECT = \"menu.itemSelect\";\nvar MenuItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { disabled = false, onSelect, ...itemProps } = props;\n    const ref = React.useRef(null);\n    const rootContext = useMenuRootContext(ITEM_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(ITEM_NAME, props.__scopeMenu);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const isPointerDownRef = React.useRef(false);\n    const handleSelect = () => {\n      const menuItem = ref.current;\n      if (!disabled && menuItem) {\n        const itemSelectEvent = new CustomEvent(ITEM_SELECT, { bubbles: true, cancelable: true });\n        menuItem.addEventListener(ITEM_SELECT, (event) => onSelect?.(event), { once: true });\n        dispatchDiscreteCustomEvent(menuItem, itemSelectEvent);\n        if (itemSelectEvent.defaultPrevented) {\n          isPointerDownRef.current = false;\n        } else {\n          rootContext.onClose();\n        }\n      }\n    };\n    return /* @__PURE__ */ jsx(\n      MenuItemImpl,\n      {\n        ...itemProps,\n        ref: composedRefs,\n        disabled,\n        onClick: composeEventHandlers(props.onClick, handleSelect),\n        onPointerDown: (event) => {\n          props.onPointerDown?.(event);\n          isPointerDownRef.current = true;\n        },\n        onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {\n          if (!isPointerDownRef.current) event.currentTarget?.click();\n        }),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          const isTypingAhead = contentContext.searchRef.current !== \"\";\n          if (disabled || isTypingAhead && event.key === \" \") return;\n          if (SELECTION_KEYS.includes(event.key)) {\n            event.currentTarget.click();\n            event.preventDefault();\n          }\n        })\n      }\n    );\n  }\n);\nMenuItem.displayName = ITEM_NAME;\nvar MenuItemImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, disabled = false, textValue, ...itemProps } = props;\n    const contentContext = useMenuContentContext(ITEM_NAME, __scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const [isFocused, setIsFocused] = React.useState(false);\n    const [textContent, setTextContent] = React.useState(\"\");\n    React.useEffect(() => {\n      const menuItem = ref.current;\n      if (menuItem) {\n        setTextContent((menuItem.textContent ?? \"\").trim());\n      }\n    }, [itemProps.children]);\n    return /* @__PURE__ */ jsx(\n      Collection.ItemSlot,\n      {\n        scope: __scopeMenu,\n        disabled,\n        textValue: textValue ?? textContent,\n        children: /* @__PURE__ */ jsx(RovingFocusGroup.Item, { asChild: true, ...rovingFocusGroupScope, focusable: !disabled, children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            role: \"menuitem\",\n            \"data-highlighted\": isFocused ? \"\" : void 0,\n            \"aria-disabled\": disabled || void 0,\n            \"data-disabled\": disabled ? \"\" : void 0,\n            ...itemProps,\n            ref: composedRefs,\n            onPointerMove: composeEventHandlers(\n              props.onPointerMove,\n              whenMouse((event) => {\n                if (disabled) {\n                  contentContext.onItemLeave(event);\n                } else {\n                  contentContext.onItemEnter(event);\n                  if (!event.defaultPrevented) {\n                    const item = event.currentTarget;\n                    item.focus({ preventScroll: true });\n                  }\n                }\n              })\n            ),\n            onPointerLeave: composeEventHandlers(\n              props.onPointerLeave,\n              whenMouse((event) => contentContext.onItemLeave(event))\n            ),\n            onFocus: composeEventHandlers(props.onFocus, () => setIsFocused(true)),\n            onBlur: composeEventHandlers(props.onBlur, () => setIsFocused(false))\n          }\n        ) })\n      }\n    );\n  }\n);\nvar CHECKBOX_ITEM_NAME = \"MenuCheckboxItem\";\nvar MenuCheckboxItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { checked = false, onCheckedChange, ...checkboxItemProps } = props;\n    return /* @__PURE__ */ jsx(ItemIndicatorProvider, { scope: props.__scopeMenu, checked, children: /* @__PURE__ */ jsx(\n      MenuItem,\n      {\n        role: \"menuitemcheckbox\",\n        \"aria-checked\": isIndeterminate(checked) ? \"mixed\" : checked,\n        ...checkboxItemProps,\n        ref: forwardedRef,\n        \"data-state\": getCheckedState(checked),\n        onSelect: composeEventHandlers(\n          checkboxItemProps.onSelect,\n          () => onCheckedChange?.(isIndeterminate(checked) ? true : !checked),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\nvar RADIO_GROUP_NAME = \"MenuRadioGroup\";\nvar [RadioGroupProvider, useRadioGroupContext] = createMenuContext(\n  RADIO_GROUP_NAME,\n  { value: void 0, onValueChange: () => {\n  } }\n);\nvar MenuRadioGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { value, onValueChange, ...groupProps } = props;\n    const handleValueChange = useCallbackRef(onValueChange);\n    return /* @__PURE__ */ jsx(RadioGroupProvider, { scope: props.__scopeMenu, value, onValueChange: handleValueChange, children: /* @__PURE__ */ jsx(MenuGroup, { ...groupProps, ref: forwardedRef }) });\n  }\n);\nMenuRadioGroup.displayName = RADIO_GROUP_NAME;\nvar RADIO_ITEM_NAME = \"MenuRadioItem\";\nvar MenuRadioItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { value, ...radioItemProps } = props;\n    const context = useRadioGroupContext(RADIO_ITEM_NAME, props.__scopeMenu);\n    const checked = value === context.value;\n    return /* @__PURE__ */ jsx(ItemIndicatorProvider, { scope: props.__scopeMenu, checked, children: /* @__PURE__ */ jsx(\n      MenuItem,\n      {\n        role: \"menuitemradio\",\n        \"aria-checked\": checked,\n        ...radioItemProps,\n        ref: forwardedRef,\n        \"data-state\": getCheckedState(checked),\n        onSelect: composeEventHandlers(\n          radioItemProps.onSelect,\n          () => context.onValueChange?.(value),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nMenuRadioItem.displayName = RADIO_ITEM_NAME;\nvar ITEM_INDICATOR_NAME = \"MenuItemIndicator\";\nvar [ItemIndicatorProvider, useItemIndicatorContext] = createMenuContext(\n  ITEM_INDICATOR_NAME,\n  { checked: false }\n);\nvar MenuItemIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, forceMount, ...itemIndicatorProps } = props;\n    const indicatorContext = useItemIndicatorContext(ITEM_INDICATOR_NAME, __scopeMenu);\n    return /* @__PURE__ */ jsx(\n      Presence,\n      {\n        present: forceMount || isIndeterminate(indicatorContext.checked) || indicatorContext.checked === true,\n        children: /* @__PURE__ */ jsx(\n          Primitive.span,\n          {\n            ...itemIndicatorProps,\n            ref: forwardedRef,\n            \"data-state\": getCheckedState(indicatorContext.checked)\n          }\n        )\n      }\n    );\n  }\n);\nMenuItemIndicator.displayName = ITEM_INDICATOR_NAME;\nvar SEPARATOR_NAME = \"MenuSeparator\";\nvar MenuSeparator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...separatorProps } = props;\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        role: \"separator\",\n        \"aria-orientation\": \"horizontal\",\n        ...separatorProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nMenuSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"MenuArrow\";\nvar MenuArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nMenuArrow.displayName = ARROW_NAME;\nvar SUB_NAME = \"MenuSub\";\nvar [MenuSubProvider, useMenuSubContext] = createMenuContext(SUB_NAME);\nvar MenuSub = (props) => {\n  const { __scopeMenu, children, open = false, onOpenChange } = props;\n  const parentMenuContext = useMenuContext(SUB_NAME, __scopeMenu);\n  const popperScope = usePopperScope(__scopeMenu);\n  const [trigger, setTrigger] = React.useState(null);\n  const [content, setContent] = React.useState(null);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n  React.useEffect(() => {\n    if (parentMenuContext.open === false) handleOpenChange(false);\n    return () => handleOpenChange(false);\n  }, [parentMenuContext.open, handleOpenChange]);\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    MenuProvider,\n    {\n      scope: __scopeMenu,\n      open,\n      onOpenChange: handleOpenChange,\n      content,\n      onContentChange: setContent,\n      children: /* @__PURE__ */ jsx(\n        MenuSubProvider,\n        {\n          scope: __scopeMenu,\n          contentId: useId(),\n          triggerId: useId(),\n          trigger,\n          onTriggerChange: setTrigger,\n          children\n        }\n      )\n    }\n  ) });\n};\nMenuSub.displayName = SUB_NAME;\nvar SUB_TRIGGER_NAME = \"MenuSubTrigger\";\nvar MenuSubTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useMenuContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const openTimerRef = React.useRef(null);\n    const { pointerGraceTimerRef, onPointerGraceIntentChange } = contentContext;\n    const scope = { __scopeMenu: props.__scopeMenu };\n    const clearOpenTimer = React.useCallback(() => {\n      if (openTimerRef.current) window.clearTimeout(openTimerRef.current);\n      openTimerRef.current = null;\n    }, []);\n    React.useEffect(() => clearOpenTimer, [clearOpenTimer]);\n    React.useEffect(() => {\n      const pointerGraceTimer = pointerGraceTimerRef.current;\n      return () => {\n        window.clearTimeout(pointerGraceTimer);\n        onPointerGraceIntentChange(null);\n      };\n    }, [pointerGraceTimerRef, onPointerGraceIntentChange]);\n    return /* @__PURE__ */ jsx(MenuAnchor, { asChild: true, ...scope, children: /* @__PURE__ */ jsx(\n      MenuItemImpl,\n      {\n        id: subContext.triggerId,\n        \"aria-haspopup\": \"menu\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": subContext.contentId,\n        \"data-state\": getOpenState(context.open),\n        ...props,\n        ref: composeRefs(forwardedRef, subContext.onTriggerChange),\n        onClick: (event) => {\n          props.onClick?.(event);\n          if (props.disabled || event.defaultPrevented) return;\n          event.currentTarget.focus();\n          if (!context.open) context.onOpenChange(true);\n        },\n        onPointerMove: composeEventHandlers(\n          props.onPointerMove,\n          whenMouse((event) => {\n            contentContext.onItemEnter(event);\n            if (event.defaultPrevented) return;\n            if (!props.disabled && !context.open && !openTimerRef.current) {\n              contentContext.onPointerGraceIntentChange(null);\n              openTimerRef.current = window.setTimeout(() => {\n                context.onOpenChange(true);\n                clearOpenTimer();\n              }, 100);\n            }\n          })\n        ),\n        onPointerLeave: composeEventHandlers(\n          props.onPointerLeave,\n          whenMouse((event) => {\n            clearOpenTimer();\n            const contentRect = context.content?.getBoundingClientRect();\n            if (contentRect) {\n              const side = context.content?.dataset.side;\n              const rightSide = side === \"right\";\n              const bleed = rightSide ? -5 : 5;\n              const contentNearEdge = contentRect[rightSide ? \"left\" : \"right\"];\n              const contentFarEdge = contentRect[rightSide ? \"right\" : \"left\"];\n              contentContext.onPointerGraceIntentChange({\n                area: [\n                  // Apply a bleed on clientX to ensure that our exit point is\n                  // consistently within polygon bounds\n                  { x: event.clientX + bleed, y: event.clientY },\n                  { x: contentNearEdge, y: contentRect.top },\n                  { x: contentFarEdge, y: contentRect.top },\n                  { x: contentFarEdge, y: contentRect.bottom },\n                  { x: contentNearEdge, y: contentRect.bottom }\n                ],\n                side\n              });\n              window.clearTimeout(pointerGraceTimerRef.current);\n              pointerGraceTimerRef.current = window.setTimeout(\n                () => contentContext.onPointerGraceIntentChange(null),\n                300\n              );\n            } else {\n              contentContext.onTriggerLeave(event);\n              if (event.defaultPrevented) return;\n              contentContext.onPointerGraceIntentChange(null);\n            }\n          })\n        ),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          const isTypingAhead = contentContext.searchRef.current !== \"\";\n          if (props.disabled || isTypingAhead && event.key === \" \") return;\n          if (SUB_OPEN_KEYS[rootContext.dir].includes(event.key)) {\n            context.onOpenChange(true);\n            context.content?.focus();\n            event.preventDefault();\n          }\n        })\n      }\n    ) });\n  }\n);\nMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\nvar SUB_CONTENT_NAME = \"MenuSubContent\";\nvar MenuSubContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...subContentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_CONTENT_NAME, props.__scopeMenu);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    return /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeMenu, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeMenu, children: /* @__PURE__ */ jsx(\n      MenuContentImpl,\n      {\n        id: subContext.contentId,\n        \"aria-labelledby\": subContext.triggerId,\n        ...subContentProps,\n        ref: composedRefs,\n        align: \"start\",\n        side: rootContext.dir === \"rtl\" ? \"left\" : \"right\",\n        disableOutsidePointerEvents: false,\n        disableOutsideScroll: false,\n        trapFocus: false,\n        onOpenAutoFocus: (event) => {\n          if (rootContext.isUsingKeyboardRef.current) ref.current?.focus();\n          event.preventDefault();\n        },\n        onCloseAutoFocus: (event) => event.preventDefault(),\n        onFocusOutside: composeEventHandlers(props.onFocusOutside, (event) => {\n          if (event.target !== subContext.trigger) context.onOpenChange(false);\n        }),\n        onEscapeKeyDown: composeEventHandlers(props.onEscapeKeyDown, (event) => {\n          rootContext.onClose();\n          event.preventDefault();\n        }),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          const isKeyDownInside = event.currentTarget.contains(event.target);\n          const isCloseKey = SUB_CLOSE_KEYS[rootContext.dir].includes(event.key);\n          if (isKeyDownInside && isCloseKey) {\n            context.onOpenChange(false);\n            subContext.trigger?.focus();\n            event.preventDefault();\n          }\n        })\n      }\n    ) }) }) });\n  }\n);\nMenuSubContent.displayName = SUB_CONTENT_NAME;\nfunction getOpenState(open) {\n  return open ? \"open\" : \"closed\";\n}\nfunction isIndeterminate(checked) {\n  return checked === \"indeterminate\";\n}\nfunction getCheckedState(checked) {\n  return isIndeterminate(checked) ? \"indeterminate\" : checked ? \"checked\" : \"unchecked\";\n}\nfunction focusFirst(candidates) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus();\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nfunction getNextMatch(values, search, currentMatch) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0] : search;\n  const currentMatchIndex = currentMatch ? values.indexOf(currentMatch) : -1;\n  let wrappedValues = wrapArray(values, Math.max(currentMatchIndex, 0));\n  const excludeCurrentMatch = normalizedSearch.length === 1;\n  if (excludeCurrentMatch) wrappedValues = wrappedValues.filter((v) => v !== currentMatch);\n  const nextMatch = wrappedValues.find(\n    (value) => value.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextMatch !== currentMatch ? nextMatch : void 0;\n}\nfunction isPointInPolygon(point, polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const xi = polygon[i].x;\n    const yi = polygon[i].y;\n    const xj = polygon[j].x;\n    const yj = polygon[j].y;\n    const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) inside = !inside;\n  }\n  return inside;\n}\nfunction isPointerInGraceArea(event, area) {\n  if (!area) return false;\n  const cursorPos = { x: event.clientX, y: event.clientY };\n  return isPointInPolygon(cursorPos, area);\n}\nfunction whenMouse(handler) {\n  return (event) => event.pointerType === \"mouse\" ? handler(event) : void 0;\n}\nvar Root3 = Menu;\nvar Anchor2 = MenuAnchor;\nvar Portal = MenuPortal;\nvar Content2 = MenuContent;\nvar Group = MenuGroup;\nvar Label = MenuLabel;\nvar Item2 = MenuItem;\nvar CheckboxItem = MenuCheckboxItem;\nvar RadioGroup = MenuRadioGroup;\nvar RadioItem = MenuRadioItem;\nvar ItemIndicator = MenuItemIndicator;\nvar Separator = MenuSeparator;\nvar Arrow2 = MenuArrow;\nvar Sub = MenuSub;\nvar SubTrigger = MenuSubTrigger;\nvar SubContent = MenuSubContent;\nexport {\n  Anchor2 as Anchor,\n  Arrow2 as Arrow,\n  CheckboxItem,\n  Content2 as Content,\n  Group,\n  Item2 as Item,\n  ItemIndicator,\n  Label,\n  Menu,\n  MenuAnchor,\n  MenuArrow,\n  MenuCheckboxItem,\n  MenuContent,\n  MenuGroup,\n  MenuItem,\n  MenuItemIndicator,\n  MenuLabel,\n  MenuPortal,\n  MenuRadioGroup,\n  MenuRadioItem,\n  MenuSeparator,\n  MenuSub,\n  MenuSubContent,\n  MenuSubTrigger,\n  Portal,\n  RadioGroup,\n  RadioItem,\n  Root3 as Root,\n  Separator,\n  Sub,\n  SubContent,\n  SubTrigger,\n  createMenuScope\n};\n//# sourceMappingURL=index.mjs.map\n"],"names":["SELECTION_KEYS","LAST_KEYS","FIRST_LAST_KEYS","SUB_OPEN_KEYS","ltr","rtl","SUB_CLOSE_KEYS","MENU_NAME","Collection","useCollection","createCollectionScope","createCollection","createMenuContext","createMenuScope","createContextScope","createPopperScope","createRovingFocusGroupScope","usePopperScope","useRovingFocusGroupScope","MenuProvider","useMenuContext","MenuRootProvider","useMenuRootContext","Menu","props","__scopeMenu","open","children","dir","onOpenChange","modal","popperScope","content","setContent","React","useState","isUsingKeyboardRef","useRef","handleOpenChange","useCallbackRef","direction","useDirection","useEffect","handleKeyDown","current","document","addEventListener","handlePointer","capture","once","removeEventListener","jsx","exports","PopperPrimitive.Root","scope","onContentChange","onClose","useCallback","displayName","MenuAnchor","forwardRef","forwardedRef","anchorProps","PopperPrimitive.Anchor","ref","PORTAL_NAME","PortalProvider","usePortalContext","forceMount","MenuPortal","container","context","Presence","present","PortalPrimitive","asChild","CONTENT_NAME","MenuContentProvider","useMenuContentContext","MenuContent","portalContext","contentProps","rootContext","Provider","Slot","MenuRootContentModal","MenuRootContentNonModal","composedRefs","useComposedRefs","hideOthers","MenuContentImpl","trapFocus","disableOutsidePointerEvents","disableOutsideScroll","onFocusOutside","composeEventHandlers","event","preventDefault","checkForDefaultPrevented","onDismiss","loop","onOpenAutoFocus","onCloseAutoFocus","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onInteractOutside","rovingFocusGroupScope","getItems","currentItemId","setCurrentItemId","contentRef","timerRef","searchRef","pointerGraceTimerRef","pointerGraceIntentRef","pointerDirRef","lastPointerXRef","ScrollLockWrapper","RemoveScroll","Fragment","scrollLockWrapperProps","as","allowPinchZoom","handleTypeaheadSearch","key","search","items","filter","item","disabled","currentItem","activeElement","currentMatch","find","textValue","nextMatch","values","isRepeated","length","Array","from","every","char","normalizedSearch","currentMatchIndex","indexOf","wrappedValues","array","startIndex","Math","max","map","_","index","v","value","toLowerCase","startsWith","getNextMatch","newItem","updateSearch","window","clearTimeout","setTimeout","focus","useFocusGuards","isPointerMovingToSubmenu","side","area","cursorPos","x","clientX","y","clientY","point","polygon","inside","i","j","xi","yi","xj","yj","isPointInPolygon","isPointerInGraceArea","onItemEnter","onItemLeave","onTriggerLeave","onPointerGraceIntentChange","intent","FocusScope","trapped","onMountAutoFocus","preventScroll","onUnmountAutoFocus","DismissableLayer","RovingFocusGroup.Root","orientation","currentTabStopId","onCurrentTabStopIdChange","preventScrollOnEntryFocus","PopperPrimitive.Content","role","getOpenState","style","outline","onKeyDown","isKeyDownInside","target","closest","currentTarget","isModifierKey","ctrlKey","altKey","metaKey","isCharacterKey","includes","candidateNodes","reverse","candidates","PREVIOUSLY_FOCUSED_ELEMENT","candidate","focusFirst","onBlur","contains","onPointerMove","whenMouse","pointerXHasChanged","newDir","MenuGroup","groupProps","Primitive","div","MenuLabel","labelProps","ITEM_NAME","ITEM_SELECT","MenuItem","onSelect","itemProps","contentContext","isPointerDownRef","MenuItemImpl","onClick","menuItem","itemSelectEvent","CustomEvent","bubbles","cancelable","dispatchDiscreteCustomEvent","defaultPrevented","onPointerDown","onPointerUp","click","isTypingAhead","isFocused","setIsFocused","textContent","setTextContent","trim","ItemSlot","RovingFocusGroup.Item","focusable","onPointerLeave","onFocus","MenuCheckboxItem","checked","onCheckedChange","checkboxItemProps","ItemIndicatorProvider","isIndeterminate","getCheckedState","RADIO_GROUP_NAME","RadioGroupProvider","useRadioGroupContext","onValueChange","MenuRadioGroup","handleValueChange","RADIO_ITEM_NAME","MenuRadioItem","radioItemProps","ITEM_INDICATOR_NAME","useItemIndicatorContext","MenuItemIndicator","itemIndicatorProps","indicatorContext","span","MenuSeparator","separatorProps","MenuArrow","arrowProps","PopperPrimitive.Arrow","SUB_NAME","MenuSubProvider","useMenuSubContext","MenuSub","parentMenuContext","trigger","setTrigger","contentId","useId","triggerId","onTriggerChange","SUB_TRIGGER_NAME","MenuSubTrigger","subContext","openTimerRef","clearOpenTimer","pointerGraceTimer","id","composeRefs","contentRect","getBoundingClientRect","dataset","rightSide","bleed","contentNearEdge","contentFarEdge","top","bottom","SUB_CONTENT_NAME","MenuSubContent","subContentProps","align","isCloseKey","handler","pointerType","Root3","Anchor2","Portal","Content2","Group","Label","Item2","CheckboxItem","RadioGroup","RadioItem","ItemIndicator","Separator","Arrow2","Sub","SubTrigger","SubContent"],"mappings":"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"}