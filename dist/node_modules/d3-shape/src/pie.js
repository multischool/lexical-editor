import n from"./array.js";import t from"./constant.js";import r from"./descending.js";import e from"./identity.js";import{tau as o}from"./math.js";function u(){var u=e,l=r,a=null,i=t(0),f=t(o),s=t(0);function p(t){var r,e,p,c,h,g=(t=n(t)).length,m=0,y=new Array(g),d=new Array(g),A=+i.apply(this,arguments),j=Math.min(o,Math.max(-o,f.apply(this,arguments)-A)),v=Math.min(Math.abs(j)/g,s.apply(this,arguments)),M=v*(j<0?-1:1);for(r=0;r<g;++r)(h=d[y[r]=r]=+u(t[r],r,t))>0&&(m+=h);for(null!=l?y.sort((function(n,t){return l(d[n],d[t])})):null!=a&&y.sort((function(n,r){return a(t[n],t[r])})),r=0,p=m?(j-g*M)/m:0;r<g;++r,A=c)e=y[r],c=A+((h=d[e])>0?h*p:0)+M,d[e]={data:t[e],index:r,value:h,startAngle:A,endAngle:c,padAngle:v};return d}return p.value=function(n){return arguments.length?(u="function"==typeof n?n:t(+n),p):u},p.sortValues=function(n){return arguments.length?(l=n,a=null,p):l},p.sort=function(n){return arguments.length?(a=n,l=null,p):a},p.startAngle=function(n){return arguments.length?(i="function"==typeof n?n:t(+n),p):i},p.endAngle=function(n){return arguments.length?(f="function"==typeof n?n:t(+n),p):f},p.padAngle=function(n){return arguments.length?(s="function"==typeof n?n:t(+n),p):s},p}export{u as default};
//# sourceMappingURL=pie.js.map
