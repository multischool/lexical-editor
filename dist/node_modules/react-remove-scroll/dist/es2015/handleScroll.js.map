{"version":3,"file":"handleScroll.js","sources":["../../../../../node_modules/react-remove-scroll/dist/es2015/handleScroll.js"],"sourcesContent":["var alwaysContainsScroll = function (node) {\n    // textarea will always _contain_ scroll inside self. It only can be hidden\n    return node.tagName === 'TEXTAREA';\n};\nvar elementCanBeScrolled = function (node, overflow) {\n    if (!(node instanceof Element)) {\n        return false;\n    }\n    var styles = window.getComputedStyle(node);\n    return (\n    // not-not-scrollable\n    styles[overflow] !== 'hidden' &&\n        // contains scroll inside self\n        !(styles.overflowY === styles.overflowX && !alwaysContainsScroll(node) && styles[overflow] === 'visible'));\n};\nvar elementCouldBeVScrolled = function (node) { return elementCanBeScrolled(node, 'overflowY'); };\nvar elementCouldBeHScrolled = function (node) { return elementCanBeScrolled(node, 'overflowX'); };\nexport var locationCouldBeScrolled = function (axis, node) {\n    var ownerDocument = node.ownerDocument;\n    var current = node;\n    do {\n        // Skip over shadow root\n        if (typeof ShadowRoot !== 'undefined' && current instanceof ShadowRoot) {\n            current = current.host;\n        }\n        var isScrollable = elementCouldBeScrolled(axis, current);\n        if (isScrollable) {\n            var _a = getScrollVariables(axis, current), scrollHeight = _a[1], clientHeight = _a[2];\n            if (scrollHeight > clientHeight) {\n                return true;\n            }\n        }\n        current = current.parentNode;\n    } while (current && current !== ownerDocument.body);\n    return false;\n};\nvar getVScrollVariables = function (_a) {\n    var scrollTop = _a.scrollTop, scrollHeight = _a.scrollHeight, clientHeight = _a.clientHeight;\n    return [\n        scrollTop,\n        scrollHeight,\n        clientHeight,\n    ];\n};\nvar getHScrollVariables = function (_a) {\n    var scrollLeft = _a.scrollLeft, scrollWidth = _a.scrollWidth, clientWidth = _a.clientWidth;\n    return [\n        scrollLeft,\n        scrollWidth,\n        clientWidth,\n    ];\n};\nvar elementCouldBeScrolled = function (axis, node) {\n    return axis === 'v' ? elementCouldBeVScrolled(node) : elementCouldBeHScrolled(node);\n};\nvar getScrollVariables = function (axis, node) {\n    return axis === 'v' ? getVScrollVariables(node) : getHScrollVariables(node);\n};\nvar getDirectionFactor = function (axis, direction) {\n    /**\n     * If the element's direction is rtl (right-to-left), then scrollLeft is 0 when the scrollbar is at its rightmost position,\n     * and then increasingly negative as you scroll towards the end of the content.\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollLeft\n     */\n    return axis === 'h' && direction === 'rtl' ? -1 : 1;\n};\nexport var handleScroll = function (axis, endTarget, event, sourceDelta, noOverscroll) {\n    var directionFactor = getDirectionFactor(axis, window.getComputedStyle(endTarget).direction);\n    var delta = directionFactor * sourceDelta;\n    // find scrollable target\n    var target = event.target;\n    var targetInLock = endTarget.contains(target);\n    var shouldCancelScroll = false;\n    var isDeltaPositive = delta > 0;\n    var availableScroll = 0;\n    var availableScrollTop = 0;\n    do {\n        var _a = getScrollVariables(axis, target), position = _a[0], scroll_1 = _a[1], capacity = _a[2];\n        var elementScroll = scroll_1 - capacity - directionFactor * position;\n        if (position || elementScroll) {\n            if (elementCouldBeScrolled(axis, target)) {\n                availableScroll += elementScroll;\n                availableScrollTop += position;\n            }\n        }\n        if (target instanceof ShadowRoot) {\n            target = target.host;\n        }\n        else {\n            target = target.parentNode;\n        }\n    } while (\n    // portaled content\n    (!targetInLock && target !== document.body) ||\n        // self content\n        (targetInLock && (endTarget.contains(target) || endTarget === target)));\n    // handle epsilon around 0 (non standard zoom levels)\n    if (isDeltaPositive &&\n        ((noOverscroll && Math.abs(availableScroll) < 1) || (!noOverscroll && delta > availableScroll))) {\n        shouldCancelScroll = true;\n    }\n    else if (!isDeltaPositive &&\n        ((noOverscroll && Math.abs(availableScrollTop) < 1) || (!noOverscroll && -delta > availableScrollTop))) {\n        shouldCancelScroll = true;\n    }\n    return shouldCancelScroll;\n};\n"],"names":["elementCanBeScrolled","node","overflow","Element","styles","window","getComputedStyle","overflowY","overflowX","tagName","alwaysContainsScroll","locationCouldBeScrolled","axis","ownerDocument","current","ShadowRoot","host","elementCouldBeScrolled","_a","getScrollVariables","parentNode","body","elementCouldBeVScrolled","elementCouldBeHScrolled","scrollTop","scrollHeight","clientHeight","scrollLeft","scrollWidth","clientWidth","getHScrollVariables","handleScroll","endTarget","event","sourceDelta","noOverscroll","directionFactor","direction","getDirectionFactor","delta","target","targetInLock","contains","shouldCancelScroll","isDeltaPositive","availableScroll","availableScrollTop","position","elementScroll","document","Math","abs"],"mappings":"AAAA,IAIIA,EAAuB,SAAUC,EAAMC,GACvC,KAAMD,aAAgBE,SAClB,OAAO,EAEX,IAAIC,EAASC,OAAOC,iBAAiBL,GACrC,MAEqB,WAArBG,EAAOF,MAEDE,EAAOG,YAAcH,EAAOI,YAbX,SAAUP,GAEjC,MAAwB,aAAjBA,EAAKQ,OAChB,CAUoDC,CAAqBT,IAA8B,YAArBG,EAAOF,GACzF,EAGWS,EAA0B,SAAUC,EAAMX,GACjD,IAAIY,EAAgBZ,EAAKY,cACrBC,EAAUb,EACd,EAAG,CAMC,GAJ0B,oBAAfc,YAA8BD,aAAmBC,aACxDD,EAAUA,EAAQE,MAEHC,EAAuBL,EAAME,GAC9B,CACd,IAAII,EAAKC,EAAmBP,EAAME,GAClC,GAD2DI,EAAG,GAAmBA,EAAG,GAEhF,OAAO,CAEd,CACDJ,EAAUA,EAAQM,UACrB,OAAQN,GAAWA,IAAYD,EAAcQ,MAC9C,OAAO,CACX,EAiBIJ,EAAyB,SAAUL,EAAMX,GACzC,MAAgB,MAATW,EAtCmB,SAAUX,GAAQ,OAAOD,EAAqBC,EAAM,aAsCxDqB,CAAwBrB,GArCpB,SAAUA,GAAQ,OAAOD,EAAqBC,EAAM,aAqCxBsB,CAAwBtB,EAClF,EACIkB,EAAqB,SAAUP,EAAMX,GACrC,MAAgB,MAATW,EAlBA,EAFyBM,EAoBUjB,GAnBvBuB,UAA0BN,EAAGO,aAA6BP,EAAGQ,cAO1D,SAAUR,GAEhC,MAAO,CADUA,EAAGS,WAA0BT,EAAGU,YAA2BV,EAAGW,YAMnF,CAKsDC,CAAoB7B,GApBhD,IAAUiB,CAqBpC,EASWa,EAAe,SAAUnB,EAAMoB,EAAWC,EAAOC,EAAaC,GACrE,IAAIC,EATiB,SAAUxB,EAAMyB,GAMrC,MAAgB,MAATzB,GAA8B,QAAdyB,GAAuB,EAAI,CACtD,CAE0BC,CAAmB1B,EAAMP,OAAOC,iBAAiB0B,GAAWK,WAC9EE,EAAQH,EAAkBF,EAE1BM,EAASP,EAAMO,OACfC,EAAeT,EAAUU,SAASF,GAClCG,GAAqB,EACrBC,EAAkBL,EAAQ,EAC1BM,EAAkB,EAClBC,EAAqB,EACzB,EAAG,CACC,IAAI5B,EAAKC,EAAmBP,EAAM4B,GAASO,EAAW7B,EAAG,GACrD8B,EADoE9B,EAAG,GAAeA,EAAG,GACnDkB,EAAkBW,GACxDA,GAAYC,IACR/B,EAAuBL,EAAM4B,KAC7BK,GAAmBG,EACnBF,GAAsBC,GAI1BP,EADAA,aAAkBzB,WACTyB,EAAOxB,KAGPwB,EAAOpB,UAEvB,QAECqB,GAAgBD,IAAWS,SAAS5B,MAEjCoB,IAAiBT,EAAUU,SAASF,IAAWR,IAAcQ,IAUlE,OARII,IACET,GAAgBe,KAAKC,IAAIN,GAAmB,IAAQV,GAAgBI,EAAQM,KAGxED,IACJT,GAAgBe,KAAKC,IAAIL,GAAsB,IAAQX,IAAiBI,EAAQO,MAHlFH,GAAqB,GAMlBA,CACX"}