{"version":3,"file":"cytoscape-cose-bilkent.js","sources":["../../../node_modules/cytoscape-cose-bilkent/cytoscape-cose-bilkent.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"cose-base\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"cose-base\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cytoscapeCoseBilkent\"] = factory(require(\"cose-base\"));\n\telse\n\t\troot[\"cytoscapeCoseBilkent\"] = factory(root[\"coseBase\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LayoutConstants = __webpack_require__(0).layoutBase.LayoutConstants;\nvar FDLayoutConstants = __webpack_require__(0).layoutBase.FDLayoutConstants;\nvar CoSEConstants = __webpack_require__(0).CoSEConstants;\nvar CoSELayout = __webpack_require__(0).CoSELayout;\nvar CoSENode = __webpack_require__(0).CoSENode;\nvar PointD = __webpack_require__(0).layoutBase.PointD;\nvar DimensionD = __webpack_require__(0).layoutBase.DimensionD;\n\nvar defaults = {\n  // Called on `layoutready`\n  ready: function ready() {},\n  // Called on `layoutstop`\n  stop: function stop() {},\n  // 'draft', 'default' or 'proof\" \n  // - 'draft' fast cooling rate \n  // - 'default' moderate cooling rate \n  // - \"proof\" slow cooling rate\n  quality: 'default',\n  // include labels in node dimensions\n  nodeDimensionsIncludeLabels: false,\n  // number of ticks per frame; higher is faster but more jerky\n  refresh: 30,\n  // Whether to fit the network view after when done\n  fit: true,\n  // Padding on fit\n  padding: 10,\n  // Whether to enable incremental mode\n  randomize: true,\n  // Node repulsion (non overlapping) multiplier\n  nodeRepulsion: 4500,\n  // Ideal edge (non nested) length\n  idealEdgeLength: 50,\n  // Divisor to compute edge forces\n  edgeElasticity: 0.45,\n  // Nesting factor (multiplier) to compute ideal edge length for nested edges\n  nestingFactor: 0.1,\n  // Gravity force (constant)\n  gravity: 0.25,\n  // Maximum number of iterations to perform\n  numIter: 2500,\n  // For enabling tiling\n  tile: true,\n  // Type of layout animation. The option set is {'during', 'end', false}\n  animate: 'end',\n  // Duration for animate:end\n  animationDuration: 500,\n  // Represents the amount of the vertical space to put between the zero degree members during the tiling operation(can also be a function)\n  tilingPaddingVertical: 10,\n  // Represents the amount of the horizontal space to put between the zero degree members during the tiling operation(can also be a function)\n  tilingPaddingHorizontal: 10,\n  // Gravity range (constant) for compounds\n  gravityRangeCompound: 1.5,\n  // Gravity force (constant) for compounds\n  gravityCompound: 1.0,\n  // Gravity range (constant)\n  gravityRange: 3.8,\n  // Initial cooling factor for incremental layout\n  initialEnergyOnIncremental: 0.5\n};\n\nfunction extend(defaults, options) {\n  var obj = {};\n\n  for (var i in defaults) {\n    obj[i] = defaults[i];\n  }\n\n  for (var i in options) {\n    obj[i] = options[i];\n  }\n\n  return obj;\n};\n\nfunction _CoSELayout(_options) {\n  this.options = extend(defaults, _options);\n  getUserOptions(this.options);\n}\n\nvar getUserOptions = function getUserOptions(options) {\n  if (options.nodeRepulsion != null) CoSEConstants.DEFAULT_REPULSION_STRENGTH = FDLayoutConstants.DEFAULT_REPULSION_STRENGTH = options.nodeRepulsion;\n  if (options.idealEdgeLength != null) CoSEConstants.DEFAULT_EDGE_LENGTH = FDLayoutConstants.DEFAULT_EDGE_LENGTH = options.idealEdgeLength;\n  if (options.edgeElasticity != null) CoSEConstants.DEFAULT_SPRING_STRENGTH = FDLayoutConstants.DEFAULT_SPRING_STRENGTH = options.edgeElasticity;\n  if (options.nestingFactor != null) CoSEConstants.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR = FDLayoutConstants.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR = options.nestingFactor;\n  if (options.gravity != null) CoSEConstants.DEFAULT_GRAVITY_STRENGTH = FDLayoutConstants.DEFAULT_GRAVITY_STRENGTH = options.gravity;\n  if (options.numIter != null) CoSEConstants.MAX_ITERATIONS = FDLayoutConstants.MAX_ITERATIONS = options.numIter;\n  if (options.gravityRange != null) CoSEConstants.DEFAULT_GRAVITY_RANGE_FACTOR = FDLayoutConstants.DEFAULT_GRAVITY_RANGE_FACTOR = options.gravityRange;\n  if (options.gravityCompound != null) CoSEConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH = FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH = options.gravityCompound;\n  if (options.gravityRangeCompound != null) CoSEConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR = FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR = options.gravityRangeCompound;\n  if (options.initialEnergyOnIncremental != null) CoSEConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL = FDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL = options.initialEnergyOnIncremental;\n\n  if (options.quality == 'draft') LayoutConstants.QUALITY = 0;else if (options.quality == 'proof') LayoutConstants.QUALITY = 2;else LayoutConstants.QUALITY = 1;\n\n  CoSEConstants.NODE_DIMENSIONS_INCLUDE_LABELS = FDLayoutConstants.NODE_DIMENSIONS_INCLUDE_LABELS = LayoutConstants.NODE_DIMENSIONS_INCLUDE_LABELS = options.nodeDimensionsIncludeLabels;\n  CoSEConstants.DEFAULT_INCREMENTAL = FDLayoutConstants.DEFAULT_INCREMENTAL = LayoutConstants.DEFAULT_INCREMENTAL = !options.randomize;\n  CoSEConstants.ANIMATE = FDLayoutConstants.ANIMATE = LayoutConstants.ANIMATE = options.animate;\n  CoSEConstants.TILE = options.tile;\n  CoSEConstants.TILING_PADDING_VERTICAL = typeof options.tilingPaddingVertical === 'function' ? options.tilingPaddingVertical.call() : options.tilingPaddingVertical;\n  CoSEConstants.TILING_PADDING_HORIZONTAL = typeof options.tilingPaddingHorizontal === 'function' ? options.tilingPaddingHorizontal.call() : options.tilingPaddingHorizontal;\n};\n\n_CoSELayout.prototype.run = function () {\n  var ready;\n  var frameId;\n  var options = this.options;\n  var idToLNode = this.idToLNode = {};\n  var layout = this.layout = new CoSELayout();\n  var self = this;\n\n  self.stopped = false;\n\n  this.cy = this.options.cy;\n\n  this.cy.trigger({ type: 'layoutstart', layout: this });\n\n  var gm = layout.newGraphManager();\n  this.gm = gm;\n\n  var nodes = this.options.eles.nodes();\n  var edges = this.options.eles.edges();\n\n  this.root = gm.addRoot();\n  this.processChildrenList(this.root, this.getTopMostNodes(nodes), layout);\n\n  for (var i = 0; i < edges.length; i++) {\n    var edge = edges[i];\n    var sourceNode = this.idToLNode[edge.data(\"source\")];\n    var targetNode = this.idToLNode[edge.data(\"target\")];\n    if (sourceNode !== targetNode && sourceNode.getEdgesBetween(targetNode).length == 0) {\n      var e1 = gm.add(layout.newEdge(), sourceNode, targetNode);\n      e1.id = edge.id();\n    }\n  }\n\n  var getPositions = function getPositions(ele, i) {\n    if (typeof ele === \"number\") {\n      ele = i;\n    }\n    var theId = ele.data('id');\n    var lNode = self.idToLNode[theId];\n\n    return {\n      x: lNode.getRect().getCenterX(),\n      y: lNode.getRect().getCenterY()\n    };\n  };\n\n  /*\n   * Reposition nodes in iterations animatedly\n   */\n  var iterateAnimated = function iterateAnimated() {\n    // Thigs to perform after nodes are repositioned on screen\n    var afterReposition = function afterReposition() {\n      if (options.fit) {\n        options.cy.fit(options.eles, options.padding);\n      }\n\n      if (!ready) {\n        ready = true;\n        self.cy.one('layoutready', options.ready);\n        self.cy.trigger({ type: 'layoutready', layout: self });\n      }\n    };\n\n    var ticksPerFrame = self.options.refresh;\n    var isDone;\n\n    for (var i = 0; i < ticksPerFrame && !isDone; i++) {\n      isDone = self.stopped || self.layout.tick();\n    }\n\n    // If layout is done\n    if (isDone) {\n      // If the layout is not a sublayout and it is successful perform post layout.\n      if (layout.checkLayoutSuccess() && !layout.isSubLayout) {\n        layout.doPostLayout();\n      }\n\n      // If layout has a tilingPostLayout function property call it.\n      if (layout.tilingPostLayout) {\n        layout.tilingPostLayout();\n      }\n\n      layout.isLayoutFinished = true;\n\n      self.options.eles.nodes().positions(getPositions);\n\n      afterReposition();\n\n      // trigger layoutstop when the layout stops (e.g. finishes)\n      self.cy.one('layoutstop', self.options.stop);\n      self.cy.trigger({ type: 'layoutstop', layout: self });\n\n      if (frameId) {\n        cancelAnimationFrame(frameId);\n      }\n\n      ready = false;\n      return;\n    }\n\n    var animationData = self.layout.getPositionsData(); // Get positions of layout nodes note that all nodes may not be layout nodes because of tiling\n\n    // Position nodes, for the nodes whose id does not included in data (because they are removed from their parents and included in dummy compounds)\n    // use position of their ancestors or dummy ancestors\n    options.eles.nodes().positions(function (ele, i) {\n      if (typeof ele === \"number\") {\n        ele = i;\n      }\n      // If ele is a compound node, then its position will be defined by its children\n      if (!ele.isParent()) {\n        var theId = ele.id();\n        var pNode = animationData[theId];\n        var temp = ele;\n        // If pNode is undefined search until finding position data of its first ancestor (It may be dummy as well)\n        while (pNode == null) {\n          pNode = animationData[temp.data('parent')] || animationData['DummyCompound_' + temp.data('parent')];\n          animationData[theId] = pNode;\n          temp = temp.parent()[0];\n          if (temp == undefined) {\n            break;\n          }\n        }\n        if (pNode != null) {\n          return {\n            x: pNode.x,\n            y: pNode.y\n          };\n        } else {\n          return {\n            x: ele.position('x'),\n            y: ele.position('y')\n          };\n        }\n      }\n    });\n\n    afterReposition();\n\n    frameId = requestAnimationFrame(iterateAnimated);\n  };\n\n  /*\n  * Listen 'layoutstarted' event and start animated iteration if animate option is 'during'\n  */\n  layout.addListener('layoutstarted', function () {\n    if (self.options.animate === 'during') {\n      frameId = requestAnimationFrame(iterateAnimated);\n    }\n  });\n\n  layout.runLayout(); // Run cose layout\n\n  /*\n   * If animate option is not 'during' ('end' or false) perform these here (If it is 'during' similar things are already performed)\n   */\n  if (this.options.animate !== \"during\") {\n    self.options.eles.nodes().not(\":parent\").layoutPositions(self, self.options, getPositions); // Use layout positions to reposition the nodes it considers the options parameter\n    ready = false;\n  }\n\n  return this; // chaining\n};\n\n//Get the top most ones of a list of nodes\n_CoSELayout.prototype.getTopMostNodes = function (nodes) {\n  var nodesMap = {};\n  for (var i = 0; i < nodes.length; i++) {\n    nodesMap[nodes[i].id()] = true;\n  }\n  var roots = nodes.filter(function (ele, i) {\n    if (typeof ele === \"number\") {\n      ele = i;\n    }\n    var parent = ele.parent()[0];\n    while (parent != null) {\n      if (nodesMap[parent.id()]) {\n        return false;\n      }\n      parent = parent.parent()[0];\n    }\n    return true;\n  });\n\n  return roots;\n};\n\n_CoSELayout.prototype.processChildrenList = function (parent, children, layout) {\n  var size = children.length;\n  for (var i = 0; i < size; i++) {\n    var theChild = children[i];\n    var children_of_children = theChild.children();\n    var theNode;\n\n    var dimensions = theChild.layoutDimensions({\n      nodeDimensionsIncludeLabels: this.options.nodeDimensionsIncludeLabels\n    });\n\n    if (theChild.outerWidth() != null && theChild.outerHeight() != null) {\n      theNode = parent.add(new CoSENode(layout.graphManager, new PointD(theChild.position('x') - dimensions.w / 2, theChild.position('y') - dimensions.h / 2), new DimensionD(parseFloat(dimensions.w), parseFloat(dimensions.h))));\n    } else {\n      theNode = parent.add(new CoSENode(this.graphManager));\n    }\n    // Attach id to the layout node\n    theNode.id = theChild.data(\"id\");\n    // Attach the paddings of cy node to layout node\n    theNode.paddingLeft = parseInt(theChild.css('padding'));\n    theNode.paddingTop = parseInt(theChild.css('padding'));\n    theNode.paddingRight = parseInt(theChild.css('padding'));\n    theNode.paddingBottom = parseInt(theChild.css('padding'));\n\n    //Attach the label properties to compound if labels will be included in node dimensions  \n    if (this.options.nodeDimensionsIncludeLabels) {\n      if (theChild.isParent()) {\n        var labelWidth = theChild.boundingBox({ includeLabels: true, includeNodes: false }).w;\n        var labelHeight = theChild.boundingBox({ includeLabels: true, includeNodes: false }).h;\n        var labelPos = theChild.css(\"text-halign\");\n        theNode.labelWidth = labelWidth;\n        theNode.labelHeight = labelHeight;\n        theNode.labelPos = labelPos;\n      }\n    }\n\n    // Map the layout node\n    this.idToLNode[theChild.data(\"id\")] = theNode;\n\n    if (isNaN(theNode.rect.x)) {\n      theNode.rect.x = 0;\n    }\n\n    if (isNaN(theNode.rect.y)) {\n      theNode.rect.y = 0;\n    }\n\n    if (children_of_children != null && children_of_children.length > 0) {\n      var theNewGraph;\n      theNewGraph = layout.getGraphManager().add(layout.newGraph(), theNode);\n      this.processChildrenList(theNewGraph, children_of_children, layout);\n    }\n  }\n};\n\n/**\n * @brief : called on continuous layouts to stop them before they finish\n */\n_CoSELayout.prototype.stop = function () {\n  this.stopped = true;\n\n  return this; // chaining\n};\n\nvar register = function register(cytoscape) {\n  //  var Layout = getLayout( cytoscape );\n\n  cytoscape('layout', 'cose-bilkent', _CoSELayout);\n};\n\n// auto reg for globals\nif (typeof cytoscape !== 'undefined') {\n  register(cytoscape);\n}\n\nmodule.exports = register;\n\n/***/ })\n/******/ ]);\n});"],"names":["factory","__WEBPACK_EXTERNAL_MODULE_0__","modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","LayoutConstants","layoutBase","FDLayoutConstants","CoSEConstants","CoSELayout","CoSENode","PointD","DimensionD","defaults","ready","stop","quality","nodeDimensionsIncludeLabels","refresh","fit","padding","randomize","nodeRepulsion","idealEdgeLength","edgeElasticity","nestingFactor","gravity","numIter","tile","animate","animationDuration","tilingPaddingVertical","tilingPaddingHorizontal","gravityRangeCompound","gravityCompound","gravityRange","initialEnergyOnIncremental","_CoSELayout","_options","this","options","obj","extend","getUserOptions","DEFAULT_REPULSION_STRENGTH","DEFAULT_EDGE_LENGTH","DEFAULT_SPRING_STRENGTH","PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR","DEFAULT_GRAVITY_STRENGTH","MAX_ITERATIONS","DEFAULT_GRAVITY_RANGE_FACTOR","DEFAULT_COMPOUND_GRAVITY_STRENGTH","DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR","DEFAULT_COOLING_FACTOR_INCREMENTAL","QUALITY","NODE_DIMENSIONS_INCLUDE_LABELS","DEFAULT_INCREMENTAL","ANIMATE","TILE","TILING_PADDING_VERTICAL","TILING_PADDING_HORIZONTAL","run","frameId","idToLNode","layout","self","stopped","cy","trigger","type","gm","newGraphManager","nodes","eles","edges","root","addRoot","processChildrenList","getTopMostNodes","length","edge","sourceNode","data","targetNode","getEdgesBetween","add","newEdge","id","getPositions","ele","theId","lNode","x","getRect","getCenterX","y","getCenterY","iterateAnimated","isDone","afterReposition","one","ticksPerFrame","tick","checkLayoutSuccess","isSubLayout","doPostLayout","tilingPostLayout","isLayoutFinished","positions","cancelAnimationFrame","animationData","getPositionsData","isParent","pNode","temp","undefined","parent","position","requestAnimationFrame","addListener","runLayout","not","layoutPositions","nodesMap","roots","filter","children","size","theNode","theNewGraph","theChild","children_of_children","dimensions","layoutDimensions","outerWidth","outerHeight","graphManager","w","h","parseFloat","paddingLeft","parseInt","css","paddingTop","paddingRight","paddingBottom","labelWidth","boundingBox","includeLabels","includeNodes","labelHeight","labelPos","isNaN","rect","getGraphManager","newGraph","register","cytoscape","require$$0"],"mappings":"oPAAiDA,IASxC,SAASC,GAClB,OAAgB,SAAUC,GAEhB,IAAIC,EAAmB,CAAA,EAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,CAAE,GAUZ,OANAJ,EAAQG,GAAUK,KAAKH,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,OACd,CAuCD,OAnCAF,EAAoBO,EAAIT,EAGxBE,EAAoBQ,EAAIT,EAGxBC,EAAoBI,EAAI,SAASK,GAAS,OAAOA,CAAM,EAGvDT,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CACpCK,cAAc,EACdC,YAAY,EACZC,IAAKN,GAGlB,EAGUZ,EAAoBmB,EAAI,SAAShB,GAChC,IAAIS,EAAST,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAgB,OAAI,EACnD,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,CAClB,EAGUZ,EAAoBa,EAAI,SAASQ,EAAQC,GAAY,OAAOR,OAAOS,UAAUC,eAAelB,KAAKe,EAAQC,EAAU,EAGnHtB,EAAoByB,EAAI,GAGjBzB,EAAoBA,EAAoB0B,EAAI,EACnD,CAlEM,CAoEN,CAEV,SAAgBvB,EAAQD,GAExBC,EAAOD,QAAUL,CAEV,EAEP,SAAgBM,EAAQD,EAASF,GAKjC,IAAI2B,EAAkB3B,EAAoB,GAAG4B,WAAWD,gBACpDE,EAAoB7B,EAAoB,GAAG4B,WAAWC,kBACtDC,EAAgB9B,EAAoB,GAAG8B,cACvCC,EAAa/B,EAAoB,GAAG+B,WACpCC,EAAWhC,EAAoB,GAAGgC,SAClCC,EAASjC,EAAoB,GAAG4B,WAAWK,OAC3CC,EAAalC,EAAoB,GAAG4B,WAAWM,WAE/CC,EAAW,CAEbC,MAAO,WAAmB,EAE1BC,KAAM,WAAkB,EAKxBC,QAAS,UAETC,6BAA6B,EAE7BC,QAAS,GAETC,KAAK,EAELC,QAAS,GAETC,WAAW,EAEXC,cAAe,KAEfC,gBAAiB,GAEjBC,eAAgB,IAEhBC,cAAe,GAEfC,QAAS,IAETC,QAAS,KAETC,MAAM,EAENC,QAAS,MAETC,kBAAmB,IAEnBC,sBAAuB,GAEvBC,wBAAyB,GAEzBC,qBAAsB,IAEtBC,gBAAiB,EAEjBC,aAAc,IAEdC,2BAA4B,IAiB9B,SAASC,EAAYC,GACnBC,KAAKC,QAfP,SAAgB3B,EAAU2B,GACxB,IAAIC,EAAM,CAAA,EAEV,IAAK,IAAI3D,KAAK+B,EACZ4B,EAAI3D,GAAK+B,EAAS/B,GAGpB,IAAK,IAAIA,KAAK0D,EACZC,EAAI3D,GAAK0D,EAAQ1D,GAGnB,OAAO2D,CACT,CAGiBC,CAAO7B,EAAUyB,GAChCK,EAAeJ,KAAKC,QACtB,CAEA,IAAIG,EAAiB,SAAwBH,GACd,MAAzBA,EAAQlB,gBAAuBd,EAAcoC,2BAA6BrC,EAAkBqC,2BAA6BJ,EAAQlB,eACtG,MAA3BkB,EAAQjB,kBAAyBf,EAAcqC,oBAAsBtC,EAAkBsC,oBAAsBL,EAAQjB,iBAC3F,MAA1BiB,EAAQhB,iBAAwBhB,EAAcsC,wBAA0BvC,EAAkBuC,wBAA0BN,EAAQhB,gBACnG,MAAzBgB,EAAQf,gBAAuBjB,EAAcuC,mCAAqCxC,EAAkBwC,mCAAqCP,EAAQf,eAC9H,MAAnBe,EAAQd,UAAiBlB,EAAcwC,yBAA2BzC,EAAkByC,yBAA2BR,EAAQd,SACpG,MAAnBc,EAAQb,UAAiBnB,EAAcyC,eAAiB1C,EAAkB0C,eAAiBT,EAAQb,SAC3E,MAAxBa,EAAQL,eAAsB3B,EAAc0C,6BAA+B3C,EAAkB2C,6BAA+BV,EAAQL,cACzG,MAA3BK,EAAQN,kBAAyB1B,EAAc2C,kCAAoC5C,EAAkB4C,kCAAoCX,EAAQN,iBACjH,MAAhCM,EAAQP,uBAA8BzB,EAAc4C,sCAAwC7C,EAAkB6C,sCAAwCZ,EAAQP,sBACxH,MAAtCO,EAAQJ,6BAAoC5B,EAAc6C,mCAAqC9C,EAAkB8C,mCAAqCb,EAAQJ,4BAE3I,SAAnBI,EAAQxB,QAAoBX,EAAgBiD,QAAU,EAA8B,SAAnBd,EAAQxB,QAAoBX,EAAgBiD,QAAU,EAAOjD,EAAgBiD,QAAU,EAE5J9C,EAAc+C,+BAAiChD,EAAkBgD,+BAAiClD,EAAgBkD,+BAAiCf,EAAQvB,4BAC3JT,EAAcgD,oBAAsBjD,EAAkBiD,oBAAsBnD,EAAgBmD,qBAAuBhB,EAAQnB,UAC3Hb,EAAciD,QAAUlD,EAAkBkD,QAAUpD,EAAgBoD,QAAUjB,EAAQX,QACtFrB,EAAckD,KAAOlB,EAAQZ,KAC7BpB,EAAcmD,wBAAmE,mBAAlCnB,EAAQT,sBAAuCS,EAAQT,sBAAsB/C,OAASwD,EAAQT,sBAC7IvB,EAAcoD,0BAAuE,mBAApCpB,EAAQR,wBAAyCQ,EAAQR,wBAAwBhD,OAASwD,EAAQR,uBACrJ,EAEAK,EAAYpC,UAAU4D,IAAM,WAC1B,IAAI/C,EACAgD,EACAtB,EAAUD,KAAKC,QACHD,KAAKwB,UAAY,CAAG,EACpC,IAAIC,EAASzB,KAAKyB,OAAS,IAAIvD,EAC3BwD,EAAO1B,KAEX0B,EAAKC,SAAU,EAEf3B,KAAK4B,GAAK5B,KAAKC,QAAQ2B,GAEvB5B,KAAK4B,GAAGC,QAAQ,CAAEC,KAAM,cAAeL,OAAQzB,OAE/C,IAAI+B,EAAKN,EAAOO,kBAChBhC,KAAK+B,GAAKA,EAEV,IAAIE,EAAQjC,KAAKC,QAAQiC,KAAKD,QAC1BE,EAAQnC,KAAKC,QAAQiC,KAAKC,QAE9BnC,KAAKoC,KAAOL,EAAGM,UACfrC,KAAKsC,oBAAoBtC,KAAKoC,KAAMpC,KAAKuC,gBAAgBN,GAAQR,GAEjE,IAAK,IAAIlF,EAAI,EAAGA,EAAI4F,EAAMK,OAAQjG,IAAK,CACrC,IAAIkG,EAAON,EAAM5F,GACbmG,EAAa1C,KAAKwB,UAAUiB,EAAKE,KAAK,WACtCC,EAAa5C,KAAKwB,UAAUiB,EAAKE,KAAK,WACtCD,IAAeE,GAA+D,GAAjDF,EAAWG,gBAAgBD,GAAYJ,SAC7DT,EAAGe,IAAIrB,EAAOsB,UAAWL,EAAYE,GAC3CI,GAAKP,EAAKO,KAEhB,CAED,IAAIC,EAAe,SAAsBC,EAAK3G,GACzB,iBAAR2G,IACTA,EAAM3G,GAER,IAAI4G,EAAQD,EAAIP,KAAK,MACjBS,EAAQ1B,EAAKF,UAAU2B,GAE3B,MAAO,CACLE,EAAGD,EAAME,UAAUC,aACnBC,EAAGJ,EAAME,UAAUG,aAEzB,EAKMC,EAAkB,SAASA,IAiB7B,IAfA,IAaIC,EAbAC,EAAkB,WAChB3D,EAAQrB,KACVqB,EAAQ2B,GAAGhD,IAAIqB,EAAQiC,KAAMjC,EAAQpB,SAGlCN,IACHA,GAAQ,EACRmD,EAAKE,GAAGiC,IAAI,cAAe5D,EAAQ1B,OACnCmD,EAAKE,GAAGC,QAAQ,CAAEC,KAAM,cAAeL,OAAQC,IAEvD,EAEQoC,EAAgBpC,EAAKzB,QAAQtB,QAGxBpC,EAAI,EAAGA,EAAIuH,IAAkBH,EAAQpH,IAC5CoH,EAASjC,EAAKC,SAAWD,EAAKD,OAAOsC,OAIvC,GAAIJ,EA0BF,OAxBIlC,EAAOuC,uBAAyBvC,EAAOwC,aACzCxC,EAAOyC,eAILzC,EAAO0C,kBACT1C,EAAO0C,mBAGT1C,EAAO2C,kBAAmB,EAE1B1C,EAAKzB,QAAQiC,KAAKD,QAAQoC,UAAUpB,GAEpCW,IAGAlC,EAAKE,GAAGiC,IAAI,aAAcnC,EAAKzB,QAAQzB,MACvCkD,EAAKE,GAAGC,QAAQ,CAAEC,KAAM,aAAcL,OAAQC,IAE1CH,GACF+C,qBAAqB/C,QAGvBhD,GAAQ,GAIV,IAAIgG,EAAgB7C,EAAKD,OAAO+C,mBAIhCvE,EAAQiC,KAAKD,QAAQoC,WAAU,SAAUnB,EAAK3G,GAK5C,GAJmB,iBAAR2G,IACTA,EAAM3G,IAGH2G,EAAIuB,WAAY,CAKnB,IAJA,IAAItB,EAAQD,EAAIF,KACZ0B,EAAQH,EAAcpB,GACtBwB,EAAOzB,EAEK,MAATwB,IACLA,EAAQH,EAAcI,EAAKhC,KAAK,YAAc4B,EAAc,iBAAmBI,EAAKhC,KAAK,WACzF4B,EAAcpB,GAASuB,EAEXE,OADZD,EAAOA,EAAKE,SAAS,OAKvB,OAAa,MAATH,EACK,CACLrB,EAAGqB,EAAMrB,EACTG,EAAGkB,EAAMlB,GAGJ,CACLH,EAAGH,EAAI4B,SAAS,KAChBtB,EAAGN,EAAI4B,SAAS,KAGrB,CACP,IAEIlB,IAEArC,EAAUwD,sBAAsBrB,EACpC,EAqBE,OAhBAjC,EAAOuD,YAAY,iBAAiB,WACL,WAAzBtD,EAAKzB,QAAQX,UACfiC,EAAUwD,sBAAsBrB,GAEtC,IAEEjC,EAAOwD,YAKsB,WAAzBjF,KAAKC,QAAQX,UACfoC,EAAKzB,QAAQiC,KAAKD,QAAQiD,IAAI,WAAWC,gBAAgBzD,EAAMA,EAAKzB,QAASgD,GAC7E1E,GAAQ,GAGHyB,IACT,EAGAF,EAAYpC,UAAU6E,gBAAkB,SAAUN,GAEhD,IADA,IAAImD,EAAW,CAAA,EACN7I,EAAI,EAAGA,EAAI0F,EAAMO,OAAQjG,IAChC6I,EAASnD,EAAM1F,GAAGyG,OAAQ,EAE5B,IAAIqC,EAAQpD,EAAMqD,QAAO,SAAUpC,EAAK3G,GACnB,iBAAR2G,IACTA,EAAM3G,GAGR,IADA,IAAIsI,EAAS3B,EAAI2B,SAAS,GACT,MAAVA,GAAgB,CACrB,GAAIO,EAASP,EAAO7B,MAClB,OAAO,EAET6B,EAASA,EAAOA,SAAS,EAC1B,CACD,OAAO,CACX,IAEE,OAAOQ,CACT,EAEAvF,EAAYpC,UAAU4E,oBAAsB,SAAUuC,EAAQU,EAAU9D,GAEtE,IADA,IAAI+D,EAAOD,EAAS/C,OACXjG,EAAI,EAAGA,EAAIiJ,EAAMjJ,IAAK,CAC7B,IAEIkJ,EA2CEC,EA7CFC,EAAWJ,EAAShJ,GACpBqJ,EAAuBD,EAASJ,WAGhCM,EAAaF,EAASG,iBAAiB,CACzCpH,4BAA6BsB,KAAKC,QAAQvB,8BAiB5C,IAbE+G,EAD2B,MAAzBE,EAASI,cAAkD,MAA1BJ,EAASK,cAClCnB,EAAO/B,IAAI,IAAI3E,EAASsD,EAAOwE,aAAc,IAAI7H,EAAOuH,EAASb,SAAS,KAAOe,EAAWK,EAAI,EAAGP,EAASb,SAAS,KAAOe,EAAWM,EAAI,GAAI,IAAI9H,EAAW+H,WAAWP,EAAWK,GAAIE,WAAWP,EAAWM,MAE9MtB,EAAO/B,IAAI,IAAI3E,EAAS6B,KAAKiG,gBAGjCjD,GAAK2C,EAAShD,KAAK,MAE3B8C,EAAQY,YAAcC,SAASX,EAASY,IAAI,YAC5Cd,EAAQe,WAAaF,SAASX,EAASY,IAAI,YAC3Cd,EAAQgB,aAAeH,SAASX,EAASY,IAAI,YAC7Cd,EAAQiB,cAAgBJ,SAASX,EAASY,IAAI,YAG1CvG,KAAKC,QAAQvB,6BACXiH,EAASlB,WAAY,CACvB,IAAIkC,EAAahB,EAASiB,YAAY,CAAEC,eAAe,EAAMC,cAAc,IAASZ,EAChFa,EAAcpB,EAASiB,YAAY,CAAEC,eAAe,EAAMC,cAAc,IAASX,EACjFa,EAAWrB,EAASY,IAAI,eAC5Bd,EAAQkB,WAAaA,EACrBlB,EAAQsB,YAAcA,EACtBtB,EAAQuB,SAAWA,CACpB,CAIHhH,KAAKwB,UAAUmE,EAAShD,KAAK,OAAS8C,EAElCwB,MAAMxB,EAAQyB,KAAK7D,KACrBoC,EAAQyB,KAAK7D,EAAI,GAGf4D,MAAMxB,EAAQyB,KAAK1D,KACrBiC,EAAQyB,KAAK1D,EAAI,GAGS,MAAxBoC,GAAgCA,EAAqBpD,OAAS,IAEhEkD,EAAcjE,EAAO0F,kBAAkBrE,IAAIrB,EAAO2F,WAAY3B,GAC9DzF,KAAKsC,oBAAoBoD,EAAaE,EAAsBnE,GAE/D,CACH,EAKA3B,EAAYpC,UAAUc,KAAO,WAG3B,OAFAwB,KAAK2B,SAAU,EAER3B,IACT,EAEA,IAAIqH,EAAW,SAAkBC,GAG/BA,EAAU,SAAU,eAAgBxH,EACtC,EAGyB,oBAAdwH,WACTD,EAASC,WAGXhL,EAAOD,QAAUgL,CAEV,GAEP,IAvcmBhL,QAAAN,EAAQwL,EAAAA"}