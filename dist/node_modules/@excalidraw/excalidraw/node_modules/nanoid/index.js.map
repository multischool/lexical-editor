{"version":3,"file":"index.js","sources":["../../../../../../node_modules/@excalidraw/excalidraw/node_modules/nanoid/index.js"],"sourcesContent":["import crypto from 'crypto'\nimport { urlAlphabet } from './url-alphabet/index.js'\nconst POOL_SIZE_MULTIPLIER = 128\nlet pool, poolOffset\nlet fillPool = bytes => {\n  if (!pool || pool.length < bytes) {\n    pool = Buffer.allocUnsafe(bytes * POOL_SIZE_MULTIPLIER)\n    crypto.randomFillSync(pool)\n    poolOffset = 0\n  } else if (poolOffset + bytes > pool.length) {\n    crypto.randomFillSync(pool)\n    poolOffset = 0\n  }\n  poolOffset += bytes\n}\nlet random = bytes => {\n  fillPool((bytes -= 0))\n  return pool.subarray(poolOffset - bytes, poolOffset)\n}\nlet customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (31 - Math.clz32((alphabet.length - 1) | 1))) - 1\n  let step = Math.ceil((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let i = step\n      while (i--) {\n        id += alphabet[bytes[i] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nlet customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nlet nanoid = (size = 21) => {\n  fillPool((size -= 0))\n  let id = ''\n  for (let i = poolOffset - size; i < poolOffset; i++) {\n    id += urlAlphabet[pool[i] & 63]\n  }\n  return id\n}\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n"],"names":["pool","poolOffset","nanoid","size","bytes","length","Buffer","allocUnsafe","crypto","randomFillSync","id","i","urlAlphabet"],"mappings":"6HAGA,IAAIA,EAAMC,EAiCNC,EAAS,CAACC,EAAO,MAhCNC,QAiCHD,GAAQ,GAhCbH,GAAQA,EAAKK,OAASD,GACzBJ,EAAOM,OAAOC,YAJW,IAICH,GAC1BI,EAAOC,eAAeT,GACtBC,EAAa,GACJA,EAAaG,EAAQJ,EAAKK,SACnCG,EAAOC,eAAeT,GACtBC,EAAa,GAEfA,GAAcG,EAyBd,IAAIM,EAAK,GACT,IAAK,IAAIC,EAAIV,EAAaE,EAAMQ,EAAIV,EAAYU,IAC9CD,GAAME,EAAsB,GAAVZ,EAAKW,IAEzB,OAAOD"}