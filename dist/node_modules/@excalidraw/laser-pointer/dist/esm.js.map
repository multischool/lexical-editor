{"version":3,"file":"esm.js","sources":["../../../../../node_modules/@excalidraw/laser-pointer/dist/esm.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\nvar $94cfa2cfccc8cc22$exports = {};\n\n$parcel$export($94cfa2cfccc8cc22$exports, \"LaserPointer\", () => $94cfa2cfccc8cc22$export$6531021b3bf36eae);\nfunction $8cd7efb5af385306$export$e16d8520af44a096([ax, ay, ar], [bx, by, br]) {\n    return [\n        ax + bx,\n        ay + by,\n        ar + br\n    ];\n}\nfunction $8cd7efb5af385306$export$f93b5905241a7cca([ax, ay, ar], [bx, by, br]) {\n    return [\n        ax - bx,\n        ay - by,\n        ar - br\n    ];\n}\nfunction $8cd7efb5af385306$export$1c8884ee32bdf443([x, y, r], s) {\n    return [\n        x * s,\n        y * s,\n        r * s\n    ];\n}\nfunction $8cd7efb5af385306$export$1991ecd29cc92c6b([x, y, r]) {\n    return [\n        x / Math.sqrt(x ** 2 + y ** 2),\n        y / Math.sqrt(x ** 2 + y ** 2),\n        r\n    ];\n}\nfunction $8cd7efb5af385306$export$855df823ceb9b81b([x, y, r], rad) {\n    return [\n        Math.cos(rad) * x - Math.sin(rad) * y,\n        Math.sin(rad) * x + Math.cos(rad) * y,\n        r\n    ];\n}\nfunction $8cd7efb5af385306$export$92d8e23769117a5e(a, b, t) {\n    return $8cd7efb5af385306$export$e16d8520af44a096(a, $8cd7efb5af385306$export$1c8884ee32bdf443($8cd7efb5af385306$export$f93b5905241a7cca(b, a), t));\n}\nfunction $8cd7efb5af385306$export$3a89f8d6f6bf6c9f(a, b, t) {\n    return a + (b - a) * t;\n}\nfunction $8cd7efb5af385306$export$944b09d2ad10b378(p, p1, p2) {\n    return Math.atan2(p2[1] - p[1], p2[0] - p[0]) - Math.atan2(p1[1] - p[1], p1[0] - p[0]);\n}\nfunction $8cd7efb5af385306$export$3c05aaf71f141f73(a) {\n    return Math.atan2(Math.sin(a), Math.cos(a));\n}\nfunction $8cd7efb5af385306$export$1b9bab504faa9305([x, y]) {\n    return Math.sqrt(x ** 2 + y ** 2);\n}\nfunction $8cd7efb5af385306$export$6c4a311cc157c764([ax, ay], [bx, by]) {\n    return Math.sqrt((bx - ax) ** 2 + (by - ay) ** 2);\n}\nfunction $8cd7efb5af385306$export$46f6d3e1b4bd7c8b(point, direction, radius) {\n    return [\n        $8cd7efb5af385306$export$e16d8520af44a096(point, $8cd7efb5af385306$export$1c8884ee32bdf443($8cd7efb5af385306$export$1991ecd29cc92c6b($8cd7efb5af385306$export$855df823ceb9b81b(direction, Math.PI / 2)), radius)),\n        $8cd7efb5af385306$export$e16d8520af44a096(point, $8cd7efb5af385306$export$1c8884ee32bdf443($8cd7efb5af385306$export$1991ecd29cc92c6b($8cd7efb5af385306$export$855df823ceb9b81b(direction, -Math.PI / 2)), radius))\n    ];\n}\nfunction $8cd7efb5af385306$export$ccb1b4dfbd3f36a7(ps) {\n    if (ps.length < 2) return 0;\n    let len = 0;\n    for(let i = 1; i <= ps.length - 1; i++)len += $8cd7efb5af385306$export$6c4a311cc157c764(ps[i - 1], ps[i]);\n    len += $8cd7efb5af385306$export$6c4a311cc157c764(ps[ps.length - 2], ps[ps.length - 1]);\n    return len;\n}\nconst $8cd7efb5af385306$export$7d15b64cf5a3a4c4 = (v, min, max)=>Math.max(min, Math.min(max, v));\nfunction $8cd7efb5af385306$export$548cc43590159af6(p3, p1, p2) {\n    const sMag = $8cd7efb5af385306$export$6c4a311cc157c764(p1, p2);\n    if (sMag === 0) return $8cd7efb5af385306$export$6c4a311cc157c764(p3, p1);\n    const u = $8cd7efb5af385306$export$7d15b64cf5a3a4c4(((p3[0] - p1[0]) * (p2[0] - p1[0]) + (p3[1] - p1[1]) * (p2[1] - p1[1])) / sMag ** 2, 0, 1);\n    const pi = [\n        p1[0] + u * (p2[0] - p1[0]),\n        p1[1] + u * (p2[1] - p1[1]),\n        p3[2]\n    ];\n    return $8cd7efb5af385306$export$6c4a311cc157c764(pi, p3);\n}\n\n\n\nfunction $34bab0059f842ce6$export$ef693d1572e64fb8(points, epsilon) {\n    if (epsilon === 0) return points;\n    if (points.length <= 2) return points;\n    const first = points[0];\n    const last = points[points.length - 1];\n    const [maxDistance, maxIndex] = points.reduce(([maxDistance, maxIndex], point, index)=>{\n        const distance = (0, $8cd7efb5af385306$export$548cc43590159af6)(point, first, last);\n        return distance > maxDistance ? [\n            distance,\n            index\n        ] : [\n            maxDistance,\n            maxIndex\n        ];\n    }, [\n        0,\n        -1\n    ]);\n    if (maxDistance >= epsilon) {\n        const maxIndexPoint = points[maxIndex];\n        return [\n            ...$34bab0059f842ce6$export$ef693d1572e64fb8([\n                first,\n                ...points.slice(1, maxIndex),\n                maxIndexPoint\n            ], epsilon).slice(0, -1),\n            maxIndexPoint,\n            ...$34bab0059f842ce6$export$ef693d1572e64fb8([\n                maxIndexPoint,\n                ...points.slice(maxIndex, -1),\n                last\n            ], epsilon).slice(1)\n        ];\n    } else return [\n        first,\n        last\n    ];\n}\n\n\nclass $94cfa2cfccc8cc22$export$6531021b3bf36eae {\n    static{\n        this.defaults = {\n            size: 2,\n            streamline: 0.45,\n            simplify: 0.1,\n            simplifyPhase: \"output\",\n            keepHead: false,\n            sizeMapping: ()=>1\n        };\n    }\n    static{\n        this.constants = {\n            cornerDetectionMaxAngle: 75,\n            cornerDetectionVariance: (s)=>s > 35 ? 0.5 : 1,\n            maxTailLength: 50\n        };\n    }\n    constructor(options){\n        this.originalPoints = [];\n        this.stablePoints = [];\n        this.tailPoints = [];\n        this.isFresh = true;\n        this.options = Object.assign({}, $94cfa2cfccc8cc22$export$6531021b3bf36eae.defaults, options);\n    }\n    get lastPoint() {\n        return this.tailPoints[this.tailPoints.length - 1] ?? this.stablePoints[this.stablePoints.length - 1];\n    }\n    addPoint(point) {\n        const lastPoint = this.originalPoints[this.originalPoints.length - 1];\n        if (lastPoint && lastPoint[0] === point[0] && lastPoint[1] === point[1]) return;\n        this.originalPoints.push(point);\n        if (this.isFresh) {\n            this.isFresh = false;\n            this.stablePoints.push(point);\n            return;\n        }\n        if (this.options.streamline > 0) point = $8cd7efb5af385306$export$92d8e23769117a5e(this.lastPoint, point, 1 - this.options.streamline);\n        this.tailPoints.push(point);\n        if ($8cd7efb5af385306$export$ccb1b4dfbd3f36a7(this.tailPoints) > $94cfa2cfccc8cc22$export$6531021b3bf36eae.constants.maxTailLength) this.stabilizeTail();\n    }\n    close() {\n        this.stabilizeTail();\n    }\n    stabilizeTail() {\n        if (this.options.simplify > 0 && this.options.simplifyPhase == \"tail\") throw new Error(\"Not implemented yet\");\n        else {\n            this.stablePoints.push(...this.tailPoints);\n            this.tailPoints = [];\n        }\n    }\n    getSize(sizeOverride, pressure, index, totalLength, runningLength) {\n        return (sizeOverride ?? this.options.size) * this.options.sizeMapping({\n            pressure: pressure,\n            runningLength: runningLength,\n            currentIndex: index,\n            totalLength: totalLength\n        });\n    }\n    getStrokeOutline(sizeOverride) {\n        if (this.isFresh) return [];\n        let points = [\n            ...this.stablePoints,\n            ...this.tailPoints\n        ];\n        if (this.options.simplify > 0 && this.options.simplifyPhase === \"input\") points = (0, $34bab0059f842ce6$export$ef693d1572e64fb8)(points, this.options.simplify);\n        const len = points.length;\n        if (len === 0) return [];\n        if (len === 1) {\n            const c = points[0];\n            const size = this.getSize(sizeOverride, c[2], 0, len, 0);\n            if (size < 0.5) return [];\n            const ps = [];\n            for(let theta = 0; theta <= Math.PI * 2; theta += Math.PI / 16)ps.push($8cd7efb5af385306$export$e16d8520af44a096(c, $8cd7efb5af385306$export$1c8884ee32bdf443($8cd7efb5af385306$export$855df823ceb9b81b([\n                1,\n                0,\n                0\n            ], theta), size)));\n            ps.push($8cd7efb5af385306$export$e16d8520af44a096(c, $8cd7efb5af385306$export$1c8884ee32bdf443([\n                1,\n                0,\n                0\n            ], this.getSize(sizeOverride, c[2], 0, len, 0))));\n            return ps;\n        }\n        if (len === 2) {\n            const c = points[0];\n            const n = points[1];\n            const cSize = this.getSize(sizeOverride, c[2], 0, len, 0);\n            const nSize = this.getSize(sizeOverride, n[2], 0, len, 0);\n            if (cSize < 0.5 || nSize < 0.5) return [];\n            const ps = [];\n            const pAngle = $8cd7efb5af385306$export$944b09d2ad10b378(c, [\n                c[0],\n                c[1] - 100,\n                c[2]\n            ], n);\n            for(let theta = pAngle; theta <= Math.PI + pAngle; theta += Math.PI / 16)ps.push($8cd7efb5af385306$export$e16d8520af44a096(c, $8cd7efb5af385306$export$1c8884ee32bdf443($8cd7efb5af385306$export$855df823ceb9b81b([\n                1,\n                0,\n                0\n            ], theta), cSize)));\n            for(let theta = Math.PI + pAngle; theta <= Math.PI * 2 + pAngle; theta += Math.PI / 16)ps.push($8cd7efb5af385306$export$e16d8520af44a096(n, $8cd7efb5af385306$export$1c8884ee32bdf443($8cd7efb5af385306$export$855df823ceb9b81b([\n                1,\n                0,\n                0\n            ], theta), nSize)));\n            ps.push(ps[0]);\n            return ps;\n        }\n        const forwardPoints = [];\n        const backwardPoints = [];\n        let speed = 0;\n        let prevSpeed = 0;\n        let visibleStartIndex = 0;\n        let runningLength = 0;\n        for(let i = 1; i < len - 1; i++){\n            const p = points[i - 1], c = points[i], n = points[i + 1];\n            let pressure = c[2];\n            const d = $8cd7efb5af385306$export$6c4a311cc157c764(p, c);\n            runningLength += d;\n            speed = prevSpeed + (d - prevSpeed) * 0.2;\n            const cSize = this.getSize(sizeOverride, pressure, i, len, runningLength);\n            if (cSize === 0) {\n                visibleStartIndex = i + 1;\n                continue;\n            }\n            const dirPC = $8cd7efb5af385306$export$1991ecd29cc92c6b($8cd7efb5af385306$export$f93b5905241a7cca(p, c));\n            const dirNC = $8cd7efb5af385306$export$1991ecd29cc92c6b($8cd7efb5af385306$export$f93b5905241a7cca(n, c));\n            const p1dirPC = $8cd7efb5af385306$export$855df823ceb9b81b(dirPC, Math.PI / 2);\n            const p2dirPC = $8cd7efb5af385306$export$855df823ceb9b81b(dirPC, -Math.PI / 2);\n            const p1dirNC = $8cd7efb5af385306$export$855df823ceb9b81b(dirNC, Math.PI / 2);\n            const p2dirNC = $8cd7efb5af385306$export$855df823ceb9b81b(dirNC, -Math.PI / 2);\n            const p1PC = $8cd7efb5af385306$export$e16d8520af44a096(c, $8cd7efb5af385306$export$1c8884ee32bdf443(p1dirPC, cSize));\n            const p2PC = $8cd7efb5af385306$export$e16d8520af44a096(c, $8cd7efb5af385306$export$1c8884ee32bdf443(p2dirPC, cSize));\n            const p1NC = $8cd7efb5af385306$export$e16d8520af44a096(c, $8cd7efb5af385306$export$1c8884ee32bdf443(p1dirNC, cSize));\n            const p2NC = $8cd7efb5af385306$export$e16d8520af44a096(c, $8cd7efb5af385306$export$1c8884ee32bdf443(p2dirNC, cSize));\n            const ftdir = $8cd7efb5af385306$export$e16d8520af44a096(p1dirPC, p2dirNC);\n            const btdir = $8cd7efb5af385306$export$e16d8520af44a096(p2dirPC, p1dirNC);\n            const paPC = $8cd7efb5af385306$export$e16d8520af44a096(c, $8cd7efb5af385306$export$1c8884ee32bdf443($8cd7efb5af385306$export$1b9bab504faa9305(ftdir) === 0 ? dirPC : $8cd7efb5af385306$export$1991ecd29cc92c6b(ftdir), cSize));\n            const paNC = $8cd7efb5af385306$export$e16d8520af44a096(c, $8cd7efb5af385306$export$1c8884ee32bdf443($8cd7efb5af385306$export$1b9bab504faa9305(btdir) === 0 ? dirNC : $8cd7efb5af385306$export$1991ecd29cc92c6b(btdir), cSize));\n            const cAngle = $8cd7efb5af385306$export$3c05aaf71f141f73($8cd7efb5af385306$export$944b09d2ad10b378(c, p, n));\n            const D_ANGLE = $94cfa2cfccc8cc22$export$6531021b3bf36eae.constants.cornerDetectionMaxAngle / 180 * Math.PI * $94cfa2cfccc8cc22$export$6531021b3bf36eae.constants.cornerDetectionVariance(speed);\n            if (Math.abs(cAngle) < D_ANGLE) {\n                const tAngle = Math.abs($8cd7efb5af385306$export$3c05aaf71f141f73(Math.PI - cAngle)) // turn angle\n                ;\n                if (tAngle === 0) continue;\n                if (cAngle < 0) {\n                    backwardPoints.push(p2PC, paNC);\n                    for(let theta = 0; theta <= tAngle; theta += tAngle / 4)forwardPoints.push($8cd7efb5af385306$export$e16d8520af44a096(c, $8cd7efb5af385306$export$855df823ceb9b81b($8cd7efb5af385306$export$1c8884ee32bdf443(p1dirPC, cSize), theta)));\n                    for(let theta = tAngle; theta >= 0; theta -= tAngle / 4)backwardPoints.push($8cd7efb5af385306$export$e16d8520af44a096(c, $8cd7efb5af385306$export$855df823ceb9b81b($8cd7efb5af385306$export$1c8884ee32bdf443(p1dirPC, cSize), theta)));\n                    backwardPoints.push(paNC, p1NC);\n                } else {\n                    forwardPoints.push(p1PC, paPC);\n                    for(let theta = 0; theta <= tAngle; theta += tAngle / 4)backwardPoints.push($8cd7efb5af385306$export$e16d8520af44a096(c, $8cd7efb5af385306$export$855df823ceb9b81b($8cd7efb5af385306$export$1c8884ee32bdf443(p1dirPC, -cSize), -theta)));\n                    for(let theta = tAngle; theta >= 0; theta -= tAngle / 4)forwardPoints.push($8cd7efb5af385306$export$e16d8520af44a096(c, $8cd7efb5af385306$export$855df823ceb9b81b($8cd7efb5af385306$export$1c8884ee32bdf443(p1dirPC, -cSize), -theta)));\n                    forwardPoints.push(paPC, p2NC);\n                }\n            } else {\n                forwardPoints.push(paPC);\n                backwardPoints.push(paNC);\n            }\n            prevSpeed = speed;\n        }\n        if (visibleStartIndex >= len - 2) {\n            if (this.options.keepHead) {\n                const c = points[len - 1];\n                const ps = [];\n                for(let theta = 0; theta <= Math.PI * 2; theta += Math.PI / 16)ps.push($8cd7efb5af385306$export$e16d8520af44a096(c, $8cd7efb5af385306$export$1c8884ee32bdf443($8cd7efb5af385306$export$855df823ceb9b81b([\n                    1,\n                    0,\n                    0\n                ], theta), this.options.size)));\n                ps.push($8cd7efb5af385306$export$e16d8520af44a096(c, $8cd7efb5af385306$export$1c8884ee32bdf443([\n                    1,\n                    0,\n                    0\n                ], this.options.size)));\n                return ps;\n            } else return [];\n        }\n        const first = points[visibleStartIndex];\n        const second = points[visibleStartIndex + 1];\n        const penultimate = points[len - 2];\n        const ultimate = points[len - 1];\n        const dirFS = $8cd7efb5af385306$export$1991ecd29cc92c6b($8cd7efb5af385306$export$f93b5905241a7cca(second, first));\n        const dirPU = $8cd7efb5af385306$export$1991ecd29cc92c6b($8cd7efb5af385306$export$f93b5905241a7cca(penultimate, ultimate));\n        const ppdirFS = $8cd7efb5af385306$export$855df823ceb9b81b(dirFS, -Math.PI / 2);\n        const ppdirPU = $8cd7efb5af385306$export$855df823ceb9b81b(dirPU, Math.PI / 2);\n        const startCapSize = this.getSize(sizeOverride, first[2], 0, len, 0);\n        const startCap = [];\n        const endCapSize = this.options.keepHead ? this.options.size : this.getSize(sizeOverride, penultimate[2], len - 2, len, runningLength);\n        const endCap = [];\n        if (startCapSize > 1) {\n            for(let theta = 0; theta <= Math.PI; theta += Math.PI / 16)startCap.unshift($8cd7efb5af385306$export$e16d8520af44a096(first, $8cd7efb5af385306$export$855df823ceb9b81b($8cd7efb5af385306$export$1c8884ee32bdf443(ppdirFS, startCapSize), -theta)));\n            startCap.unshift($8cd7efb5af385306$export$e16d8520af44a096(first, $8cd7efb5af385306$export$1c8884ee32bdf443(ppdirFS, -startCapSize)));\n        } else startCap.push(first);\n        for(let theta = 0; theta <= Math.PI * 3; theta += Math.PI / 16)endCap.push($8cd7efb5af385306$export$e16d8520af44a096(ultimate, $8cd7efb5af385306$export$855df823ceb9b81b($8cd7efb5af385306$export$1c8884ee32bdf443(ppdirPU, -endCapSize), -theta)));\n        const strokeOutline = [\n            ...startCap,\n            ...forwardPoints,\n            ...endCap.reverse(),\n            ...backwardPoints.reverse()\n        ];\n        if (startCap.length > 0) strokeOutline.push(startCap[0]);\n        if (this.options.simplify > 0 && this.options.simplifyPhase === \"output\") return (0, $34bab0059f842ce6$export$ef693d1572e64fb8)(strokeOutline, this.options.simplify);\n        return strokeOutline;\n    }\n}\n\n\n\n\nexport {$94cfa2cfccc8cc22$export$6531021b3bf36eae as LaserPointer};\n//# sourceMappingURL=esm.js.map\n"],"names":["e","n","v","s","$8cd7efb5af385306$export$e16d8520af44a096","ax","ay","ar","bx","by","br","$8cd7efb5af385306$export$f93b5905241a7cca","$8cd7efb5af385306$export$1c8884ee32bdf443","x","y","r","$8cd7efb5af385306$export$1991ecd29cc92c6b","Math","sqrt","$8cd7efb5af385306$export$855df823ceb9b81b","rad","cos","sin","$8cd7efb5af385306$export$944b09d2ad10b378","p","p1","p2","atan2","$8cd7efb5af385306$export$3c05aaf71f141f73","a","$8cd7efb5af385306$export$1b9bab504faa9305","$8cd7efb5af385306$export$6c4a311cc157c764","$94cfa2cfccc8cc22$export$6531021b3bf36eae","Object","defineProperty","get","set","enumerable","configurable","$8cd7efb5af385306$export$548cc43590159af6","p3","sMag","u","min","max","$8cd7efb5af385306$export$7d15b64cf5a3a4c4","$34bab0059f842ce6$export$ef693d1572e64fb8","points","epsilon","length","first","last","maxDistance","maxIndex","reduce","point","index","distance","maxIndexPoint","slice","this","defaults","size","streamline","simplify","simplifyPhase","keepHead","sizeMapping","constants","cornerDetectionMaxAngle","cornerDetectionVariance","maxTailLength","constructor","options","originalPoints","stablePoints","tailPoints","isFresh","assign","lastPoint","addPoint","push","b","t","ps","len","i","$8cd7efb5af385306$export$ccb1b4dfbd3f36a7","stabilizeTail","close","Error","getSize","sizeOverride","pressure","totalLength","runningLength","currentIndex","getStrokeOutline","c","theta","PI","cSize","nSize","pAngle","forwardPoints","backwardPoints","speed","prevSpeed","visibleStartIndex","d","dirPC","dirNC","p1dirPC","p2dirPC","p1dirNC","p2dirNC","p1PC","p2PC","p1NC","p2NC","ftdir","btdir","paPC","paNC","cAngle","D_ANGLE","abs","tAngle","second","penultimate","ultimate","dirFS","dirPU","ppdirFS","ppdirPU","startCapSize","startCap","endCapSize","endCap","unshift","strokeOutline","reverse"],"mappings":"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"}