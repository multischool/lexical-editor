{"version":3,"file":"ordinal.js","sources":["../../../../node_modules/d3-scale/src/ordinal.js"],"sourcesContent":["import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n"],"names":["implicit","Symbol","ordinal","index","InternMap","domain","range","unknown","scale","d","i","get","undefined","set","push","length","_","arguments","slice","value","has","Array","from","copy","initRange","apply"],"mappings":"+FAGY,MAACA,EAAWC,OAAO,YAEhB,SAASC,IACtB,IAAIC,EAAQ,IAAIC,EACZC,EAAS,GACTC,EAAQ,GACRC,EAAUP,EAEd,SAASQ,EAAMC,GACb,IAAIC,EAAIP,EAAMQ,IAAIF,GAClB,QAAUG,IAANF,EAAiB,CACnB,GAAIH,IAAYP,EAAU,OAAOO,EACjCJ,EAAMU,IAAIJ,EAAGC,EAAIL,EAAOS,KAAKL,GAAK,EACnC,CACD,OAAOH,EAAMI,EAAIJ,EAAMS,OACxB,CA0BD,OAxBAP,EAAMH,OAAS,SAASW,GACtB,IAAKC,UAAUF,OAAQ,OAAOV,EAAOa,QACrCb,EAAS,GAAIF,EAAQ,IAAIC,EACzB,IAAK,MAAMe,KAASH,EACdb,EAAMiB,IAAID,IACdhB,EAAMU,IAAIM,EAAOd,EAAOS,KAAKK,GAAS,GAExC,OAAOX,CACX,EAEEA,EAAMF,MAAQ,SAASU,GACrB,OAAOC,UAAUF,QAAUT,EAAQe,MAAMC,KAAKN,GAAIR,GAASF,EAAMY,OACrE,EAEEV,EAAMD,QAAU,SAASS,GACvB,OAAOC,UAAUF,QAAUR,EAAUS,EAAGR,GAASD,CACrD,EAEEC,EAAMe,KAAO,WACX,OAAOrB,EAAQG,EAAQC,GAAOC,QAAQA,EAC1C,EAEEiB,EAAUC,MAAMjB,EAAOS,WAEhBT,CACT"}