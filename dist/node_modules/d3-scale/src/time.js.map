{"version":3,"file":"time.js","sources":["../../../../node_modules/d3-scale/src/time.js"],"sourcesContent":["import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n"],"names":["date","t","Date","number","calendar","ticks","tickInterval","year","month","week","day","hour","minute","second","format","scale","continuous","invert","domain","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","tickFormat","y","_","arguments","length","Array","from","map","interval","d","count","specifier","nice","range","copy","time","initRange","apply","timeTicks","timeTickInterval","timeYear","timeMonth","timeWeek","timeDay","timeHour","timeMinute","timeSecond","timeFormat"],"mappings":"snBAMA,SAASA,EAAKC,GACZ,OAAO,IAAIC,KAAKD,EAClB,CAEA,SAASE,EAAOF,GACd,OAAOA,aAAaC,MAAQD,GAAK,IAAIC,MAAMD,EAC7C,CAEO,SAASG,EAASC,EAAOC,EAAcC,EAAMC,EAAOC,EAAMC,EAAKC,EAAMC,EAAQC,EAAQC,GAC1F,IAAIC,EAAQC,IACRC,EAASF,EAAME,OACfC,EAASH,EAAMG,OAEfC,EAAoBL,EAAO,OAC3BM,EAAeN,EAAO,OACtBO,EAAeP,EAAO,SACtBQ,EAAaR,EAAO,SACpBS,EAAYT,EAAO,SACnBU,EAAaV,EAAO,SACpBW,EAAcX,EAAO,MACrBY,EAAaZ,EAAO,MAExB,SAASa,EAAW3B,GAClB,OAAQa,EAAOb,GAAQA,EAAOmB,EACxBP,EAAOZ,GAAQA,EAAOoB,EACtBT,EAAKX,GAAQA,EAAOqB,EACpBX,EAAIV,GAAQA,EAAOsB,EACnBd,EAAMR,GAAQA,EAAQS,EAAKT,GAAQA,EAAOuB,EAAYC,EACtDjB,EAAKP,GAAQA,EAAOyB,EACpBC,GAAY1B,EACnB,CA6BD,OA3BAe,EAAME,OAAS,SAASW,GACtB,OAAO,IAAI1B,KAAKe,EAAOW,GAC3B,EAEEb,EAAMG,OAAS,SAASW,GACtB,OAAOC,UAAUC,OAASb,EAAOc,MAAMC,KAAKJ,EAAG1B,IAAWe,IAASgB,IAAIlC,EAC3E,EAEEe,EAAMV,MAAQ,SAAS8B,GACrB,IAAIC,EAAIlB,IACR,OAAOb,EAAM+B,EAAE,GAAIA,EAAEA,EAAEL,OAAS,GAAgB,MAAZI,EAAmB,GAAKA,EAChE,EAEEpB,EAAMY,WAAa,SAASU,EAAOC,GACjC,OAAoB,MAAbA,EAAoBX,EAAab,EAAOwB,EACnD,EAEEvB,EAAMwB,KAAO,SAASJ,GACpB,IAAIC,EAAIlB,IAER,OADKiB,GAAsC,mBAAnBA,EAASK,QAAsBL,EAAW7B,EAAa8B,EAAE,GAAIA,EAAEA,EAAEL,OAAS,GAAgB,MAAZI,EAAmB,GAAKA,IACvHA,EAAWjB,EAAOqB,EAAKH,EAAGD,IAAapB,CAClD,EAEEA,EAAM0B,KAAO,WACX,OAAOA,EAAK1B,EAAOX,EAASC,EAAOC,EAAcC,EAAMC,EAAOC,EAAMC,EAAKC,EAAMC,EAAQC,EAAQC,GACnG,EAESC,CACT,CAEe,SAAS2B,IACtB,OAAOC,EAAUC,MAAMxC,EAASyC,EAAWC,EAAkBC,EAAUC,EAAWC,EAAUC,EAASC,EAAUC,EAAYC,EAAYC,GAAYpC,OAAO,CAAC,IAAIhB,KAAK,IAAM,EAAG,GAAI,IAAIA,KAAK,IAAM,EAAG,KAAM4B,UAC3M"}