const r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function n(r,e,t){const l=t[0];if(null!=e&&r>=e)throw new Error(r+" >= "+e);if(r.slice(-1)===l||e&&e.slice(-1)===l)throw new Error("trailing zero");if(e){let o=0;for(;(r[o]||l)===e[o];)o++;if(o>0)return e.slice(0,o)+n(r.slice(o),e.slice(o),t)}const o=r?t.indexOf(r[0]):0,i=null!=e?t.indexOf(e[0]):t.length;if(i-o>1){return t[Math.round(.5*(o+i))]}return e&&e.length>1?e.slice(0,1):t[o]+n(r.slice(1),null,t)}function e(r){if(r.length!==t(r[0]))throw new Error("invalid integer part of order key: "+r)}function t(r){if(r>="a"&&r<="z")return r.charCodeAt(0)-"a".charCodeAt(0)+2;if(r>="A"&&r<="Z")return"Z".charCodeAt(0)-r.charCodeAt(0)+2;throw new Error("invalid order key head: "+r)}function l(r){const n=t(r[0]);if(n>r.length)throw new Error("invalid order key: "+r);return r.slice(0,n)}function o(r,n){if(r==="A"+n[0].repeat(26))throw new Error("invalid order key: "+r);const e=l(r);if(r.slice(e.length).slice(-1)===n[0])throw new Error("invalid order key: "+r)}function i(r,n){e(r);const[t,...l]=r.split("");let o=!0;for(let r=l.length-1;o&&r>=0;r--){const e=n.indexOf(l[r])+1;e===n.length?l[r]=n[0]:(l[r]=n[e],o=!1)}if(o){if("Z"===t)return"a"+n[0];if("z"===t)return null;const r=String.fromCharCode(t.charCodeAt(0)+1);return r>"a"?l.push(n[0]):l.pop(),r+l.join("")}return t+l.join("")}function u(t,u,c=r){if(null!=t&&o(t,c),null!=u&&o(u,c),null!=t&&null!=u&&t>=u)throw new Error(t+" >= "+u);if(null==t){if(null==u)return"a"+c[0];const r=l(u),t=u.slice(r.length);if(r==="A"+c[0].repeat(26))return r+n("",t,c);if(r<u)return r;const o=function(r,n){e(r);const[t,...l]=r.split("");let o=!0;for(let r=l.length-1;o&&r>=0;r--){const e=n.indexOf(l[r])-1;-1===e?l[r]=n.slice(-1):(l[r]=n[e],o=!1)}if(o){if("a"===t)return"Z"+n.slice(-1);if("A"===t)return null;const r=String.fromCharCode(t.charCodeAt(0)-1);return r<"Z"?l.push(n.slice(-1)):l.pop(),r+l.join("")}return t+l.join("")}(r,c);if(null==o)throw new Error("cannot decrement any more");return o}if(null==u){const r=l(t),e=t.slice(r.length),o=i(r,c);return null==o?r+n(e,null,c):o}const f=l(t),s=t.slice(f.length),h=l(u),a=u.slice(h.length);if(f===h)return f+n(s,a,c);const d=i(f,c);if(null==d)throw new Error("cannot increment any more");return d<u?d:f+n(s,null,c)}function c(n,e,t,l=r){if(0===t)return[];if(1===t)return[u(n,e,l)];if(null==e){let r=u(n,e,l);const o=[r];for(let n=0;n<t-1;n++)r=u(r,e,l),o.push(r);return o}if(null==n){let r=u(n,e,l);const o=[r];for(let e=0;e<t-1;e++)r=u(n,r,l),o.push(r);return o.reverse(),o}const o=Math.floor(t/2),i=u(n,e,l);return[...c(n,i,o,l),i,...c(i,e,t-o-1,l)]}export{r as BASE_62_DIGITS,u as generateKeyBetween,c as generateNKeysBetween};
//# sourceMappingURL=index.js.map
