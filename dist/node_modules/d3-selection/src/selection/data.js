import{Selection as r}from"./index.js";import{EnterNode as t}from"./enter.js";import n from"../constant.js";function e(r,n,e,a,o,_){for(var f,l=0,i=n.length,h=_.length;l<h;++l)(f=n[l])?(f.__data__=_[l],a[l]=f):e[l]=new t(r,_[l]);for(;l<i;++l)(f=n[l])&&(o[l]=f)}function a(r,n,e,a,o,_,f){var l,i,h,u=new Map,g=n.length,s=_.length,c=new Array(g);for(l=0;l<g;++l)(i=n[l])&&(c[l]=h=f.call(i,i.__data__,l,n)+"",u.has(h)?o[l]=i:u.set(h,i));for(l=0;l<s;++l)h=f.call(r,_[l],l,_)+"",(i=u.get(h))?(a[l]=i,i.__data__=_[l],u.delete(h)):e[l]=new t(r,_[l]);for(l=0;l<g;++l)(i=n[l])&&u.get(c[l])===i&&(o[l]=i)}function o(r){return r.__data__}function _(t,_){if(!arguments.length)return Array.from(this,o);var l=_?a:e,i=this._parents,h=this._groups;"function"!=typeof t&&(t=n(t));for(var u=h.length,g=new Array(u),s=new Array(u),c=new Array(u),w=0;w<u;++w){var y=i[w],p=h[w],A=p.length,d=f(t.call(y,y&&y.__data__,w,i)),m=d.length,v=s[w]=new Array(m),j=g[w]=new Array(m);l(y,p,v,j,c[w]=new Array(A),d,_);for(var x,b,M=0,k=0;M<m;++M)if(x=v[M]){for(M>=k&&(k=M+1);!(b=j[k])&&++k<m;);x._next=b||null}}return(g=new r(g,i))._enter=s,g._exit=c,g}function f(r){return"object"==typeof r&&"length"in r?r:Array.from(r)}export{_ as default};
//# sourceMappingURL=data.js.map
