{"version":3,"file":"curve-to-bezier.js","sources":["../../../../../../node_modules/roughjs/node_modules/points-on-curve/lib/curve-to-bezier.js"],"sourcesContent":["function clone(p) {\n    return [...p];\n}\nexport function curveToBezier(pointsIn, curveTightness = 0) {\n    const len = pointsIn.length;\n    if (len < 3) {\n        throw new Error('A curve must have at least three points.');\n    }\n    const out = [];\n    if (len === 3) {\n        out.push(clone(pointsIn[0]), clone(pointsIn[1]), clone(pointsIn[2]), clone(pointsIn[2]));\n    }\n    else {\n        const points = [];\n        points.push(pointsIn[0], pointsIn[0]);\n        for (let i = 1; i < pointsIn.length; i++) {\n            points.push(pointsIn[i]);\n            if (i === (pointsIn.length - 1)) {\n                points.push(pointsIn[i]);\n            }\n        }\n        const b = [];\n        const s = 1 - curveTightness;\n        out.push(clone(points[0]));\n        for (let i = 1; (i + 2) < points.length; i++) {\n            const cachedVertArray = points[i];\n            b[0] = [cachedVertArray[0], cachedVertArray[1]];\n            b[1] = [cachedVertArray[0] + (s * points[i + 1][0] - s * points[i - 1][0]) / 6, cachedVertArray[1] + (s * points[i + 1][1] - s * points[i - 1][1]) / 6];\n            b[2] = [points[i + 1][0] + (s * points[i][0] - s * points[i + 2][0]) / 6, points[i + 1][1] + (s * points[i][1] - s * points[i + 2][1]) / 6];\n            b[3] = [points[i + 1][0], points[i + 1][1]];\n            out.push(b[1], b[2], b[3]);\n        }\n    }\n    return out;\n}\n"],"names":["clone","p","curveToBezier","pointsIn","curveTightness","len","length","Error","out","push","points","i","b","s","cachedVertArray"],"mappings":"AAAA,SAASA,EAAMC,GACX,MAAO,IAAIA,EACf,CACO,SAASC,EAAcC,EAAUC,EAAiB,GACrD,MAAMC,EAAMF,EAASG,OACrB,GAAID,EAAM,EACN,MAAM,IAAIE,MAAM,4CAEpB,MAAMC,EAAM,GACZ,GAAY,IAARH,EACAG,EAAIC,KAAKT,EAAMG,EAAS,IAAKH,EAAMG,EAAS,IAAKH,EAAMG,EAAS,IAAKH,EAAMG,EAAS,SAEnF,CACD,MAAMO,EAAS,GACfA,EAAOD,KAAKN,EAAS,GAAIA,EAAS,IAClC,IAAK,IAAIQ,EAAI,EAAGA,EAAIR,EAASG,OAAQK,IACjCD,EAAOD,KAAKN,EAASQ,IACjBA,IAAOR,EAASG,OAAS,GACzBI,EAAOD,KAAKN,EAASQ,IAG7B,MAAMC,EAAI,GACJC,EAAI,EAAIT,EACdI,EAAIC,KAAKT,EAAMU,EAAO,KACtB,IAAK,IAAIC,EAAI,EAAIA,EAAI,EAAKD,EAAOJ,OAAQK,IAAK,CAC1C,MAAMG,EAAkBJ,EAAOC,GAC/BC,EAAE,GAAK,CAACE,EAAgB,GAAIA,EAAgB,IAC5CF,EAAE,GAAK,CAACE,EAAgB,IAAMD,EAAIH,EAAOC,EAAI,GAAG,GAAKE,EAAIH,EAAOC,EAAI,GAAG,IAAM,EAAGG,EAAgB,IAAMD,EAAIH,EAAOC,EAAI,GAAG,GAAKE,EAAIH,EAAOC,EAAI,GAAG,IAAM,GACrJC,EAAE,GAAK,CAACF,EAAOC,EAAI,GAAG,IAAME,EAAIH,EAAOC,GAAG,GAAKE,EAAIH,EAAOC,EAAI,GAAG,IAAM,EAAGD,EAAOC,EAAI,GAAG,IAAME,EAAIH,EAAOC,GAAG,GAAKE,EAAIH,EAAOC,EAAI,GAAG,IAAM,GACzIC,EAAE,GAAK,CAACF,EAAOC,EAAI,GAAG,GAAID,EAAOC,EAAI,GAAG,IACxCH,EAAIC,KAAKG,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAC1B,CACJ,CACD,OAAOJ,CACX"}