{"version":3,"file":"zigzag-filler.js","sources":["../../../../../node_modules/roughjs/bin/fillers/zigzag-filler.js"],"sourcesContent":["import { HachureFiller } from './hachure-filler';\nimport { polygonHachureLines } from './scan-line-hachure';\nimport { lineLength } from '../geometry';\nexport class ZigZagFiller extends HachureFiller {\n    fillPolygons(polygonList, o) {\n        let gap = o.hachureGap;\n        if (gap < 0) {\n            gap = o.strokeWidth * 4;\n        }\n        gap = Math.max(gap, 0.1);\n        const o2 = Object.assign({}, o, { hachureGap: gap });\n        const lines = polygonHachureLines(polygonList, o2);\n        const zigZagAngle = (Math.PI / 180) * o.hachureAngle;\n        const zigzagLines = [];\n        const dgx = gap * 0.5 * Math.cos(zigZagAngle);\n        const dgy = gap * 0.5 * Math.sin(zigZagAngle);\n        for (const [p1, p2] of lines) {\n            if (lineLength([p1, p2])) {\n                zigzagLines.push([\n                    [p1[0] - dgx, p1[1] + dgy],\n                    [...p2],\n                ], [\n                    [p1[0] + dgx, p1[1] - dgy],\n                    [...p2],\n                ]);\n            }\n        }\n        const ops = this.renderLines(zigzagLines, o);\n        return { type: 'fillSketch', ops };\n    }\n}\n"],"names":["ZigZagFiller","HachureFiller","fillPolygons","polygonList","o","gap","hachureGap","strokeWidth","Math","max","o2","Object","assign","lines","polygonHachureLines","zigZagAngle","PI","hachureAngle","zigzagLines","dgx","cos","dgy","sin","p1","p2","lineLength","push","type","ops","this","renderLines"],"mappings":"6JAGO,MAAMA,UAAqBC,EAC9B,YAAAC,CAAaC,EAAaC,GACtB,IAAIC,EAAMD,EAAEE,WACRD,EAAM,IACNA,EAAsB,EAAhBD,EAAEG,aAEZF,EAAMG,KAAKC,IAAIJ,EAAK,IACpB,MAAMK,EAAKC,OAAOC,OAAO,CAAA,EAAIR,EAAG,CAAEE,WAAYD,IACxCQ,EAAQC,EAAoBX,EAAaO,GACzCK,EAAeP,KAAKQ,GAAK,IAAOZ,EAAEa,aAClCC,EAAc,GACdC,EAAY,GAANd,EAAYG,KAAKY,IAAIL,GAC3BM,EAAY,GAANhB,EAAYG,KAAKc,IAAIP,GACjC,IAAK,MAAOQ,EAAIC,KAAOX,EACfY,EAAW,CAACF,EAAIC,KAChBN,EAAYQ,KAAK,CACb,CAACH,EAAG,GAAKJ,EAAKI,EAAG,GAAKF,GACtB,IAAIG,IACL,CACC,CAACD,EAAG,GAAKJ,EAAKI,EAAG,GAAKF,GACtB,IAAIG,KAKhB,MAAO,CAAEG,KAAM,aAAcC,IADjBC,KAAKC,YAAYZ,EAAad,GAE7C"}