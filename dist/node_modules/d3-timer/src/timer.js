var t,n,e=0,o=0,i=0,r=0,c=0,l=0,a="object"==typeof performance&&performance.now?performance:Date,u="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function f(){return c||(u(s),c=a.now()+l)}function s(){c=0}function _(){this._call=this._time=this._next=null}function w(t,n,e){var o=new _;return o.restart(t,n,e),o}function m(){f(),++e;for(var n,o=t;o;)(n=c-o._time)>=0&&o._call.call(void 0,n),o=o._next;--e}function h(){c=(r=a.now())+l,e=o=0;try{m()}finally{e=0,function(){var e,o,i=t,r=1/0;for(;i;)i._call?(r>i._time&&(r=i._time),e=i,i=i._next):(o=i._next,i._next=null,i=e?e._next=o:t=o);n=e,x(r)}(),c=0}}function p(){var t=a.now(),n=t-r;n>1e3&&(l-=n,r=t)}function x(t){e||(o&&(o=clearTimeout(o)),t-c>24?(t<1/0&&(o=setTimeout(h,t-a.now()-l)),i&&(i=clearInterval(i))):(i||(r=a.now(),i=setInterval(p,1e3)),e=1,u(h)))}_.prototype=w.prototype={constructor:_,restart:function(e,o,i){if("function"!=typeof e)throw new TypeError("callback is not a function");i=(null==i?f():+i)+(null==o?0:+o),this._next||n===this||(n?n._next=this:t=this,n=this),this._call=e,this._time=i,x()},stop:function(){this._call&&(this._call=null,this._time=1/0,x())}};export{_ as Timer,f as now,w as timer,m as timerFlush};
//# sourceMappingURL=timer.js.map
