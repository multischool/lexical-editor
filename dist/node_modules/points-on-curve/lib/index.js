function t(t,n){return Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2)}function n(n,r,u){const o=t(r,u);if(0===o)return t(n,r);let h=((n[0]-r[0])*(u[0]-r[0])+(n[1]-r[1])*(u[1]-r[1]))/o;return h=Math.max(0,Math.min(1,h)),t(n,e(r,u,h))}function e(t,n,e){return[t[0]+(n[0]-t[0])*e,t[1]+(n[1]-t[1])*e]}function r(n,u,o,h){const s=h||[];if(function(t,n){const e=t[n+0],r=t[n+1],u=t[n+2],o=t[n+3];let h=3*r[0]-2*e[0]-o[0];h*=h;let s=3*r[1]-2*e[1]-o[1];s*=s;let c=3*u[0]-2*o[0]-e[0];c*=c;let l=3*u[1]-2*o[1]-e[1];return l*=l,h<c&&(h=c),s<l&&(s=l),h+s}(n,u)<o){const e=n[u+0];if(s.length){(c=s[s.length-1],l=e,Math.sqrt(t(c,l)))>1&&s.push(e)}else s.push(e);s.push(n[u+3])}else{const t=.5,h=n[u+0],c=n[u+1],l=n[u+2],f=n[u+3],i=e(h,c,t),a=e(c,l,t),p=e(l,f,t),g=e(i,a,t),M=e(a,p,t),m=e(g,M,t);r([h,i,g,m],0,o,s),r([m,M,p,f],0,o,s)}var c,l;return s}function u(t,n){return o(t,0,t.length,n)}function o(t,e,r,u,h){const s=h||[],c=t[e],l=t[r-1];let f=0,i=1;for(let u=e+1;u<r-1;++u){const e=n(t[u],c,l);e>f&&(f=e,i=u)}return Math.sqrt(f)>u?(o(t,e,i+1,u,s),o(t,i,r,u,s)):(s.length||s.push(c),s.push(l)),s}function h(t,n=.15,e){const u=[],h=(t.length-1)/3;for(let e=0;e<h;e++){r(t,3*e,n,u)}return e&&e>0?o(u,0,u.length,e):u}export{h as pointsOnBezierCurves,u as simplify,o as simplifyPoints};
//# sourceMappingURL=index.js.map
