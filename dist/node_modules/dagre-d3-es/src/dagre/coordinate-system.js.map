{"version":3,"file":"coordinate-system.js","sources":["../../../../../node_modules/dagre-d3-es/src/dagre/coordinate-system.js"],"sourcesContent":["import * as _ from 'lodash-es';\n\nexport { adjust, undo };\n\nfunction adjust(g) {\n  var rankDir = g.graph().rankdir.toLowerCase();\n  if (rankDir === 'lr' || rankDir === 'rl') {\n    swapWidthHeight(g);\n  }\n}\n\nfunction undo(g) {\n  var rankDir = g.graph().rankdir.toLowerCase();\n  if (rankDir === 'bt' || rankDir === 'rl') {\n    reverseY(g);\n  }\n\n  if (rankDir === 'lr' || rankDir === 'rl') {\n    swapXY(g);\n    swapWidthHeight(g);\n  }\n}\n\nfunction swapWidthHeight(g) {\n  _.forEach(g.nodes(), function (v) {\n    swapWidthHeightOne(g.node(v));\n  });\n  _.forEach(g.edges(), function (e) {\n    swapWidthHeightOne(g.edge(e));\n  });\n}\n\nfunction swapWidthHeightOne(attrs) {\n  var w = attrs.width;\n  attrs.width = attrs.height;\n  attrs.height = w;\n}\n\nfunction reverseY(g) {\n  _.forEach(g.nodes(), function (v) {\n    reverseYOne(g.node(v));\n  });\n\n  _.forEach(g.edges(), function (e) {\n    var edge = g.edge(e);\n    _.forEach(edge.points, reverseYOne);\n    if (_.has(edge, 'y')) {\n      reverseYOne(edge);\n    }\n  });\n}\n\nfunction reverseYOne(attrs) {\n  attrs.y = -attrs.y;\n}\n\nfunction swapXY(g) {\n  _.forEach(g.nodes(), function (v) {\n    swapXYOne(g.node(v));\n  });\n\n  _.forEach(g.edges(), function (e) {\n    var edge = g.edge(e);\n    _.forEach(edge.points, swapXYOne);\n    if (_.has(edge, 'x')) {\n      swapXYOne(edge);\n    }\n  });\n}\n\nfunction swapXYOne(attrs) {\n  var x = attrs.x;\n  attrs.x = attrs.y;\n  attrs.y = x;\n}\n"],"names":["adjust","g","rankDir","graph","rankdir","toLowerCase","swapWidthHeight","undo","_.forEach","nodes","v","reverseYOne","node","edges","e","edge","points","_.has","reverseY","swapXYOne","swapXY","swapWidthHeightOne","attrs","w","width","height","y","x"],"mappings":"sFAIA,SAASA,EAAOC,GACd,IAAIC,EAAUD,EAAEE,QAAQC,QAAQC,cAChB,OAAZH,GAAgC,OAAZA,GACtBI,EAAgBL,EAEpB,CAEA,SAASM,EAAKN,GACZ,IAAIC,EAAUD,EAAEE,QAAQC,QAAQC,cAChB,OAAZH,GAAgC,OAAZA,GAyB1B,SAAkBD,GAChBO,EAAUP,EAAEQ,SAAS,SAAUC,GAC7BC,EAAYV,EAAEW,KAAKF,GACvB,IAEEF,EAAUP,EAAEY,SAAS,SAAUC,GAC7B,IAAIC,EAAOd,EAAEc,KAAKD,GAClBN,EAAUO,EAAKC,OAAQL,GACnBM,EAAMF,EAAM,MACdJ,EAAYI,EAElB,GACA,CApCIG,CAASjB,GAGK,OAAZC,GAAgC,OAAZA,KAuC1B,SAAgBD,GACdO,EAAUP,EAAEQ,SAAS,SAAUC,GAC7BS,EAAUlB,EAAEW,KAAKF,GACrB,IAEEF,EAAUP,EAAEY,SAAS,SAAUC,GAC7B,IAAIC,EAAOd,EAAEc,KAAKD,GAClBN,EAAUO,EAAKC,OAAQG,GACnBF,EAAMF,EAAM,MACdI,EAAUJ,EAEhB,GACA,CAlDIK,CAAOnB,GACPK,EAAgBL,GAEpB,CAEA,SAASK,EAAgBL,GACvBO,EAAUP,EAAEQ,SAAS,SAAUC,GAC7BW,EAAmBpB,EAAEW,KAAKF,GAC9B,IACEF,EAAUP,EAAEY,SAAS,SAAUC,GAC7BO,EAAmBpB,EAAEc,KAAKD,GAC9B,GACA,CAEA,SAASO,EAAmBC,GAC1B,IAAIC,EAAID,EAAME,MACdF,EAAME,MAAQF,EAAMG,OACpBH,EAAMG,OAASF,CACjB,CAgBA,SAASZ,EAAYW,GACnBA,EAAMI,GAAKJ,EAAMI,CACnB,CAgBA,SAASP,EAAUG,GACjB,IAAIK,EAAIL,EAAMK,EACdL,EAAMK,EAAIL,EAAMI,EAChBJ,EAAMI,EAAIC,CACZ"}