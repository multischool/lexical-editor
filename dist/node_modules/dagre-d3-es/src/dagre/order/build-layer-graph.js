import{Graph as e}from"../../graphlib/graph.js";import o from"../../../../lodash-es/forEach.js";import r from"../../../../lodash-es/isUndefined.js";import t from"../../../../lodash-es/has.js";import n from"../../../../lodash-es/uniqueId.js";function a(a,s,d){var i=function(e){var o;for(;e.hasNode(o=n("_root")););return o}(a),f=new e({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(e){return a.node(e)}));return o(a.nodes(),(function(e){var n=a.node(e),h=a.parent(e);(n.rank===s||n.minRank<=s&&s<=n.maxRank)&&(f.setNode(e),f.setParent(e,h||i),o(a[d](e),(function(o){var t=o.v===e?o.w:o.v,n=f.edge(t,e),s=r(n)?0:n.weight;f.setEdge(t,e,{weight:a.edge(o).weight+s})})),t(n,"minRank")&&f.setNode(e,{borderLeft:n.borderLeft[s],borderRight:n.borderRight[s]}))})),f}export{a as buildLayerGraph};
//# sourceMappingURL=build-layer-graph.js.map
