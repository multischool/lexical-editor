import r from"../../../../lodash-es/zipObject.js";import o from"../../../../lodash-es/map.js";import t from"../../../../lodash-es/flatten.js";import e from"../../../../lodash-es/sortBy.js";import n from"../../../../lodash-es/forEach.js";function s(r,o){for(var t=0,e=1;e<o.length;++e)t+=f(r,o[e-1],o[e]);return t}function f(s,f,i){for(var a=r(i,o(i,(function(r,o){return o}))),h=t(o(f,(function(r){return e(o(s.outEdges(r),(function(r){return{pos:a[r.w],weight:s.edge(r).weight}})),"pos")}))),u=1;u<i.length;)u<<=1;var m=2*u-1;u-=1;var p=o(new Array(m),(function(){return 0})),c=0;return n(h.forEach((function(r){var o=r.pos+u;p[o]+=r.weight;for(var t=0;o>0;)o%2&&(t+=p[o+1]),p[o=o-1>>1]+=r.weight;c+=r.weight*t}))),c}export{s as crossCount};
//# sourceMappingURL=cross-count.js.map
