{"version":3,"file":"barycenter.js","sources":["../../../../../../node_modules/dagre-d3-es/src/dagre/order/barycenter.js"],"sourcesContent":["import * as _ from 'lodash-es';\n\nexport { barycenter };\n\nfunction barycenter(g, movable) {\n  return _.map(movable, function (v) {\n    var inV = g.inEdges(v);\n    if (!inV.length) {\n      return { v: v };\n    } else {\n      var result = _.reduce(\n        inV,\n        function (acc, e) {\n          var edge = g.edge(e),\n            nodeU = g.node(e.v);\n          return {\n            sum: acc.sum + edge.weight * nodeU.order,\n            weight: acc.weight + edge.weight,\n          };\n        },\n        { sum: 0, weight: 0 }\n      );\n\n      return {\n        v: v,\n        barycenter: result.sum / result.weight,\n        weight: result.weight,\n      };\n    }\n  });\n}\n"],"names":["barycenter","g","movable","_.map","v","inV","inEdges","length","result","_.reduce","acc","e","edge","nodeU","node","sum","weight","order"],"mappings":"2FAIA,SAASA,EAAWC,EAAGC,GACrB,OAAOC,EAAMD,GAAS,SAAUE,GAC9B,IAAIC,EAAMJ,EAAEK,QAAQF,GACpB,GAAKC,EAAIE,OAEF,CACL,IAAIC,EAASC,EACXJ,GACA,SAAUK,EAAKC,GACb,IAAIC,EAAOX,EAAEW,KAAKD,GAChBE,EAAQZ,EAAEa,KAAKH,EAAEP,GACnB,MAAO,CACLW,IAAKL,EAAIK,IAAMH,EAAKI,OAASH,EAAMI,MACnCD,OAAQN,EAAIM,OAASJ,EAAKI,OAE7B,GACD,CAAED,IAAK,EAAGC,OAAQ,IAGpB,MAAO,CACLZ,EAAGA,EACHJ,WAAYQ,EAAOO,IAAMP,EAAOQ,OAChCA,OAAQR,EAAOQ,OAElB,CApBC,MAAO,CAAEZ,EAAGA,EAqBlB,GACA"}