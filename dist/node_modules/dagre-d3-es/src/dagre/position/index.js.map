{"version":3,"file":"index.js","sources":["../../../../../../node_modules/dagre-d3-es/src/dagre/position/index.js"],"sourcesContent":["import * as _ from 'lodash-es';\nimport * as util from '../util.js';\nimport { positionX } from './bk.js';\n\nexport { position };\n\nfunction position(g) {\n  g = util.asNonCompoundGraph(g);\n\n  positionY(g);\n  _.forOwn(positionX(g), function (x, v) {\n    g.node(v).x = x;\n  });\n}\n\nfunction positionY(g) {\n  var layering = util.buildLayerMatrix(g);\n  var rankSep = g.graph().ranksep;\n  var prevY = 0;\n  _.forEach(layering, function (layer) {\n    var maxHeight = _.max(\n      _.map(layer, function (v) {\n        return g.node(v).height;\n      })\n    );\n    _.forEach(layer, function (v) {\n      g.node(v).y = prevY + maxHeight / 2;\n    });\n    prevY += maxHeight + rankSep;\n  });\n}\n"],"names":["position","g","layering","util.buildLayerMatrix","rankSep","graph","ranksep","prevY","_.forEach","layer","maxHeight","_.max","_.map","v","node","height","y","positionY","util.asNonCompoundGraph","_.forOwn","positionX","x"],"mappings":"iSAMA,SAASA,EAASC,IASlB,SAAmBA,GACjB,IAAIC,EAAWC,EAAsBF,GACjCG,EAAUH,EAAEI,QAAQC,QACpBC,EAAQ,EACZC,EAAUN,GAAU,SAAUO,GAC5B,IAAIC,EAAYC,EACdC,EAAMH,GAAO,SAAUI,GACrB,OAAOZ,EAAEa,KAAKD,GAAGE,MACzB,KAEIP,EAAUC,GAAO,SAAUI,GACzBZ,EAAEa,KAAKD,GAAGG,EAAIT,EAAQG,EAAY,CACxC,IACIH,GAASG,EAAYN,CACzB,GACA,EArBEa,CAFAhB,EAAIiB,EAAwBjB,IAG5BkB,EAASC,EAAUnB,IAAI,SAAUoB,EAAGR,GAClCZ,EAAEa,KAAKD,GAAGQ,EAAIA,CAClB,GACA"}