{"version":3,"file":"add-border-segments.js","sources":["../../../../../node_modules/dagre-d3-es/src/dagre/add-border-segments.js"],"sourcesContent":["import * as _ from 'lodash-es';\nimport * as util from './util.js';\n\nexport { addBorderSegments };\n\nfunction addBorderSegments(g) {\n  function dfs(v) {\n    var children = g.children(v);\n    var node = g.node(v);\n    if (children.length) {\n      _.forEach(children, dfs);\n    }\n\n    if (_.has(node, 'minRank')) {\n      node.borderLeft = [];\n      node.borderRight = [];\n      for (var rank = node.minRank, maxRank = node.maxRank + 1; rank < maxRank; ++rank) {\n        addBorderNode(g, 'borderLeft', '_bl', v, node, rank);\n        addBorderNode(g, 'borderRight', '_br', v, node, rank);\n      }\n    }\n  }\n\n  _.forEach(g.children(), dfs);\n}\n\nfunction addBorderNode(g, prop, prefix, sg, sgNode, rank) {\n  var label = { width: 0, height: 0, rank: rank, borderType: prop };\n  var prev = sgNode[prop][rank - 1];\n  var curr = util.addDummyNode(g, 'border', label, prefix);\n  sgNode[prop][rank] = curr;\n  g.setParent(curr, sg);\n  if (prev) {\n    g.setEdge(prev, curr, { weight: 1 });\n  }\n}\n"],"names":["addBorderSegments","g","_.forEach","children","dfs","v","node","length","_.has","borderLeft","borderRight","rank","minRank","maxRank","addBorderNode","prop","prefix","sg","sgNode","label","width","height","borderType","prev","curr","util.addDummyNode","setParent","setEdge","weight"],"mappings":"+HAKA,SAASA,EAAkBC,GAkBzBC,EAAUD,EAAEE,YAjBZ,SAASC,EAAIC,GACX,IAAIF,EAAWF,EAAEE,SAASE,GACtBC,EAAOL,EAAEK,KAAKD,GAKlB,GAJIF,EAASI,QACXL,EAAUC,EAAUC,GAGlBI,EAAMF,EAAM,WAAY,CAC1BA,EAAKG,WAAa,GAClBH,EAAKI,YAAc,GACnB,IAAK,IAAIC,EAAOL,EAAKM,QAASC,EAAUP,EAAKO,QAAU,EAAGF,EAAOE,IAAWF,EAC1EG,EAAcb,EAAG,aAAc,MAAOI,EAAGC,EAAMK,GAC/CG,EAAcb,EAAG,cAAe,MAAOI,EAAGC,EAAMK,EAEnD,CACF,GAGH,CAEA,SAASG,EAAcb,EAAGc,EAAMC,EAAQC,EAAIC,EAAQP,GAClD,IAAIQ,EAAQ,CAAEC,MAAO,EAAGC,OAAQ,EAAGV,KAAMA,EAAMW,WAAYP,GACvDQ,EAAOL,EAAOH,GAAMJ,EAAO,GAC3Ba,EAAOC,EAAkBxB,EAAG,SAAUkB,EAAOH,GACjDE,EAAOH,GAAMJ,GAAQa,EACrBvB,EAAEyB,UAAUF,EAAMP,GACdM,GACFtB,EAAE0B,QAAQJ,EAAMC,EAAM,CAAEI,OAAQ,GAEpC"}