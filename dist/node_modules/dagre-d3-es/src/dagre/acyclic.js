import{greedyFAS as e}from"./greedy-fas.js";import r from"../../../lodash-es/forEach.js";import o from"../../../lodash-es/uniqueId.js";import d from"../../../lodash-es/has.js";function n(n){var t="greedy"===n.graph().acyclicer?e(n,function(e){return function(r){return e.edge(r).weight}}(n)):function(e){var o=[],n={},t={};function s(a){d(t,a)||(t[a]=!0,n[a]=!0,r(e.outEdges(a),(function(e){d(n,e.w)?o.push(e):s(e.w)})),delete n[a])}return r(e.nodes(),s),o}(n);r(t,(function(e){var r=n.edge(e);n.removeEdge(e),r.forwardName=e.name,r.reversed=!0,n.setEdge(e.w,e.v,r,o("rev"))}))}function t(e){r(e.edges(),(function(r){var o=e.edge(r);if(o.reversed){e.removeEdge(r);var d=o.forwardName;delete o.reversed,delete o.forwardName,e.setEdge(r.w,r.v,o,d)}}))}export{n as run,t as undo};
//# sourceMappingURL=acyclic.js.map
