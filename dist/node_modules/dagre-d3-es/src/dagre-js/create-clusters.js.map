{"version":3,"file":"create-clusters.js","sources":["../../../../../node_modules/dagre-d3-es/src/dagre-js/create-clusters.js"],"sourcesContent":["import * as d3 from 'd3';\nimport { addLabel } from './label/add-label.js';\nimport * as util from './util.js';\n\nexport { createClusters, setCreateClusters };\n\nvar createClusters = function (selection, g) {\n  var clusters = g.nodes().filter(function (v) {\n    return util.isSubgraph(g, v);\n  });\n  var svgClusters = selection.selectAll('g.cluster').data(clusters, function (v) {\n    return v;\n  });\n\n  util.applyTransition(svgClusters.exit(), g).style('opacity', 0).remove();\n\n  var enterSelection = svgClusters\n    .enter()\n    .append('g')\n    .attr('class', 'cluster')\n    .attr('id', function (v) {\n      var node = g.node(v);\n      return node.id;\n    })\n    .style('opacity', 0)\n    .each(function (v) {\n      var node = g.node(v);\n      var thisGroup = d3.select(this);\n      d3.select(this).append('rect');\n      var labelGroup = thisGroup.append('g').attr('class', 'label');\n      addLabel(labelGroup, node, node.clusterLabelPos);\n    });\n\n  svgClusters = svgClusters.merge(enterSelection);\n\n  svgClusters = util.applyTransition(svgClusters, g).style('opacity', 1);\n\n  svgClusters.selectAll('rect').each(function (c) {\n    var node = g.node(c);\n    var domCluster = d3.select(this);\n    util.applyStyle(domCluster, node.style);\n  });\n\n  return svgClusters;\n};\n\nfunction setCreateClusters(value) {\n  createClusters = value;\n}\n"],"names":["createClusters","selection","g","clusters","nodes","filter","v","util.isSubgraph","svgClusters","selectAll","data","util.applyTransition","exit","style","remove","enterSelection","enter","append","attr","node","id","each","thisGroup","d3.select","this","labelGroup","addLabel","clusterLabelPos","merge","c","domCluster","util.applyStyle","setCreateClusters","value"],"mappings":"+QAMG,IAACA,EAAiB,SAAUC,EAAWC,GACxC,IAAIC,EAAWD,EAAEE,QAAQC,QAAO,SAAUC,GACxC,OAAOC,EAAgBL,EAAGI,EAC9B,IACME,EAAcP,EAAUQ,UAAU,aAAaC,KAAKP,GAAU,SAAUG,GAC1E,OAAOA,CACX,IAEEK,EAAqBH,EAAYI,OAAQV,GAAGW,MAAM,UAAW,GAAGC,SAEhE,IAAIC,EAAiBP,EAClBQ,QACAC,OAAO,KACPC,KAAK,QAAS,WACdA,KAAK,MAAM,SAAUZ,GAEpB,OADWJ,EAAEiB,KAAKb,GACNc,EAClB,IACKP,MAAM,UAAW,GACjBQ,MAAK,SAAUf,GACd,IAAIa,EAAOjB,EAAEiB,KAAKb,GACdgB,EAAYC,EAAUC,MAC1BD,EAAUC,MAAMP,OAAO,QACvB,IAAIQ,EAAaH,EAAUL,OAAO,KAAKC,KAAK,QAAS,SACrDQ,EAASD,EAAYN,EAAMA,EAAKQ,gBACtC,IAYE,OAVAnB,EAAcA,EAAYoB,MAAMb,IAEhCP,EAAcG,EAAqBH,EAAaN,GAAGW,MAAM,UAAW,IAExDJ,UAAU,QAAQY,MAAK,SAAUQ,GAC3C,IAAIV,EAAOjB,EAAEiB,KAAKU,GACdC,EAAaP,EAAUC,MAC3BO,EAAgBD,EAAYX,EAAKN,MACrC,IAESL,CACT,EAEA,SAASwB,EAAkBC,GACzBjC,EAAiBiC,CACnB"}