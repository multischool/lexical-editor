import"../../../d3-transition/src/selection/index.js";import"../../../d3-zoom/src/transform.js";import{addLabel as t}from"./label/add-label.js";import{isSubgraph as e,applyClass as i,applyStyle as a,applyTransition as d}from"./util.js";import o from"../../../d3-selection/src/select.js";import r from"../../../lodash-es/pick.js";import l from"../../../lodash-es/has.js";var s=function(s,n,h){var p,c=n.nodes().filter((function(t){return!e(n,t)})),g=s.selectAll("g.node").data(c,(function(t){return t})).classed("update",!0);return g.exit().remove(),g.enter().append("g").attr("class","node").style("opacity",0),(g=s.selectAll("g.node")).each((function(e){var d=n.node(e),s=o(this);i(s,d.class,(s.classed("update")?"update ":"")+"node"),s.select("g.label").remove();var p=s.append("g").attr("class","label"),c=t(p,d),g=h[d.shape],m=r(c.node().getBBox(),"width","height");d.elem=this,d.id&&s.attr("id",d.id),d.labelId&&p.attr("id",d.labelId),l(d,"width")&&(m.width=d.width),l(d,"height")&&(m.height=d.height),m.width+=d.paddingLeft+d.paddingRight,m.height+=d.paddingTop+d.paddingBottom,p.attr("transform","translate("+(d.paddingLeft-d.paddingRight)/2+","+(d.paddingTop-d.paddingBottom)/2+")");var f=o(this);f.select(".label-container").remove();var u=g(f,m,d).classed("label-container",!0);a(u,d.style);var v=u.node().getBBox();d.width=v.width,d.height=v.height})),p=g.exit?g.exit():g.selectAll(null),d(p,n).style("opacity",0).remove(),g};function n(t){s=t}export{s as createNodes,n as setCreateNodes};
//# sourceMappingURL=create-nodes.js.map
