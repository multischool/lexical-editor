{"version":3,"file":"add-text-label.js","sources":["../../../../../../node_modules/dagre-d3-es/src/dagre-js/label/add-text-label.js"],"sourcesContent":["import * as util from '../util.js';\n\nexport { addTextLabel };\n\n/*\n * Attaches a text label to the specified root. Handles escape sequences.\n */\nfunction addTextLabel(root, node) {\n  var domNode = root.append('text');\n\n  var lines = processEscapeSequences(node.label).split('\\n');\n  for (var i = 0; i < lines.length; i++) {\n    domNode\n      .append('tspan')\n      .attr('xml:space', 'preserve')\n      .attr('dy', '1em')\n      .attr('x', '1')\n      .text(lines[i]);\n  }\n\n  util.applyStyle(domNode, node.labelStyle);\n\n  return domNode;\n}\n\nfunction processEscapeSequences(text) {\n  var newText = '';\n  var escaped = false;\n  var ch;\n  for (var i = 0; i < text.length; ++i) {\n    ch = text[i];\n    if (escaped) {\n      switch (ch) {\n        case 'n':\n          newText += '\\n';\n          break;\n        default:\n          newText += ch;\n      }\n      escaped = false;\n    } else if (ch === '\\\\') {\n      escaped = true;\n    } else {\n      newText += ch;\n    }\n  }\n  return newText;\n}\n"],"names":["addTextLabel","root","node","domNode","append","lines","text","ch","newText","escaped","i","length","processEscapeSequences","label","split","attr","util.applyStyle","labelStyle"],"mappings":"wCAOA,SAASA,EAAaC,EAAMC,GAI1B,IAHA,IAAIC,EAAUF,EAAKG,OAAO,QAEtBC,EAeN,SAAgCC,GAI9B,IAHA,IAEIC,EAFAC,EAAU,GACVC,GAAU,EAELC,EAAI,EAAGA,EAAIJ,EAAKK,SAAUD,EAEjC,GADAH,EAAKD,EAAKI,GACND,EAAS,CACX,GACO,MADCF,EAEJC,GAAW,UAGXA,GAAWD,EAEfE,GAAU,CAChB,KAAsB,OAAPF,EACTE,GAAU,EAEVD,GAAWD,EAGf,OAAOC,CACT,CArCcI,CAAuBV,EAAKW,OAAOC,MAAM,MAC5CJ,EAAI,EAAGA,EAAIL,EAAMM,OAAQD,IAChCP,EACGC,OAAO,SACPW,KAAK,YAAa,YAClBA,KAAK,KAAM,OACXA,KAAK,IAAK,KACVT,KAAKD,EAAMK,IAKhB,OAFAM,EAAgBb,EAASD,EAAKe,YAEvBd,CACT"}