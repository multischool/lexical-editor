{"version":3,"file":"index.js","sources":["../../../../../node_modules/d3-interpolate/src/transform/index.js"],"sourcesContent":["import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n"],"names":["interpolateTransform","parse","pxComma","pxParen","degParen","pop","s","length","a","b","q","xa","ya","xb","yb","i","push","x","number","translate","translateX","translateY","rotate","skewX","scale","scaleX","scaleY","t","o","n","join","interpolateTransformCss","parseCss","interpolateTransformSvg","parseSvg"],"mappings":"gFAGA,SAASA,EAAqBC,EAAOC,EAASC,EAASC,GAErD,SAASC,EAAIC,GACX,OAAOA,EAAEC,OAASD,EAAED,MAAQ,IAAM,EACnC,CAqCD,OAAO,SAASG,EAAGC,GACjB,IAAIH,EAAI,GACJI,EAAI,GAOR,OANAF,EAAIP,EAAMO,GAAIC,EAAIR,EAAMQ,GAtC1B,SAAmBE,EAAIC,EAAIC,EAAIC,EAAIR,EAAGI,GACpC,GAAIC,IAAOE,GAAMD,IAAOE,EAAI,CAC1B,IAAIC,EAAIT,EAAEU,KAAK,aAAc,KAAMd,EAAS,KAAMC,GAClDO,EAAEM,KAAK,CAACD,EAAGA,EAAI,EAAGE,EAAGC,EAAOP,EAAIE,IAAM,CAACE,EAAGA,EAAI,EAAGE,EAAGC,EAAON,EAAIE,IACrE,MAAeD,GAAMC,IACfR,EAAEU,KAAK,aAAeH,EAAKX,EAAUY,EAAKX,EAE7C,CAgCCgB,CAAUX,EAAEY,WAAYZ,EAAEa,WAAYZ,EAAEW,WAAYX,EAAEY,WAAYf,EAAGI,GA9BvE,SAAgBF,EAAGC,EAAGH,EAAGI,GACnBF,IAAMC,GACJD,EAAIC,EAAI,IAAKA,GAAK,IAAcA,EAAID,EAAI,MAAKA,GAAK,KACtDE,EAAEM,KAAK,CAACD,EAAGT,EAAEU,KAAKX,EAAIC,GAAK,UAAW,KAAMF,GAAY,EAAGa,EAAGC,EAAOV,EAAGC,MAC/DA,GACTH,EAAEU,KAAKX,EAAIC,GAAK,UAAYG,EAAIL,EAEnC,CAwBCkB,CAAOd,EAAEc,OAAQb,EAAEa,OAAQhB,EAAGI,GAtBhC,SAAeF,EAAGC,EAAGH,EAAGI,GAClBF,IAAMC,EACRC,EAAEM,KAAK,CAACD,EAAGT,EAAEU,KAAKX,EAAIC,GAAK,SAAU,KAAMF,GAAY,EAAGa,EAAGC,EAAOV,EAAGC,KAC9DA,GACTH,EAAEU,KAAKX,EAAIC,GAAK,SAAWG,EAAIL,EAElC,CAiBCmB,CAAMf,EAAEe,MAAOd,EAAEc,MAAOjB,EAAGI,GAf7B,SAAeC,EAAIC,EAAIC,EAAIC,EAAIR,EAAGI,GAChC,GAAIC,IAAOE,GAAMD,IAAOE,EAAI,CAC1B,IAAIC,EAAIT,EAAEU,KAAKX,EAAIC,GAAK,SAAU,KAAM,IAAK,KAAM,KACnDI,EAAEM,KAAK,CAACD,EAAGA,EAAI,EAAGE,EAAGC,EAAOP,EAAIE,IAAM,CAACE,EAAGA,EAAI,EAAGE,EAAGC,EAAON,EAAIE,IAChE,MAAiB,IAAPD,GAAmB,IAAPC,GACrBR,EAAEU,KAAKX,EAAIC,GAAK,SAAWO,EAAK,IAAMC,EAAK,IAE9C,CASCU,CAAMhB,EAAEiB,OAAQjB,EAAEkB,OAAQjB,EAAEgB,OAAQhB,EAAEiB,OAAQpB,EAAGI,GACjDF,EAAIC,EAAI,KACD,SAASkB,GAEd,IADA,IAA0BC,EAAtBb,GAAK,EAAGc,EAAInB,EAAEH,SACTQ,EAAIc,GAAGvB,GAAGsB,EAAIlB,EAAEK,IAAIA,GAAKa,EAAEX,EAAEU,GACtC,OAAOrB,EAAEwB,KAAK,GACpB,CACA,CACA,CAEU,IAACC,EAA0B/B,EAAqBgC,EAAU,OAAQ,MAAO,QACxEC,EAA0BjC,EAAqBkC,EAAU,KAAM,IAAK"}