Symbol("production"!==(import.meta.env?import.meta.env.MODE:void 0)?"RESET":"");function e(e=()=>{try{return window.localStorage}catch(e){return void("production"!==(import.meta.env?import.meta.env.MODE:void 0)&&"undefined"!=typeof window&&console.warn(e))}},t){var n;let r,o;const i={getItem:(n,i)=>{var a,u;const d=e=>{if(r!==(e=e||"")){try{o=JSON.parse(e,null==t?void 0:t.reviver)}catch(e){return i}r=e}return o},v=null!=(u=null==(a=e())?void 0:a.getItem(n))?u:null;return"function"==typeof(null==(l=v)?void 0:l.then)?v.then(d):d(v);var l},setItem:(n,r)=>{var o;return null==(o=e())?void 0:o.setItem(n,JSON.stringify(r,null==t?void 0:t.replacer))},removeItem:t=>{var n;return null==(n=e())?void 0:n.removeItem(t)}};let a;try{a=null==(n=e())?void 0:n.subscribe}catch(e){}var u;return!a&&"undefined"!=typeof window&&"function"==typeof window.addEventListener&&window.Storage&&(a=(t,n)=>{if(!(e()instanceof window.Storage))return()=>{};const r=r=>{r.storageArea===e()&&r.key===t&&n(r.newValue)};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}}),a&&(i.subscribe=(u=a,(e,t,n)=>u(e,(e=>{let r;try{r=JSON.parse(e||"")}catch(e){r=n}t(r)})))),i}e();export{e as createJSONStorage};
//# sourceMappingURL=utils.mjs.js.map
