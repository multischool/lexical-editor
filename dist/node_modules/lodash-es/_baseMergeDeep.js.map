{"version":3,"file":"_baseMergeDeep.js","sources":["../../../node_modules/lodash-es/_baseMergeDeep.js"],"sourcesContent":["import assignMergeValue from './_assignMergeValue.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\nimport copyArray from './_copyArray.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport isBuffer from './isBuffer.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isPlainObject from './isPlainObject.js';\nimport isTypedArray from './isTypedArray.js';\nimport safeGet from './_safeGet.js';\nimport toPlainObject from './toPlainObject.js';\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nexport default baseMergeDeep;\n"],"names":["baseMergeDeep","object","source","key","srcIndex","mergeFunc","customizer","stack","objValue","safeGet","srcValue","stacked","get","assignMergeValue","newValue","undefined","isCommon","isArr","isArray","isBuff","isBuffer","isTyped","isTypedArray","isArrayLikeObject","copyArray","cloneBuffer","cloneTypedArray","isPlainObject","isArguments","toPlainObject","isObject","isFunction","initCloneObject","set"],"mappings":"6eA+BA,SAASA,EAAcC,EAAQC,EAAQC,EAAKC,EAAUC,EAAWC,EAAYC,GAC3E,IAAIC,EAAWC,EAAQR,EAAQE,GAC3BO,EAAWD,EAAQP,EAAQC,GAC3BQ,EAAUJ,EAAMK,IAAIF,GAExB,GAAIC,EACFE,EAAiBZ,EAAQE,EAAKQ,OADhC,CAIA,IAAIG,EAAWR,EACXA,EAAWE,EAAUE,EAAWP,EAAM,GAAKF,EAAQC,EAAQK,QAC3DQ,EAEAC,OAAwBD,IAAbD,EAEf,GAAIE,EAAU,CACZ,IAAIC,EAAQC,EAAQR,GAChBS,GAAUF,GAASG,EAASV,GAC5BW,GAAWJ,IAAUE,GAAUG,EAAaZ,GAEhDI,EAAWJ,EACPO,GAASE,GAAUE,EACjBH,EAAQV,GACVM,EAAWN,EAEJe,EAAkBf,GACzBM,EAAWU,EAAUhB,GAEdW,GACPH,GAAW,EACXF,EAAWW,EAAYf,GAAU,IAE1BW,GACPL,GAAW,EACXF,EAAWY,EAAgBhB,GAAU,IAGrCI,EAAW,GAGNa,EAAcjB,IAAakB,EAAYlB,IAC9CI,EAAWN,EACPoB,EAAYpB,GACdM,EAAWe,EAAcrB,GAEjBsB,EAAStB,KAAauB,EAAWvB,KACzCM,EAAWkB,EAAgBtB,KAI7BM,GAAW,CAEd,CACGA,IAEFT,EAAM0B,IAAIvB,EAAUI,GACpBT,EAAUS,EAAUJ,EAAUN,EAAUE,EAAYC,GACpDA,EAAc,OAAEG,IAElBG,EAAiBZ,EAAQE,EAAKW,EAnD7B,CAoDH"}