{"version":3,"file":"index.js","sources":["../../../../node_modules/internmap/src/index.js"],"sourcesContent":["export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n"],"names":["InternMap","Map","constructor","entries","key","keyof","super","Object","defineProperties","this","_intern","value","_key","set","get","intern_get","has","intern_set","delete","intern_delete","valueOf"],"mappings":"AAAO,MAAMA,UAAkBC,IAC7B,WAAAC,CAAYC,EAASC,EAAMC,GAGzB,GAFAC,QACAC,OAAOC,iBAAiBC,KAAM,CAACC,QAAS,CAACC,MAAO,IAAIV,KAAQW,KAAM,CAACD,MAAOP,KAC3D,MAAXD,EAAiB,IAAK,MAAOC,EAAKO,KAAUR,EAASM,KAAKI,IAAIT,EAAKO,EACxE,CACD,GAAAG,CAAIV,GACF,OAAOE,MAAMQ,IAAIC,EAAWN,KAAML,GACnC,CACD,GAAAY,CAAIZ,GACF,OAAOE,MAAMU,IAAID,EAAWN,KAAML,GACnC,CACD,GAAAS,CAAIT,EAAKO,GACP,OAAOL,MAAMO,IA6BjB,UAAoBH,QAACA,EAAOE,KAAEA,GAAOD,GACnC,MAAMP,EAAMQ,EAAKD,GACjB,OAAID,EAAQM,IAAIZ,GAAaM,EAAQI,IAAIV,IACzCM,EAAQG,IAAIT,EAAKO,GACVA,EACT,CAlCqBM,CAAWR,KAAML,GAAMO,EACzC,CACD,OAAOP,GACL,OAAOE,MAAMY,OAiCjB,UAAuBR,QAACA,EAAOE,KAAEA,GAAOD,GACtC,MAAMP,EAAMQ,EAAKD,GACbD,EAAQM,IAAIZ,KACdO,EAAQD,EAAQI,IAAIV,GACpBM,EAAQQ,OAAOd,IAEjB,OAAOO,CACT,CAxCwBQ,CAAcV,KAAML,GACzC,EAoBH,SAASW,GAAWL,QAACA,EAAOE,KAAEA,GAAOD,GACnC,MAAMP,EAAMQ,EAAKD,GACjB,OAAOD,EAAQM,IAAIZ,GAAOM,EAAQI,IAAIV,GAAOO,CAC/C,CAkBA,SAASN,EAAMM,GACb,OAAiB,OAAVA,GAAmC,iBAAVA,EAAqBA,EAAMS,UAAYT,CACzE"}