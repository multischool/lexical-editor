import"../crc-32/crc32.js";import{__exports as r}from"../../_virtual/crc32.js";var e=r,n=function(r){if(137!==r[0])throw new Error("Invalid .png file header");if(80!==r[1])throw new Error("Invalid .png file header");if(78!==r[2])throw new Error("Invalid .png file header");if(71!==r[3])throw new Error("Invalid .png file header");if(13!==r[4])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(10!==r[5])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(26!==r[6])throw new Error("Invalid .png file header");if(10!==r[7])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");var n=!1,f=[],d=8;for(;d<r.length;){i[3]=r[d++],i[2]=r[d++],i[1]=r[d++],i[0]=r[d++];var t=o[0]+4,l=new Uint8Array(t);l[0]=r[d++],l[1]=r[d++],l[2]=r[d++],l[3]=r[d++];var h=String.fromCharCode(l[0])+String.fromCharCode(l[1])+String.fromCharCode(l[2])+String.fromCharCode(l[3]);if(!f.length&&"IHDR"!==h)throw new Error("IHDR header missing");if("IEND"===h){n=!0,f.push({name:h,data:new Uint8Array(0)});break}for(var w=4;w<t;w++)l[w]=r[d++];i[3]=r[d++],i[2]=r[d++],i[1]=r[d++],i[0]=r[d++];var s=a[0];if(e.buf(l)!==s)throw new Error("CRC values for "+h+" header do not match, PNG file is likely corrupted");var p=new Uint8Array(l.buffer.slice(4));f.push({name:h,data:p})}if(!n)throw new Error(".png file ended prematurely: no IEND header was found");return f},i=new Uint8Array(4),a=new Int32Array(i.buffer),o=new Uint32Array(i.buffer);export{n as default};
//# sourceMappingURL=index.js.map
