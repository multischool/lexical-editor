{"version":3,"file":"LexicalText.prod.mjs.js","sources":["../../../../node_modules/@lexical/text/LexicalText.prod.mjs"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport{$getRoot as t,$isDecoratorNode as e,$isElementNode as n,$isParagraphNode as r,$isTextNode as i,TextNode as o,$createTextNode as l}from\"lexical\";function s(){return t().getTextContent()}function f(t,e=!0){if(t)return!1;let n=s();return e&&(n=n.trim()),\"\"===n}function u(t,e){return()=>f(t,e)}function c(o){if(!f(o,!1))return!1;const l=t().getChildren(),s=l.length;if(s>1)return!1;for(let t=0;t<s;t++){const o=l[t];if(e(o))return!1;if(n(o)){if(!r(o))return!1;if(0!==o.__indent)return!1;const e=o.getChildren(),n=e.length;for(let r=0;r<n;r++){const n=e[t];if(!i(n))return!1}}}return!0}function g(t){return()=>c(t)}function a(t,e){let r=t.getFirstChild(),o=0;t:for(;null!==r;){if(n(r)){const t=r.getFirstChild();if(null!==t){r=t;continue}}else if(i(r)){const t=r.getTextContentSize();if(o+t>e)return{node:r,offset:e-o};o+=t}const t=r.getNextSibling();if(null!==t){r=t;continue}let l=r.getParent();for(;null!==l;){const t=l.getNextSibling();if(null!==t){r=t;continue t}l=l.getParent()}break}return null}function d(t,...e){const n=new URL(\"https://lexical.dev/docs/error\"),r=new URLSearchParams;r.append(\"code\",t);for(const t of e)r.append(\"v\",t);throw n.search=r.toString(),Error(`Minified Lexical error #${t}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function x(t,e,n,r){const s=t=>t instanceof n,f=t=>{const e=l(t.getTextContent());e.setFormat(t.getFormat()),t.replace(e)};return[t.registerNodeTransform(o,(t=>{if(!t.isSimpleText())return;let n,o=t.getPreviousSibling(),l=t.getTextContent(),u=t;if(i(o)){const n=o.getTextContent(),r=e(n+l);if(s(o)){if(null===r||0!==(t=>t.getLatest().__mode)(o))return void f(o);{const e=r.end-n.length;if(e>0){const r=n+l.slice(0,e);if(o.select(),o.setTextContent(r),e===l.length)t.remove();else{const n=l.slice(e);t.setTextContent(n)}return}}}else if(null===r||r.start<n.length)return}let c=0;for(;;){n=e(l);let t,g=null===n?\"\":l.slice(n.end);if(l=g,\"\"===g){const t=u.getNextSibling();if(i(t)){g=u.getTextContent()+t.getTextContent();const n=e(g);if(null===n)return void(s(t)?f(t):t.markDirty());if(0!==n.start)return}}if(null===n)return;if(0===n.start&&i(o)&&o.isTextEntity()){c+=n.end;continue}0===n.start?[t,u]=u.splitText(n.end):[,t,u]=u.splitText(n.start+c,n.end+c),void 0===t&&d(165,\"nodeToReplace\");const a=r(t);if(a.setFormat(t.getFormat()),t.replace(a),null==u)return;c=0,o=a}})),t.registerNodeTransform(n,(t=>{const n=t.getTextContent(),r=e(n);if(null===r||0!==r.start)return void f(t);if(n.length>r.end)return void t.splitText(r.end);const o=t.getPreviousSibling();i(o)&&o.isTextEntity()&&(f(o),f(t));const l=t.getNextSibling();i(l)&&l.isTextEntity()&&(f(l),s(t)&&f(t))}))]}export{c as $canShowPlaceholder,g as $canShowPlaceholderCurry,a as $findTextIntersectionFromCharacters,f as $isRootTextContentEmpty,u as $isRootTextContentEmptyCurry,s as $rootTextContent,x as registerLexicalTextEntity};\n"],"names":["s","t","getTextContent","f","e","n","trim","u","c","o","l","getChildren","length","r","__indent","i","g","a","getFirstChild","getTextContentSize","node","offset","getNextSibling","getParent","d","URL","URLSearchParams","append","search","toString","Error","x","setFormat","getFormat","replace","registerNodeTransform","isSimpleText","getPreviousSibling","getLatest","__mode","end","slice","select","setTextContent","remove","start","markDirty","isTextEntity","splitText"],"mappings":"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"}