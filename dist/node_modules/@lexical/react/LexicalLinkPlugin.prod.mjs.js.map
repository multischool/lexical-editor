{"version":3,"file":"LexicalLinkPlugin.prod.mjs.js","sources":["../../../../node_modules/@lexical/react/LexicalLinkPlugin.prod.mjs"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport{LinkNode as t,TOGGLE_LINK_COMMAND as r,$toggleLink as e}from\"@lexical/link\";import{useLexicalComposerContext as o}from\"@lexical/react/LexicalComposerContext\";import{mergeRegister as i,objectKlassEquals as l}from\"@lexical/utils\";import{COMMAND_PRIORITY_LOW as n,PASTE_COMMAND as a,$getSelection as m,$isRangeSelection as s,$isElementNode as u}from\"lexical\";import{useEffect as d}from\"react\";function c({validateUrl:c,attributes:p}){const[f]=o();return d((()=>{if(!f.hasNodes([t]))throw new Error(\"LinkPlugin: LinkNode not registered on editor\");return i(f.registerCommand(r,(t=>{if(null===t)return e(t),!0;if(\"string\"==typeof t)return!(void 0!==c&&!c(t))&&(e(t,p),!0);{const{url:r,target:o,rel:i,title:l}=t;return e(r,{...p,rel:i,target:o,title:l}),!0}}),n),void 0!==c?f.registerCommand(a,(t=>{const e=m();if(!s(e)||e.isCollapsed()||!l(t,ClipboardEvent))return!1;if(null===t.clipboardData)return!1;const o=t.clipboardData.getData(\"text\");return!!c(o)&&(!e.getNodes().some((t=>u(t)))&&(f.dispatchCommand(r,{...p,url:o}),t.preventDefault(),!0))}),n):()=>{})}),[f,c,p]),null}export{c as LinkPlugin};\n"],"names":["c","validateUrl","attributes","p","f","o","d","hasNodes","t","Error","i","registerCommand","r","e","url","target","rel","title","l","n","a","m","s","isCollapsed","ClipboardEvent","clipboardData","getData","getNodes","some","u","dispatchCommand","preventDefault"],"mappings":"uYAQ6Y,SAASA,GAAGC,YAAYD,EAAEE,WAAWC,IAAI,MAAMC,GAAGC,IAAI,OAAOC,GAAG,KAAK,IAAIF,EAAEG,SAAS,CAACC,IAAI,MAAM,IAAIC,MAAM,iDAAiD,OAAOC,EAAEN,EAAEO,gBAAgBC,GAAGJ,IAAI,GAAG,OAAOA,EAAE,OAAOK,EAAEL,IAAG,EAAG,GAAG,iBAAiBA,EAAE,aAAQ,IAASR,IAAIA,EAAEQ,KAAMK,EAAEL,EAAEL,GAAG,IAAI,CAAC,MAAMW,IAAIF,EAAEG,OAAOV,EAAEW,IAAIN,EAAEO,MAAMC,GAAGV,EAAE,OAAOK,EAAED,EAAE,IAAIT,EAAEa,IAAIN,EAAEK,OAAOV,EAAEY,MAAMC,KAAI,CAAE,CAAE,GAAEC,QAAG,IAASnB,EAAEI,EAAEO,gBAAgBS,GAAGZ,IAAI,MAAMK,EAAEQ,IAAI,IAAIC,EAAET,IAAIA,EAAEU,gBAAgBL,EAAEV,EAAEgB,gBAAgB,OAAM,EAAG,GAAG,OAAOhB,EAAEiB,cAAc,OAAM,EAAG,MAAMpB,EAAEG,EAAEiB,cAAcC,QAAQ,QAAQ,QAAQ1B,EAAEK,KAAMQ,EAAEc,WAAWC,MAAMpB,GAAGqB,EAAErB,OAAOJ,EAAE0B,gBAAgBlB,EAAE,IAAIT,EAAEW,IAAIT,IAAIG,EAAEuB,kBAAiB,EAAK,GAAEZ,GAAG,OAAQ,GAAE,CAACf,EAAEJ,EAAEG,IAAI,IAAI"}