import{useLexicalComposerContext as e}from"./LexicalComposerContext.mjs.js";import{useLayoutEffect as t,useEffect as o}from"react";const r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t:o;function i({ignoreHistoryMergeTagChange:t=!0,ignoreSelectionChange:o=!1,onChange:i}){const[n]=e();return r((()=>{if(i)return n.registerUpdateListener((({editorState:e,dirtyElements:r,dirtyLeaves:s,prevEditorState:d,tags:a})=>{o&&0===r.size&&0===s.size||t&&a.has("history-merge")||d.isEmpty()||i(e,n,a)}))}),[n,t,o,i]),null}export{i as OnChangePlugin};
//# sourceMappingURL=LexicalOnChangePlugin.dev.mjs.js.map
