{"version":3,"file":"LexicalHistoryPlugin.dev.mjs.js","sources":["../../../../node_modules/@lexical/react/LexicalHistoryPlugin.dev.mjs"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext';\nimport { createEmptyHistoryState, registerHistory } from '@lexical/history';\nexport { createEmptyHistoryState } from '@lexical/history';\nimport { useMemo, useEffect } from 'react';\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nfunction useHistory(editor, externalHistoryState, delay = 1000) {\n  const historyState = useMemo(() => externalHistoryState || createEmptyHistoryState(), [externalHistoryState]);\n  useEffect(() => {\n    return registerHistory(editor, historyState, delay);\n  }, [delay, editor, historyState]);\n}\n\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nfunction HistoryPlugin({\n  delay,\n  externalHistoryState\n}) {\n  const [editor] = useLexicalComposerContext();\n  useHistory(editor, externalHistoryState, delay);\n  return null;\n}\n\nexport { HistoryPlugin };\n"],"names":["HistoryPlugin","delay","externalHistoryState","editor","useLexicalComposerContext","historyState","useMemo","createEmptyHistoryState","useEffect","registerHistory","useHistory"],"mappings":"iSAoCA,SAASA,GAAcC,MACrBA,EAAKC,qBACLA,IAEA,MAAOC,GAAUC,IAEjB,OArBF,SAAoBD,EAAQD,EAAsBD,EAAQ,KACxD,MAAMI,EAAeC,GAAQ,IAAMJ,GAAwBK,KAA2B,CAACL,IACvFM,GAAU,IACDC,EAAgBN,EAAQE,EAAcJ,IAC5C,CAACA,EAAOE,EAAQE,GACrB,CAeEK,CAAWP,EAAQD,EAAsBD,GAClC,IACT"}