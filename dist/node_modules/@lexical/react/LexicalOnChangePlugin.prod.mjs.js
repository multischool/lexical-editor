import{useLexicalComposerContext as e}from"./LexicalComposerContext.mjs.js";import{useLayoutEffect as t,useEffect as n}from"react";const o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t:n;function i({ignoreHistoryMergeTagChange:t=!0,ignoreSelectionChange:n=!1,onChange:i}){const[r]=e();return o((()=>{if(i)return r.registerUpdateListener((({editorState:e,dirtyElements:o,dirtyLeaves:s,prevEditorState:a,tags:d})=>{n&&0===o.size&&0===s.size||t&&d.has("history-merge")||a.isEmpty()||i(e,r,d)}))}),[r,t,n,i]),null}export{i as OnChangePlugin};
//# sourceMappingURL=LexicalOnChangePlugin.prod.mjs.js.map
