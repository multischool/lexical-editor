{"version":3,"file":"LexicalClickableLinkPlugin.prod.mjs.js","sources":["../../../../node_modules/@lexical/react/LexicalClickableLinkPlugin.prod.mjs"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport{$isLinkNode as e}from\"@lexical/link\";import{useLexicalComposerContext as t}from\"@lexical/react/LexicalComposerContext\";import{$findMatchingParent as n,isHTMLAnchorElement as r}from\"@lexical/utils\";import{isDOMNode as l,getNearestEditorFromDOMNode as o,$getNearestNodeFromDOMNode as i,$isElementNode as u,$getSelection as a,$isRangeSelection as c}from\"lexical\";import{useEffect as s}from\"react\";function f({newTab:f=!0,disabled:m=!1}){const[p]=t();return s((()=>{const t=t=>{const s=t.target;if(!l(s))return;const d=o(s);if(null===d)return;let v=null,x=null;if(d.update((()=>{const t=i(s);if(null!==t){const l=n(t,u);if(!m)if(e(l))v=l.sanitizeUrl(l.getURL()),x=l.getTarget();else{const e=function(e,t){let n=e;for(;null!=n;){if(t(n))return n;n=n.parentNode}return null}(s,r);null!==e&&(v=e.href,x=e.target)}}})),null===v||\"\"===v)return;const g=p.getEditorState().read(a);if(c(g)&&!g.isCollapsed())return void t.preventDefault();const L=\"auxclick\"===t.type&&1===t.button;window.open(v,f||L||t.metaKey||t.ctrlKey||\"_blank\"===x?\"_blank\":\"_self\"),t.preventDefault()},s=e=>{1===e.button&&t(e)};return p.registerRootListener(((e,n)=>{null!==n&&(n.removeEventListener(\"click\",t),n.removeEventListener(\"mouseup\",s)),null!==e&&(e.addEventListener(\"click\",t),e.addEventListener(\"mouseup\",s))}))}),[p,f,m]),null}export{f as ClickableLinkPlugin};\n"],"names":["f","newTab","disabled","m","p","t","s","target","l","d","o","v","x","update","i","n","u","e","sanitizeUrl","getURL","getTarget","parentNode","r","href","g","getEditorState","read","a","c","isCollapsed","preventDefault","L","type","button","window","open","metaKey","ctrlKey","registerRootListener","removeEventListener","addEventListener"],"mappings":"2YAQiZ,SAASA,GAAGC,OAAOD,GAAE,EAAGE,SAASC,GAAE,IAAK,MAAMC,GAAGC,IAAI,OAAOC,GAAC,KAAO,MAAMD,EAAEA,IAAI,MAAMC,EAAED,EAAEE,OAAO,IAAIC,EAAEF,GAAG,OAAO,MAAMG,EAAEC,EAAEJ,GAAG,GAAG,OAAOG,EAAE,OAAO,IAAIE,EAAE,KAAKC,EAAE,KAAK,GAAGH,EAAEI,QAAM,KAAO,MAAMR,EAAES,EAAER,GAAG,GAAG,OAAOD,EAAE,CAAC,MAAMG,EAAEO,EAAEV,EAAEW,GAAG,IAAIb,EAAE,GAAGc,EAAET,GAAGG,EAAEH,EAAEU,YAAYV,EAAEW,UAAUP,EAAEJ,EAAEY,gBAAgB,CAAC,MAAMH,EAAE,SAASA,EAAEZ,GAAG,IAAIU,EAAEE,EAAE,KAAK,MAAMF,GAAG,CAAC,GAAGV,EAAEU,GAAG,OAAOA,EAAEA,EAAEA,EAAEM,UAAU,CAAC,OAAO,IAAI,CAAhF,CAAkFf,EAAEgB,GAAG,OAAOL,IAAIN,EAAEM,EAAEM,KAAKX,EAAEK,EAAEV,OAAO,CAAC,CAAE,IAAG,OAAOI,GAAG,KAAKA,EAAE,OAAO,MAAMa,EAAEpB,EAAEqB,iBAAiBC,KAAKC,GAAG,GAAGC,EAAEJ,KAAKA,EAAEK,cAAc,YAAYxB,EAAEyB,iBAAiB,MAAMC,EAAE,aAAa1B,EAAE2B,MAAM,IAAI3B,EAAE4B,OAAOC,OAAOC,KAAKxB,EAAEX,GAAG+B,GAAG1B,EAAE+B,SAAS/B,EAAEgC,SAAS,WAAWzB,EAAE,SAAS,SAASP,EAAEyB,gBAAc,EAAIxB,EAAEW,IAAI,IAAIA,EAAEgB,QAAQ5B,EAAEY,EAAE,EAAE,OAAOb,EAAEkC,sBAAoB,CAAGrB,EAAEF,KAAK,OAAOA,IAAIA,EAAEwB,oBAAoB,QAAQlC,GAAGU,EAAEwB,oBAAoB,UAAUjC,IAAI,OAAOW,IAAIA,EAAEuB,iBAAiB,QAAQnC,GAAGY,EAAEuB,iBAAiB,UAAUlC,GAAI,GAAG,GAAE,CAACF,EAAEJ,EAAEG,IAAI,IAAI"}