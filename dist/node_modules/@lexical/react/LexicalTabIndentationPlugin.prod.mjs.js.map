{"version":3,"file":"LexicalTabIndentationPlugin.prod.mjs.js","sources":["../../../../node_modules/@lexical/react/LexicalTabIndentationPlugin.prod.mjs"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport{useLexicalComposerContext as t}from\"@lexical/react/LexicalComposerContext\";import{mergeRegister as e,$getNearestBlockElementAncestorOrThrow as n,$filter as r}from\"@lexical/utils\";import{KEY_TAB_COMMAND as o,$getSelection as c,$isRangeSelection as i,OUTDENT_CONTENT_COMMAND as s,INDENT_CONTENT_COMMAND as a,INSERT_TAB_COMMAND as m,COMMAND_PRIORITY_EDITOR as u,COMMAND_PRIORITY_CRITICAL as l,$isBlockElementNode as f,$createRangeSelection as d,$normalizeSelection__EXPERIMENTAL as p}from\"lexical\";import{useEffect as g}from\"react\";function x(t,g){return e(t.registerCommand(o,(e=>{const o=c();if(!i(o))return!1;e.preventDefault();const u=function(t){const e=t.getNodes();if(r(e,(t=>f(t)&&t.canIndent()?t:null)).length>0)return!0;const o=t.anchor,c=t.focus,i=c.isBefore(o)?c:o,s=i.getNode(),a=n(s);if(a.canIndent()){const t=a.getKey();let e=d();if(e.anchor.set(t,0,\"element\"),e.focus.set(t,0,\"element\"),e=p(e),e.anchor.is(i))return!0}return!1}(o)?e.shiftKey?s:a:m;return t.dispatchCommand(u,void 0)}),u),t.registerCommand(a,(()=>{if(null==g)return!1;const t=c();if(!i(t))return!1;const e=t.getNodes().map((t=>n(t).getIndent()));return Math.max(...e)+1>=g}),l))}function h({maxIndent:e}){const[n]=t();return g((()=>x(n,e)),[n,e]),null}export{h as TabIndentationPlugin,x as registerTabIndentation};\n"],"names":["x","t","g","e","registerCommand","o","c","i","preventDefault","u","getNodes","r","f","canIndent","length","anchor","focus","isBefore","s","getNode","a","n","getKey","d","set","p","is","shiftKey","m","dispatchCommand","map","getIndent","Math","max","l","h","maxIndent"],"mappings":"khBAQwhB,SAASA,EAAEC,EAAEC,GAAG,OAAOC,EAAEF,EAAEG,gBAAgBC,GAAGF,IAAI,MAAME,EAAEC,IAAI,IAAIC,EAAEF,GAAG,OAAM,EAAGF,EAAEK,iBAAiB,MAAMC,EAAE,SAASR,GAAG,MAAME,EAAEF,EAAES,WAAW,GAAGC,EAAER,GAAGF,GAAGW,EAAEX,IAAIA,EAAEY,YAAYZ,EAAE,OAAOa,OAAO,EAAE,OAAM,EAAG,MAAMT,EAAEJ,EAAEc,OAAOT,EAAEL,EAAEe,MAAMT,EAAED,EAAEW,SAASZ,GAAGC,EAAED,EAAEa,EAAEX,EAAEY,UAAUC,EAAEC,EAAEH,GAAG,GAAGE,EAAEP,YAAY,CAAC,MAAMZ,EAAEmB,EAAEE,SAAS,IAAInB,EAAEoB,IAAI,GAAGpB,EAAEY,OAAOS,IAAIvB,EAAE,EAAE,WAAWE,EAAEa,MAAMQ,IAAIvB,EAAE,EAAE,WAAWE,EAAEsB,EAAEtB,GAAGA,EAAEY,OAAOW,GAAGnB,GAAG,OAAM,CAAE,CAAC,OAAM,CAAE,CAA/S,CAAiTF,GAAGF,EAAEwB,SAAST,EAAEE,EAAEQ,EAAE,OAAO3B,EAAE4B,gBAAgBpB,OAAE,EAAQ,GAAEA,GAAGR,EAAEG,gBAAgBgB,GAAC,KAAO,GAAG,MAAMlB,EAAE,OAAM,EAAG,MAAMD,EAAEK,IAAI,IAAIC,EAAEN,GAAG,OAAM,EAAG,MAAME,EAAEF,EAAES,WAAWoB,KAAK7B,GAAGoB,EAAEpB,GAAG8B,cAAc,OAAOC,KAAKC,OAAO9B,GAAG,GAAGD,CAAE,GAAEgC,GAAG,CAAC,SAASC,GAAGC,UAAUjC,IAAI,MAAMkB,GAAGpB,IAAI,OAAOC,GAAC,IAAMF,EAAEqB,EAAElB,IAAI,CAACkB,EAAElB,IAAI,IAAI"}