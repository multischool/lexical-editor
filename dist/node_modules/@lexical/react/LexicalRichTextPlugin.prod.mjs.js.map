{"version":3,"file":"LexicalRichTextPlugin.prod.mjs.js","sources":["../../../../node_modules/@lexical/react/LexicalRichTextPlugin.prod.mjs"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport{useLexicalComposerContext as t}from\"@lexical/react/LexicalComposerContext\";import{useLexicalEditable as e}from\"@lexical/react/useLexicalEditable\";import{$canShowPlaceholderCurry as r}from\"@lexical/text\";import{mergeRegister as o}from\"@lexical/utils\";import{useLayoutEffect as n,useEffect as i,useState as c,useMemo as l,Suspense as a}from\"react\";import{flushSync as u,createPortal as m}from\"react-dom\";import{jsx as s,jsxs as d,Fragment as f}from\"react/jsx-runtime\";import{registerDragonSupport as p}from\"@lexical/dragon\";import{registerRichText as x}from\"@lexical/rich-text\";const g=\"undefined\"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n:i;function E(t){return t.getEditorState().read(r(t.isComposing()))}function h({contentEditable:e,placeholder:r=null,ErrorBoundary:n}){const[E]=t(),h=function(t,e){const[r,o]=c((()=>t.getDecorators()));return g((()=>t.registerDecoratorListener((t=>{u((()=>{o(t)}))}))),[t]),i((()=>{o(t.getDecorators())}),[t]),l((()=>{const o=[],n=Object.keys(r);for(let i=0;i<n.length;i++){const c=n[i],l=s(e,{onError:e=>t._onError(e),children:s(a,{fallback:null,children:r[c]})}),u=t.getElementByKey(c);null!==u&&o.push(m(l,u,c))}return o}),[e,r,t])}(E,n);return function(t){g((()=>o(x(t),p(t))),[t])}(E),d(f,{children:[e,s(w,{content:r}),h]})}function w({content:r}){const[n]=t(),i=function(t){const[e,r]=c((()=>E(t)));return g((()=>{function e(){const e=E(t);r(e)}return e(),o(t.registerUpdateListener((()=>{e()})),t.registerEditableListener((()=>{e()})))}),[t]),e}(n),l=e();return i?\"function\"==typeof r?r(l):r:null}export{h as RichTextPlugin};\n"],"names":["g","window","document","createElement","n","i","E","t","getEditorState","read","r","isComposing","h","contentEditable","e","placeholder","ErrorBoundary","o","c","getDecorators","registerDecoratorListener","u","l","Object","keys","length","s","exports","jsx","onError","_onError","children","a","fallback","getElementByKey","push","m","x","p","d","f","w","content","registerUpdateListener","registerEditableListener"],"mappings":"+mBAQukB,MAAMA,EAAE,oBAAoBC,aAAQ,IAASA,OAAOC,eAAU,IAASD,OAAOC,SAASC,cAAcC,EAAEC,EAAE,SAASC,EAAEC,GAAG,OAAOA,EAAEC,iBAAiBC,KAAKC,EAAEH,EAAEI,eAAe,CAAC,SAASC,GAAGC,gBAAgBC,EAAEC,YAAYL,EAAE,KAAKM,cAAcZ,IAAI,MAAME,GAAGC,IAAIK,EAAE,SAASL,EAAEO,GAAG,MAAMJ,EAAEO,GAAGC,GAAG,IAAIX,EAAEY,kBAAkB,OAAOnB,GAAC,IAAMO,EAAEa,2BAA2Bb,IAAIc,GAAG,KAAKJ,EAAEV,EAAG,GAAG,KAAI,CAACA,IAAIF,GAAG,KAAKY,EAAEV,EAAEY,gBAAiB,GAAE,CAACZ,IAAIe,GAAC,KAAO,MAAML,EAAE,GAAGb,EAAEmB,OAAOC,KAAKd,GAAG,IAAI,IAAIL,EAAE,EAAEA,EAAED,EAAEqB,OAAOpB,IAAI,CAAC,MAAMa,EAAEd,EAAEC,GAAGiB,EAAEI,EAACC,QAAAC,IAACd,EAAE,CAACe,QAAQf,GAAGP,EAAEuB,SAAShB,GAAGiB,SAASL,EAACC,QAAAC,IAACI,EAAE,CAACC,SAAS,KAAKF,SAASrB,EAAEQ,OAAOG,EAAEd,EAAE2B,gBAAgBhB,GAAG,OAAOG,GAAGJ,EAAEkB,KAAKC,EAAEd,EAAED,EAAEH,GAAG,CAAC,OAAOD,CAAE,GAAE,CAACH,EAAEJ,EAAEH,GAAG,CAAhY,CAAkYD,EAAEF,GAAG,OAAmBJ,GAAG,IAAIiB,EAAEoB,EAAE9B,GAAG+B,EAAE/B,KAAK,CAAxBA,EAA8BD,IAAGiC,EAAAA,QAAAA,KAAEC,EAAAA,QAAAA,SAAE,CAACT,SAAS,CAACjB,EAAEY,EAACC,QAAAC,IAACa,EAAE,CAACC,QAAQhC,IAAIE,KAA5E,IAASL,CAAuE,CAAC,SAASkC,GAAGC,QAAQhC,IAAI,MAAMN,GAAGG,IAAIF,EAAE,SAASE,GAAG,MAAMO,EAAEJ,GAAGQ,GAAG,IAAIZ,EAAEC,KAAK,OAAOP,GAAC,KAAO,SAASc,IAAI,MAAMA,EAAER,EAAEC,GAAGG,EAAEI,EAAE,CAAC,OAAOA,IAAIG,EAAEV,EAAEoC,wBAAsB,KAAO7B,GAAI,IAAGP,EAAEqC,0BAA0B,KAAK9B,GAAI,IAAI,GAAE,CAACP,IAAIO,CAAC,CAAvL,CAAyLV,GAAGkB,EAAER,IAAI,OAAOT,EAAE,mBAAmBK,EAAEA,EAAEY,GAAGZ,EAAE,IAAI"}