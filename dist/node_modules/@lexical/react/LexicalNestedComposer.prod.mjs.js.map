{"version":3,"file":"LexicalNestedComposer.prod.mjs.js","sources":["../../../../node_modules/@lexical/react/LexicalNestedComposer.prod.mjs"],"sourcesContent":["/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\n\nimport{useCollaborationContext as e}from\"@lexical/react/LexicalCollaborationContext\";import{LexicalComposerContext as t,createLexicalComposerContext as n}from\"@lexical/react/LexicalComposerContext\";import{useRef as o,useContext as r,useMemo as i,useEffect as s}from\"react\";import{jsx as a}from\"react/jsx-runtime\";function l(e){const t=e.transform();return new Set(t?[t]:[])}const c=()=>{},p=()=>{};function f({initialEditor:f,children:d,initialNodes:m,initialTheme:u,skipCollabChecks:h,skipEditableListener:g}){const _=o(!1),x=r(t);null==x&&function(e,...t){const n=new URL(\"https://lexical.dev/docs/error\"),o=new URLSearchParams;o.append(\"code\",e);for(const e of t)o.append(\"v\",e);throw n.search=o.toString(),Error(`Minified Lexical error #${e}; visit ${n.toString()} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(9);const[v,{getTheme:E}]=x,w=i((()=>{const e=u||E()||void 0,t=n(x,e);void 0!==e&&(f._config.theme=e),f._parentEditor=f._parentEditor||v;const o=f._createEditorArgs,r=o&&o.namespace;if(m){c(),r||(p(),f._config.namespace=v._config.namespace);for(let e of m){let t=null,n=null;if(\"function\"!=typeof e){const o=e;e=o.replace,t=o.with,n=o.withKlass||null}const o=f._nodes.get(e.getType());f._nodes.set(e.getType(),{exportDOM:o?o.exportDOM:void 0,klass:e,replace:t,replaceWithKlass:n,transforms:l(e)})}}else if(o&&o.nodes)r||(p(),f._config.namespace=v._config.namespace);else{const e=f._nodes=new Map(v._nodes);r||(f._config.namespace=v._config.namespace);for(const[t,n]of e)f._nodes.set(t,{exportDOM:n.exportDOM,klass:n.klass,replace:n.replace,replaceWithKlass:n.replaceWithKlass,transforms:l(n.klass)})}return[f,t]}),[]),{isCollabActive:b,yjsDocMap:k}=e(),C=h||_.current||k.has(f.getKey());return s((()=>{C&&(_.current=!0)}),[C]),s((()=>{if(!g){const e=e=>f.setEditable(e);return e(v.isEditable()),v.registerEditableListener(e)}}),[f,v,g]),a(t.Provider,{value:w,children:!b||C?d:null})}export{f as LexicalNestedComposer};\n"],"names":["l","e","t","transform","Set","f","initialEditor","children","d","initialNodes","m","initialTheme","u","skipCollabChecks","h","skipEditableListener","g","_","o","x","r","n","URL","URLSearchParams","append","search","toString","Error","v","getTheme","E","w","i","_config","theme","_parentEditor","_createEditorArgs","namespace","replace","with","withKlass","_nodes","get","getType","set","exportDOM","klass","replaceWithKlass","transforms","nodes","Map","isCollabActive","b","yjsDocMap","k","C","current","has","getKey","s","setEditable","isEditable","registerEditableListener","a","exports","jsx","Provider","value"],"mappings":"6VAQyT,SAASA,EAAEC,GAAG,MAAMC,EAAED,EAAEE,YAAY,OAAO,IAAIC,IAAIF,EAAE,CAACA,GAAG,GAAG,CAAyB,SAASG,GAAGC,cAAcD,EAAEE,SAASC,EAAEC,aAAaC,EAAEC,aAAaC,EAAEC,iBAAiBC,EAAEC,qBAAqBC,IAAI,MAAMC,EAAEC,GAAE,GAAIC,EAAEC,EAAElB,GAAG,MAAMiB,GAAG,SAASlB,KAAKC,GAAG,MAAMmB,EAAE,IAAIC,IAAI,kCAAkCJ,EAAE,IAAIK,gBAAgBL,EAAEM,OAAO,OAAOvB,GAAG,IAAI,MAAMA,KAAKC,EAAEgB,EAAEM,OAAO,IAAIvB,GAAG,MAAMoB,EAAEI,OAAOP,EAAEQ,WAAWC,MAAM,2BAA2B1B,YAAYoB,EAAEK,2HAA2H,CAAnV,CAAqV,GAAG,MAAME,GAAGC,SAASC,IAAIX,EAAEY,EAAEC,GAAG,KAAK,MAAM/B,EAAEW,GAAGkB,UAAK,EAAO5B,EAAEmB,EAAEF,EAAElB,QAAG,IAASA,IAAII,EAAE4B,QAAQC,MAAMjC,GAAGI,EAAE8B,cAAc9B,EAAE8B,eAAeP,EAAE,MAAMV,EAAEb,EAAE+B,kBAAkBhB,EAAEF,GAAGA,EAAEmB,UAAU,GAAG3B,EAAE,CAAKU,IAAQf,EAAE4B,QAAQI,UAAUT,EAAEK,QAAQI,WAAW,IAAI,IAAIpC,KAAKS,EAAE,CAAC,IAAIR,EAAE,KAAKmB,EAAE,KAAK,GAAG,mBAAmBpB,EAAE,CAAC,MAAMiB,EAAEjB,EAAEA,EAAEiB,EAAEoB,QAAQpC,EAAEgB,EAAEqB,KAAKlB,EAAEH,EAAEsB,WAAW,IAAI,CAAC,MAAMtB,EAAEb,EAAEoC,OAAOC,IAAIzC,EAAE0C,WAAWtC,EAAEoC,OAAOG,IAAI3C,EAAE0C,UAAU,CAACE,UAAU3B,EAAEA,EAAE2B,eAAU,EAAOC,MAAM7C,EAAEqC,QAAQpC,EAAE6C,iBAAiB1B,EAAE2B,WAAWhD,EAAEC,IAAI,CAAC,MAAM,GAAGiB,GAAGA,EAAE+B,MAAM7B,IAAQf,EAAE4B,QAAQI,UAAUT,EAAEK,QAAQI,eAAe,CAAC,MAAMpC,EAAEI,EAAEoC,OAAO,IAAIS,IAAItB,EAAEa,QAAQrB,IAAIf,EAAE4B,QAAQI,UAAUT,EAAEK,QAAQI,WAAW,IAAI,MAAMnC,EAAEmB,KAAKpB,EAAEI,EAAEoC,OAAOG,IAAI1C,EAAE,CAAC2C,UAAUxB,EAAEwB,UAAUC,MAAMzB,EAAEyB,MAAMR,QAAQjB,EAAEiB,QAAQS,iBAAiB1B,EAAE0B,iBAAiBC,WAAWhD,EAAEqB,EAAEyB,QAAQ,CAAC,MAAM,CAACzC,EAAEH,EAAG,GAAE,KAAKiD,eAAeC,EAAEC,UAAUC,GAAGrD,IAAIsD,EAAEzC,GAAGG,EAAEuC,SAASF,EAAEG,IAAIpD,EAAEqD,UAAU,OAAOC,GAAG,KAAKJ,IAAItC,EAAEuC,SAAQ,EAAI,GAAE,CAACD,IAAII,GAAC,KAAO,IAAI3C,EAAE,CAAC,MAAMf,EAAEA,GAAGI,EAAEuD,YAAY3D,GAAG,OAAOA,EAAE2B,EAAEiC,cAAcjC,EAAEkC,yBAAyB7D,EAAE,CAAE,GAAE,CAACI,EAAEuB,EAAEZ,IAAI+C,EAACC,QAAAC,IAAC/D,EAAEgE,SAAS,CAACC,MAAMpC,EAAExB,UAAU6C,GAAGG,EAAE/C,EAAE,MAAM"}