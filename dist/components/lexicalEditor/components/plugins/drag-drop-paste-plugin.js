import{__awaiter as e,__generator as r}from"../../../../node_modules/tslib/tslib.es6.mjs.js";import{useEffect as t}from"react";import{useLexicalComposerContext as i}from"../../../../node_modules/@lexical/react/LexicalComposerContext.mjs.js";import{DRAG_DROP_PASTE as o}from"@lexical/rich-text";import{isMimeType as m,mediaFileReader as n}from"@lexical/utils";import{COMMAND_PRIORITY_LOW as a}from"lexical";import{INSERT_IMAGE_COMMAND as l}from"./images-plugin.js";var s=["image/","image/heic","image/heif","image/gif","image/webp"];function c(){var c=this,u=i()[0];return t((function(){return u.registerCommand(o,(function(t){return e(c,void 0,void 0,(function(){var e,i,o,a,c,f;return r(this,(function(r){switch(r.label){case 0:return[4,n(t,[s].flatMap((function(e){return e})))];case 1:for(e=r.sent(),i=0,o=e;i<o.length;i++)a=o[i],c=a.file,f=a.result,m(c,s)&&u.dispatchCommand(l,{altText:c.name,src:f});return[2]}}))})),!0}),a)}),[u]),null}export{c as DragDropPastePlugin};
//# sourceMappingURL=drag-drop-paste-plugin.js.map
