import{useCallback as t}from"react";import{$isDecoratorBlockNode as e}from"../../../../../node_modules/@lexical/react/LexicalDecoratorBlockNode.mjs.js";import{$isHeadingNode as o,$isQuoteNode as r}from"@lexical/rich-text";import{$isTableSelection as a}from"@lexical/table";import{$getNearestBlockElementAncestorOrThrow as i}from"@lexical/utils";import{$getSelection as c,$isRangeSelection as s,$isTextNode as l,$createParagraphNode as m}from"lexical";import{Button as f}from"../../../ui/button.js";import{useToolbarContext as n}from"../../context/toolbar-context.js";import u from"../../../../../node_modules/lucide-react/dist/esm/icons/eraser.js";function p(){var p=n().activeEditor,x=t((function(){p.update((function(){var t=c();if(s(t)||a(t)){var f=t.anchor,n=t.focus,u=t.getNodes(),p=t.extract();if(f.key===n.key&&f.offset===n.offset)return;u.forEach((function(t,a){if(l(t)){var c=t;0===a&&0!==f.offset&&(c=c.splitText(f.offset)[1]||c),a===u.length-1&&(c=c.splitText(n.offset)[0]||c);var s=p[0];1===u.length&&l(s)&&(c=s),""!==c.__style&&c.setStyle(""),0!==c.__format&&(c.setFormat(0),i(c).setFormat("")),t=c}else o(t)||r(t)?t.replace(m(),!0):e(t)&&t.setFormat("")}))}}))}),[p]);return React.createElement(f,{size:"sm",variant:"outline",className:"h-8 w-8",onClick:x},React.createElement(u,{className:"h-4 w-4"}))}export{p as ClearFormattingToolbarPlugin};
//# sourceMappingURL=clear-formatting-toolbar-plugin.js.map
