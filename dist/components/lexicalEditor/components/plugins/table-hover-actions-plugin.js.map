{"version":3,"file":"table-hover-actions-plugin.js","sources":["../../../../../../src/components/lexicalEditor/components/plugins/table-hover-actions-plugin.tsx"],"sourcesContent":[null],"names":["TableHoverActionsContainer","_a","anchorElem","editor","useLexicalComposerContext","isEditable","useLexicalEditable","_b","useState","isShownRow","setShownRow","_c","isShownColumn","setShownColumn","_d","shouldListenMouseMove","setShouldListenMouseMove","_e","position","setPosition","tableSetRef","useRef","Set","tableCellDOMNodeRef","debouncedOnMouseMove","useDebounce","event","target","HTMLElement","tableDOMNode","closest","isOutside","getMouseInfo","current","hoveredRowNode","hoveredColumnNode","tableDOMElement","update","maybeTableCell","$getNearestNodeFromDOMNode","$isTableCellNode","table","$findMatchingParent","node","$isTableNode","getElementByKey","getKey","rowCount","getChildrenSize","colCount","getChildAtIndex","rowIndex","$getTableRowIndexFromTableCellNode","colIndex","$getTableColumnIndexFromTableCellNode","getBoundingClientRect","tableElemWidth","width","tableElemY","y","tableElemRight","right","tableElemLeft","left","tableElemBottom","bottom","tableElemHeight","height","editorElemY","editorElemLeft","top","tableResizeObserver","useMemo","ResizeObserver","useEffect","document","addEventListener","cancel","removeEventListener","mergeRegister","registerMutationListener","TableNode","mutations","getEditorState","read","_i","Array","from","length","key","type","add","size","observe","disconnect","forEach","tableKey","tableElement","skipInitialization","insertAction","insertRow","maybeTableNode","selectEnd","$insertTableRow__EXPERIMENTAL","$insertTableColumn__EXPERIMENTAL","React","createElement","Fragment","className","style","__assign","onClick","PlusIcon","TableHoverActionsPlugin","createPortal"],"mappings":"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"}