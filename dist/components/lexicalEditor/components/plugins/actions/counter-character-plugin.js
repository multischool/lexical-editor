import{useState as e,useEffect as t}from"react";import{$rootTextContent as r}from"../../../../../node_modules/@lexical/text/LexicalText.mjs.js";import{useLexicalComposerContext as n}from"../../../../../node_modules/@lexical/react/LexicalComposerContext.mjs.js";var o=null;function a(e){var t=void 0===window.TextEncoder?null:(null===o&&(o=new window.TextEncoder),o);if(null===t){var r=encodeURIComponent(e).match(/%[89ABab]/g);return e.length+(r?r.length:0)}return t.encode(e).length}var c=function(e,t){return"UTF-8"===t?a(e):"UTF-16"===t?e.length:void 0},l=function(e){return e.split(/\s+/).filter((function(e){return e.length>0})).length};function i(o){var a=o.charset,i=void 0===a?"UTF-16":a,s=n()[0],u=e((function(){var e=s.getEditorState().read(r);return{characters:c(e,i),words:l(e)}})),d=u[0],m=u[1];return t((function(){return s.registerTextContentListener((function(e){m({characters:c(e,i),words:l(e)})}))}),[s,i]),React.createElement("div",{className:"text-xs flex gap-2 text-gray-500 whitespace-nowrap"},React.createElement("p",null,d.characters," characters"),"|",React.createElement("p",null,d.words," words"))}export{i as CounterCharacterPlugin};
//# sourceMappingURL=counter-character-plugin.js.map
