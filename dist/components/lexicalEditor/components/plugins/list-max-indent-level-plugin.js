import{useEffect as r}from"react";import{$isListNode as e,$getListDepth as t,$isListItemNode as n}from"@lexical/list";import{useLexicalComposerContext as o}from"../../../../node_modules/@lexical/react/LexicalComposerContext.mjs.js";import{INDENT_CONTENT_COMMAND as a,COMMAND_PRIORITY_CRITICAL as i,$getSelection as m,$isRangeSelection as f,$isElementNode as u}from"lexical";function l(r){var o=m();if(!f(o))return!1;for(var a=function(r){var e=r.getNodes();return 0===e.length?new Set([r.anchor.getNode().getParentOrThrow(),r.focus.getNode().getParentOrThrow()]):new Set(e.map((function(r){return u(r)?r:r.getParentOrThrow()})))}(o),i=0,l=0,c=Array.from(a);l<c.length;l++){var s=c[l];if(e(s))i=Math.max(t(s)+1,i);else if(n(s)){var g=s.getParent();if(!e(g))throw new Error("ListMaxIndentLevelPlugin: A ListItemNode must have a ListNode for a parent.");i=Math.max(t(g)+1,i)}}return i>r}function c(e){var t=e.maxDepth,n=void 0===t?7:t,m=o()[0];return r((function(){return m.registerCommand(a,(function(){return l(n)}),i)}),[m,n]),null}export{c as ListMaxIndentLevelPlugin};
//# sourceMappingURL=list-max-indent-level-plugin.js.map
