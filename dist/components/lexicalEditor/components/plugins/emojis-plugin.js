import{useEffect as e}from"react";import{useLexicalComposerContext as r}from"../../../../node_modules/@lexical/react/LexicalComposerContext.mjs.js";import{TextNode as o}from"lexical";import{EmojiNode as t,$createEmojiNode as i}from"../nodes/emoji-node.js";var n=new Map([[":)",["emoji happysmile","🙂"]],[":D",["emoji veryhappysmile","😀"]],[":(",["emoji unhappysmile","🙁"]],["<3",["emoji heart","❤"]]]);function m(e){for(var r=e.getTextContent(),o=0;o<r.length;o++){var t=n.get(r[o])||n.get(r.slice(o,o+2));if(void 0!==t){var m=t[0],l=t[1],a=void 0;a=0===o?e.splitText(o+2)[0]:e.splitText(o,o+2)[1];var s=i(m,l);return a.replace(s),s}}return null}function l(e){for(var r=e;null!==r;){if(!r.isSimpleText())return;r=m(r)}}function a(){return function(r){e((function(){if(!r.hasNodes([t]))throw new Error("EmojisPlugin: EmojiNode not registered on editor");return r.registerNodeTransform(o,l)}),[r])}(r()[0]),null}export{a as EmojisPlugin};
//# sourceMappingURL=emojis-plugin.js.map
