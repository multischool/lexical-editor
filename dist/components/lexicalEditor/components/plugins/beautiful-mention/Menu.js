import{__assign as t}from"../../../../../node_modules/tslib/tslib.es6.mjs.js";import{$getSelection as e,$isRangeSelection as i}from"lexical";import{getTextContent as n}from"./mention-utils.js";var r=function(){function e(e,i,n){this.value=e,this.displayValue=i,this.data=n,this.key=n?JSON.stringify(t(t({},n),{value:e})):e,this.displayValue=null!=i?i:e,this.ref={current:null},this.setRefElement=this.setRefElement.bind(this)}return e.prototype.setRefElement=function(t){this.ref={current:t}},e}();function l(t){var r=e();if(!i(r)||!r.isCollapsed())return null;var l=r.anchor;if("text"!==l.type)return null;var s=l.getNode();if(!s.isSimpleText())return null;var u=l.offset,o=n(s).slice(0,u),a=t.replaceableString.length,f=u-function(t,e,i){for(var n=i,r=n;r<=e.length;r++)t.substring(-r)===e.substring(0,r)&&(n=r);return n}(o,t.matchingString,a);return f<0?null:0===f?s.splitText(u)[0]:s.splitText(f,u)[1]}export{l as $splitNodeContainingQuery,r as MenuOption};
//# sourceMappingURL=Menu.js.map
