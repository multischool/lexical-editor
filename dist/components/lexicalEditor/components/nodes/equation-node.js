import{__extends as t}from"../../../../node_modules/tslib/tslib.es6.mjs.js";import*as n from"react";import{Suspense as e}from"react";import i from"../../../../node_modules/katex/dist/katex.mjs.js";import{$applyNodeReplacement as o,DecoratorNode as r}from"lexical";var u=n.lazy((function(){return import("../editor-ui/equation-component.js")}));function a(t){var n=t.getAttribute("data-lexical-equation"),e="true"===t.getAttribute("data-lexical-inline");return(n=atob(n||""))?{node:c(n,e)}:null}var l=function(o){function r(t,n,e){var i=o.call(this,e)||this;return i.__equation=t,i.__inline=null!=n&&n,i}return t(r,o),r.getType=function(){return"equation"},r.clone=function(t){return new r(t.__equation,t.__inline,t.__key)},r.importJSON=function(t){return c(t.equation,t.inline)},r.prototype.exportJSON=function(){return{equation:this.getEquation(),inline:this.__inline,type:"equation",version:1}},r.prototype.createDOM=function(t){var n=document.createElement(this.__inline?"span":"div");return n.className="editor-equation user-action-none cursor-default focus:ring-2 focus:ring-primary focus:ring-offset-2 inline-block",n},r.prototype.exportDOM=function(){var t=document.createElement(this.__inline?"span":"div"),n=btoa(this.__equation);return t.setAttribute("data-lexical-equation",n),t.setAttribute("data-lexical-inline","".concat(this.__inline)),i.render(this.__equation,t,{displayMode:!this.__inline,errorColor:"#cc0000",output:"html",strict:"warn",throwOnError:!1,trust:!1}),{element:t}},r.importDOM=function(){return{div:function(t){return t.hasAttribute("data-lexical-equation")?{conversion:a,priority:2}:null},span:function(t){return t.hasAttribute("data-lexical-equation")?{conversion:a,priority:1}:null}}},r.prototype.updateDOM=function(t){return this.__inline!==t.__inline},r.prototype.getTextContent=function(){return this.__equation},r.prototype.getEquation=function(){return this.__equation},r.prototype.setEquation=function(t){this.getWritable().__equation=t},r.prototype.decorate=function(){return n.createElement(e,{fallback:null},n.createElement(u,{equation:this.__equation,inline:this.__inline,nodeKey:this.__key}))},r}(r);function c(t,n){void 0===t&&(t=""),void 0===n&&(n=!1);var e=new l(t,n);return o(e)}function s(t){return t instanceof l}export{c as $createEquationNode,s as $isEquationNode,l as EquationNode};
//# sourceMappingURL=equation-node.js.map
