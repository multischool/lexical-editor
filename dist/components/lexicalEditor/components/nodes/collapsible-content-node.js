import{__extends as t,__assign as e}from"../../../../node_modules/tslib/tslib.es6.mjs.js";import{ElementNode as n}from"lexical";import{IS_CHROME as o}from"../shared/environment.js";import{invariant as r}from"../shared/invariant.js";import{setDomHiddenUntilFound as i,domOnBeforeMatch as p}from"../utils/collapsible.js";import{$isCollapsibleContainerNode as a}from"./collapsible-container-node.js";function l(t){return{node:u()}}var c=function(n){function c(){return null!==n&&n.apply(this,arguments)||this}return t(c,n),c.getType=function(){return"collapsible-content"},c.clone=function(t){return new c(t.__key)},c.prototype.createDOM=function(t,e){var n=this,l=document.createElement("div");return l.classList.add("pt-0","pr-1","pb-1","pl-4"),o&&(e.getEditorState().read((function(){var t=n.getParentOrThrow();r(a(t),"Expected parent node to be a CollapsibleContainerNode"),t.__open||i(l)})),p(l,(function(){e.update((function(){var t=n.getParentOrThrow().getLatest();r(a(t),"Expected parent node to be a CollapsibleContainerNode"),t.__open||t.toggleOpen()}))}))),l},c.prototype.updateDOM=function(t,e){return!1},c.importDOM=function(){return{div:function(t){return t.hasAttribute("data-lexical-collapsible-content")?{conversion:l,priority:2}:null}}},c.prototype.exportDOM=function(){var t=document.createElement("div");return t.classList.add("pt-0","pr-1","pb-1","pl-4"),t.setAttribute("data-lexical-collapsible-content","true"),{element:t}},c.importJSON=function(t){return u()},c.prototype.isShadowRoot=function(){return!0},c.prototype.exportJSON=function(){return e(e({},n.prototype.exportJSON.call(this)),{type:"collapsible-content",version:1})},c}(n);function u(){return new c}function s(t){return t instanceof c}export{l as $convertCollapsibleContentElement,u as $createCollapsibleContentNode,s as $isCollapsibleContentNode,c as CollapsibleContentNode};
//# sourceMappingURL=collapsible-content-node.js.map
