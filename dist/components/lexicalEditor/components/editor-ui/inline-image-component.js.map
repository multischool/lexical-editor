{"version":3,"file":"inline-image-component.js","sources":["../../../../../../src/components/lexicalEditor/components/editor-ui/inline-image-component.tsx"],"sourcesContent":[null],"names":["imageCache","Set","LazyImage","_a","altText","className","imageRef","src","width","height","position","has","Promise","resolve","img","Image","onload","add","useSuspenseImage","React","undefined","alt","ref","style","display","draggable","UpdateInlineImageDialog","activeEditor","nodeKey","onClose","node","getEditorState","read","$getNodeByKey","_b","useState","getAltText","setAltText","_c","getShowCaption","showCaption","setShowCaption","_d","getPosition","setPosition","createElement","Label","htmlFor","Input","id","placeholder","onChange","e","target","value","Select","onValueChange","SelectTrigger","SelectValue","SelectContent","SelectItem","Checkbox","checked","onCheckedChange","DialogFooter","Button","onClick","payload","update","InlineImageComponent","caption","useEditorModal","modal","showModal","useRef","buttonRef","useLexicalNodeSelection","isSelected","setSelected","clearSelection","editor","useLexicalComposerContext","selection","setSelection","activeEditorRef","isEditable","useLexicalEditable","$onDelete","useCallback","deleteSelection","$getSelection","$isNodeSelection","preventDefault","getNodes","forEach","$isInlineImageNode","remove","$onEnter","event","latestSelection","buttonElem","current","length","$setSelection","focus","document","activeElement","$onEscape","parentRootElement","getRootElement","useEffect","isMounted","unregister","mergeRegister","registerUpdateListener","editorState","registerCommand","SELECTION_CHANGE_COMMAND","_","COMMAND_PRIORITY_LOW","CLICK_COMMAND","shiftKey","DRAGSTART_COMMAND","KEY_DELETE_COMMAND","KEY_BACKSPACE_COMMAND","KEY_ENTER_COMMAND","KEY_ESCAPE_COMMAND","isFocused","Suspense","fallback","Fragment","variant","concat","LexicalNestedComposer","initialEditor","AutoFocusPlugin","LinkPlugin","RichTextPlugin","contentEditable","ContentEditable","placeholderClassName","ErrorBoundary","LexicalErrorBoundary"],"mappings":"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"}