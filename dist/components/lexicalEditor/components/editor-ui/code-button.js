import{__awaiter as e,__generator as r}from"../../../../node_modules/tslib/tslib.es6.mjs.js";import*as t from"react";import{useState as o}from"react";import{$isCodeNode as n}from"@lexical/code";import{$getNearestNodeFromDOMNode as s,$getSelection as i,$setSelection as c}from"lexical";import{useDebounce as a}from"../editor-hooks/use-debounce.js";import l from"../../../../node_modules/lucide-react/dist/esm/icons/circle-check.js";import m from"../../../../node_modules/lucide-react/dist/esm/icons/copy.js";function u(u){var d=u.editor,p=u.getCodeDOMNode,f=o(!1),b=f[0],h=f[1],v=a((function(){h(!1)}),1e3);return t.createElement("button",{className:"flex shrink-0 cursor-pointer items-center rounded border border-transparent bg-none p-1 uppercase text-foreground/50",onClick:function(){return e(this,void 0,void 0,(function(){var e,t,o;return r(this,(function(r){switch(r.label){case 0:if(!(e=p()))return[2];t="",d.update((function(){var r=s(e);n(r)&&(t=r.getTextContent());var o=i();c(o)})),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(t)];case 2:return r.sent(),h(!0),v(),[3,4];case 3:return o=r.sent(),console.error("Failed to copy: ",o),[3,4];case 4:return[2]}}))}))},"aria-label":"copy"},b?t.createElement(l,{className:"size-4"}):t.createElement(m,{className:"size-4"}))}export{u as CopyButton};
//# sourceMappingURL=code-button.js.map
