{"version":3,"file":"page.jsx","sourceRoot":"","sources":["page.tsx"],"names":[],"mappings":"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","sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { SerializedEditorState } from 'lexical'\nimport { Editor, PluginOptions } from '@/components/lexicalEditor/blocks/editor'\nimport axios from 'axios'\nimport { MentionMenu, MentionMenuItem } from '@/components/lexicalEditor/components/editor-ui/MentionMenu'\n// Default value for the editor\n\nconst initialValue = {\n  root: {\n    children: [\n      {\n        children: [\n          {\n            detail: 0,\n            format: 0,\n            mode: 'normal',\n            style: '',\n            text: 'Hello, welcome to the powerful editor!',\n            type: 'text',\n            version: 1,\n          },\n        ],\n        direction: 'ltr',\n        format: '',\n        indent: 0,\n        type: 'paragraph',\n        version: 1,\n      },\n    ],\n    direction: 'ltr',\n    format: '',\n    indent: 0,\n    type: 'root',\n    version: 1,\n  },\n} as unknown as SerializedEditorState\n\nexport default function MinimalEditor() {\n  const [editorState, setEditorState] = useState<SerializedEditorState>(initialValue)\n\n  // Define a minimal set of toolbar options\n  const pluginOptions: PluginOptions = {\n    // Enable only essential features\n    history: true,\n    autoFocus: true,\n    richText: true,\n    list: true,\n    link: true,\n    autoLink: true,\n\n    // Disable features we don't need\n    checkList: true,\n    horizontalRule: true,\n    table: true,\n    excalidraw: true,\n    poll: true,\n    equations: true,\n    autoEmbed: true,\n    figma: true,\n    twitter: true,\n    youtube: true,\n    draggableBlock: true,\n\n    // Show toolbar but customize which buttons appear\n    showToolbar: true,\n    showBottomBar: true,\n\n    // Toolbar controls - only show basic formatting\n    toolbar: {\n      history: true,\n      blockFormat: true,\n      fontFamily: true, // Hide font family dropdown\n      fontSize: true,   // Hide font size dropdown\n\n      // Only allow basic text formatting\n      fontFormat: {\n        bold: true,\n        italic: true,\n        underline: true,     // Hide underline button\n        strikethrough: true  // Hide strikethrough button\n      },\n\n      // Disable these buttons\n      subSuper: true,\n      clearFormatting: true,\n      fontColor: true,\n      fontBackground: true,\n      elementFormat: true,\n\n      // Only allow inserting basic elements\n      blockInsert: {\n        horizontalRule: true,\n        pageBreak: true,\n        image: true,          // Allow images\n        inlineImage: true,\n        collapsible: true,\n        excalidraw: true,\n        table: true,\n        poll: true,\n        columnsLayout: true,\n        embeds: true\n      }\n    },\n\n    // Minimal bottom bar\n    actionBar: {\n      maxLength: true,\n      characterLimit: true,\n      counter: true,\n      speechToText: true,\n      shareContent: true,\n      markdownToggle: true,\n      editModeToggle: true,\n      clearEditor: true,\n      treeView: true\n    }\n  };\n\n  // Custom image upload handler\n  const handleImageUpload = async (file: File) => {\n    console.log(`Uploading image: ${file.name}`);\n\n    // Demo implementation\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve({\n          url: URL.createObjectURL(file)\n        });\n      }, 1000);\n    });\n  };\n\n  // Handle AI text generation\n  const handleAIGeneration = async (prompt: string, transformType: string) => {\n    console.log(`AI Generation request: ${transformType}, prompt: ${prompt}`);\n\n    // Example implementation - replace with your actual API call\n    try {\n      const response = await axios.post(\n        'https://staging-api.bootcampshub.ai/api/organization/integration/generate-text',\n        { prompt },\n        {\n          headers: {\n            'authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NGVmNjc2NjY5ZWFmNjM3MGMxMTQyOWMiLCJlbWFpbCI6IjE4Nm1kc2hpbXVsQGdtYWlsLmNvbSIsImJyYW5jaCI6IjY0ZmNiNGU4OTQ0Y2YyMTVkOGQzMmY5NSIsIm9yZ2FuaXphdGlvbiI6IjY0ZmNiMmU2MGQyZjg3N2FhY2NiM2IyNiIsInNvdXJjZSI6ImJyYW5jaCIsImZpcnN0TmFtZSI6IkFzaHJhZnVsIiwibGFzdE5hbWUiOiJJc2xhbSIsInByb2ZpbGVQaWN0dXJlIjoiaHR0cHM6Ly90czR1cG9ydGFsLWFsbC1maWxlcy11cGxvYWQubnljMy5kaWdpdGFsb2NlYW5zcGFjZXMuY29tLzE3MTkzODA2Nzg2MTEtU2NyZWVuc2hvdC0yMDI0IiwiaWF0IjoxNzQ0MDU1MzI4LCJleHAiOjE3NDQ2NjAxMjh9.8T76uwuBuKr_qOCnKAe0b-npvE44RxlvlIbkSVKYxRI',\n            'branch': '64fcb4e8944cf215d8d32f95'\n          }\n        }\n      )\n\n      const data = await response.data;\n\n      if (data.success) {\n        return { text: data.text, success: true };\n      } else {\n        console.error('AI generation failed:', data.error);\n        return { text: '', success: false, error: data.error };\n      }\n    } catch (error) {\n      console.error('Error calling AI generation API:', error);\n      return { text: '', success: false, error: 'Failed to connect to AI service' };\n    }\n  };\n\n  // Custom mention search handler\n  const handleMentionSearch = async (trigger: string, query?: string | null) => {\n    console.log(`Searching for mentions with trigger: ${trigger}, query: ${query}`);\n\n    // You can customize this to fetch from your own API\n\n\n    const searchQuery = query || '';\n    const response = await fetch(\n      `https://jsonplaceholder.typicode.com/users?trigger=${trigger}&query=${searchQuery}`\n    );\n    const data = await response.json();\n\n    return data?.map((x: { name: string; id: string | number, avatar:string }) => ({\n      value: x?.name,\n      id: x?.id,\n      avatar: x?.avatar||`https://placehold.co/400`,\n    }));\n  };\n\n  return (\n    <div className=\"flex flex-col h-screen\">\n      <div className=\"flex-1\">\n        <Editor\n          onChange={(value) => {\n            // Handle changes\n          }}\n          height=\"100%\"\n          editorSerializedState={editorState}\n          onSerializedChange={(value) => setEditorState(value)}\n          pluginOptions={pluginOptions}\n          maxLength={50000}\n          onImageUpload={handleImageUpload}\n          onAIGeneration={handleAIGeneration}\n          onMentionSearch={handleMentionSearch}\n          mentionMenu={MentionMenu}\n          mentionMenuItem={MentionMenuItem}\n\n        />\n      </div>\n    </div>\n  )\n}"]}