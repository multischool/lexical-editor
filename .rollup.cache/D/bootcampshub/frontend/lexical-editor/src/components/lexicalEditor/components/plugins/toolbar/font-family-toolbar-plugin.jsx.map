{"version":3,"file":"font-family-toolbar-plugin.jsx","sourceRoot":"","sources":["font-family-toolbar-plugin.tsx"],"names":[],"mappings":"AAAA,YAAY,CAAA;AAEZ,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAA;AAE7C,OAAO,EACL,kCAAkC,EAClC,eAAe,GAChB,MAAM,oBAAoB,CAAA;AAC3B,OAAO,EAAE,aAAa,EAAE,iBAAiB,EAAiB,MAAM,SAAS,CAAA;AACzE,OAAO,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAA;AAEvC,OAAO,EACL,MAAM,EACN,aAAa,EACb,UAAU,EACV,aAAa,GACd,MAAM,oBAAoB,CAAA;AAE3B,OAAO,EAAE,iBAAiB,EAAE,MAAM,+BAA+B,CAAA;AACjE,OAAO,EAAE,uBAAuB,EAAE,MAAM,uCAAuC,CAAA;AAE/E,MAAM,mBAAmB,GAAG;IAC1B,OAAO;IACP,SAAS;IACT,iBAAiB;IACjB,SAAS;IACT,aAAa;IACb,cAAc;CACf,CAAA;AAED,MAAM,UAAU,uBAAuB;IACrC,MAAM,KAAK,GAAG,aAAa,CAAA;IAC3B,MAAM,CAAC,UAAU,EAAE,aAAa,CAAC,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAA;IAErD,MAAM,EAAE,YAAY,EAAE,GAAG,iBAAiB,EAAE,CAAA;IAE5C,MAAM,cAAc,GAAG,CAAC,SAAwB,EAAE,EAAE;QAClD,IAAI,iBAAiB,CAAC,SAAS,CAAC,EAAE,CAAC;YACjC,aAAa,CACX,kCAAkC,CAAC,SAAS,EAAE,aAAa,EAAE,OAAO,CAAC,CACtE,CAAA;QACH,CAAC;IACH,CAAC,CAAA;IAED,uBAAuB,CAAC,cAAc,CAAC,CAAA;IAEvC,MAAM,WAAW,GAAG,WAAW,CAC7B,CAAC,MAAc,EAAE,EAAE;QACjB,YAAY,CAAC,MAAM,CAAC,GAAG,EAAE;YACvB,MAAM,SAAS,GAAG,aAAa,EAAE,CAAA;YACjC,IAAI,SAAS,KAAK,IAAI,EAAE,CAAC;gBACvB,eAAe,CAAC,SAAS,EAAE;oBACzB,CAAC,KAAK,CAAC,EAAE,MAAM;iBAChB,CAAC,CAAA;YACJ,CAAC;QACH,CAAC,CAAC,CAAA;IACJ,CAAC,EACD,CAAC,YAAY,EAAE,KAAK,CAAC,CACtB,CAAA;IAED,MAAM,eAAe,GAAG,oCAAoC,CAAA;IAE5D,OAAO,CACL,CAAC,MAAM,CACL,KAAK,CAAC,CAAC,UAAU,CAAC,CAClB,aAAa,CAAC,CAAC,CAAC,KAAK,EAAE,EAAE;YACvB,aAAa,CAAC,KAAK,CAAC,CAAA;YACpB,WAAW,CAAC,KAAK,CAAC,CAAA;QACpB,CAAC,CAAC,CACF,UAAU,CAAC,CAAC,eAAe,CAAC,CAE5B;MAAA,CAAC,aAAa,CAAC,SAAS,CAAC,iBAAiB,CACxC;QAAA,CAAC,QAAQ,CAAC,SAAS,CAAC,QAAQ,EAC5B;QAAA,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,EAAE,IAAI,CAC1B;MAAA,EAAE,aAAa,CACf;MAAA,CAAC,aAAa,CACZ;QAAA,CAAC,mBAAmB,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CACnC,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,CACrC;YAAA,CAAC,MAAM,CACT;UAAA,EAAE,UAAU,CAAC,CACd,CAAC,CACJ;MAAA,EAAE,aAAa,CACjB;IAAA,EAAE,MAAM,CAAC,CACV,CAAA;AACH,CAAC","sourcesContent":["'use client'\n\nimport { useCallback, useState } from 'react'\n\nimport {\n  $getSelectionStyleValueForProperty,\n  $patchStyleText,\n} from '@lexical/selection'\nimport { $getSelection, $isRangeSelection, BaseSelection } from 'lexical'\nimport { TypeIcon } from 'lucide-react'\n\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n} from '../../../ui/select'\n\nimport { useToolbarContext } from '../../context/toolbar-context'\nimport { useUpdateToolbarHandler } from '../../editor-hooks/use-update-toolbar'\n\nconst FONT_FAMILY_OPTIONS = [\n  'Arial',\n  'Verdana',\n  'Times New Roman',\n  'Georgia',\n  'Courier New',\n  'Trebuchet MS',\n]\n\nexport function FontFamilyToolbarPlugin() {\n  const style = 'font-family'\n  const [fontFamily, setFontFamily] = useState('Arial')\n\n  const { activeEditor } = useToolbarContext()\n\n  const $updateToolbar = (selection: BaseSelection) => {\n    if ($isRangeSelection(selection)) {\n      setFontFamily(\n        $getSelectionStyleValueForProperty(selection, 'font-family', 'Arial')\n      )\n    }\n  }\n\n  useUpdateToolbarHandler($updateToolbar)\n\n  const handleClick = useCallback(\n    (option: string) => {\n      activeEditor.update(() => {\n        const selection = $getSelection()\n        if (selection !== null) {\n          $patchStyleText(selection, {\n            [style]: option,\n          })\n        }\n      })\n    },\n    [activeEditor, style]\n  )\n\n  const buttonAriaLabel = 'Formatting options for font family'\n\n  return (\n    <Select\n      value={fontFamily}\n      onValueChange={(value) => {\n        setFontFamily(value)\n        handleClick(value)\n      }}\n      aria-label={buttonAriaLabel}\n    >\n      <SelectTrigger className=\"h-8 w-min gap-1\">\n        <TypeIcon className=\"size-4\" />\n        <span>{fontFamily}</span>\n      </SelectTrigger>\n      <SelectContent>\n        {FONT_FAMILY_OPTIONS.map((option) => (\n          <SelectItem key={option} value={option}>\n            {option}\n          </SelectItem>\n        ))}\n      </SelectContent>\n    </Select>\n  )\n}\n"]}