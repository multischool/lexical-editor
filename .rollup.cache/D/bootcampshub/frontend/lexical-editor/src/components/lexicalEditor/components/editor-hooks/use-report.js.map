{"version":3,"file":"use-report.js","sourceRoot":"","sources":["use-report.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,EAAE,MAAM,OAAO,CAAA;AAEtD,MAAM,UAAU,GAAG,GAAgB,EAAE;IACnC,IAAI,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAA;IAEzD,IAAI,OAAO,KAAK,IAAI,EAAE,CAAC;QACrB,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAA;QACvC,OAAO,CAAC,EAAE,GAAG,kBAAkB,CAAA;QAC/B,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,OAAO,CAAA;QAChC,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,KAAK,CAAA;QACzB,OAAO,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAA;QAC1B,OAAO,CAAC,KAAK,CAAC,QAAQ,GAAG,MAAM,CAAA;QAC/B,OAAO,CAAC,KAAK,CAAC,SAAS,GAAG,wBAAwB,CAAA;QAClD,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAA;QAC9B,OAAO,CAAC,KAAK,CAAC,UAAU,GAAG,0BAA0B,CAAA;QACrD,OAAO,CAAC,KAAK,CAAC,YAAY,GAAG,MAAM,CAAA;QAEnC,IAAI,QAAQ,CAAC,IAAI,EAAE,CAAC;YAClB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAA;QACpC,CAAC;IACH,CAAC;IAED,OAAO,OAAO,CAAA;AAChB,CAAC,CAAA;AAED,MAAM,UAAU,SAAS;IACvB,MAAM,KAAK,GAAG,MAAM,CAAuC,IAAI,CAAC,CAAA;IAChE,MAAM,OAAO,GAAG,WAAW,CAAC,GAAG,EAAE;QAC/B,IAAI,KAAK,CAAC,OAAO,KAAK,IAAI,EAAE,CAAC;YAC3B,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;YAC3B,KAAK,CAAC,OAAO,GAAG,IAAI,CAAA;QACtB,CAAC;QAED,IAAI,QAAQ,CAAC,IAAI,EAAE,CAAC;YAClB,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,CAAA;QACzC,CAAC;IACH,CAAC,EAAE,EAAE,CAAC,CAAA;IAEN,SAAS,CAAC,GAAG,EAAE;QACb,OAAO,OAAO,CAAA;IAChB,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAA;IAEb,OAAO,WAAW,CAChB,CAAC,OAAO,EAAE,EAAE;QACV,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAA;QACpB,MAAM,OAAO,GAAG,UAAU,EAAE,CAAA;QAC5B,IAAI,KAAK,CAAC,OAAO,KAAK,IAAI,EAAE,CAAC;YAC3B,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;QAC7B,CAAC;QACD,OAAO,CAAC,SAAS,GAAG,OAAO,CAAA;QAC3B,KAAK,CAAC,OAAO,GAAG,UAAU,CAAC,OAAO,EAAE,IAAI,CAAC,CAAA;QACzC,OAAO,KAAK,CAAC,OAAO,CAAA;IACtB,CAAC,EACD,CAAC,OAAO,CAAC,CACV,CAAA;AACH,CAAC","sourcesContent":["import { useCallback, useEffect, useRef } from 'react'\n\nconst getElement = (): HTMLElement => {\n  let element = document.getElementById('report-container')\n\n  if (element === null) {\n    element = document.createElement('div')\n    element.id = 'report-container'\n    element.style.position = 'fixed'\n    element.style.top = '50%'\n    element.style.left = '50%'\n    element.style.fontSize = '32px'\n    element.style.transform = 'translate(-50%, -50px)'\n    element.style.padding = '20px'\n    element.style.background = 'rgba(240, 240, 240, 0.4)'\n    element.style.borderRadius = '20px'\n\n    if (document.body) {\n      document.body.appendChild(element)\n    }\n  }\n\n  return element\n}\n\nexport function useReport(): (arg0: string) => ReturnType<typeof setTimeout> {\n  const timer = useRef<ReturnType<typeof setTimeout> | null>(null)\n  const cleanup = useCallback(() => {\n    if (timer.current !== null) {\n      clearTimeout(timer.current)\n      timer.current = null\n    }\n\n    if (document.body) {\n      document.body.removeChild(getElement())\n    }\n  }, [])\n\n  useEffect(() => {\n    return cleanup\n  }, [cleanup])\n\n  return useCallback(\n    (content) => {\n      console.log(content)\n      const element = getElement()\n      if (timer.current !== null) {\n        clearTimeout(timer.current)\n      }\n      element.innerHTML = content\n      timer.current = setTimeout(cleanup, 1000)\n      return timer.current\n    },\n    [cleanup]\n  )\n}\n"]}