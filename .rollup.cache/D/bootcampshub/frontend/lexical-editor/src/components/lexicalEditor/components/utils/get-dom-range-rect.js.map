{"version":3,"file":"get-dom-range-rect.js","sourceRoot":"","sources":["get-dom-range-rect.ts"],"names":[],"mappings":"AAAA,MAAM,UAAU,eAAe,CAC7B,eAA0B,EAC1B,WAAwB;IAExB,MAAM,QAAQ,GAAG,eAAe,CAAC,UAAU,CAAC,CAAC,CAAC,CAAA;IAE9C,IAAI,IAAI,CAAA;IAER,IAAI,eAAe,CAAC,UAAU,KAAK,WAAW,EAAE,CAAC;QAC/C,IAAI,KAAK,GAAG,WAAW,CAAA;QACvB,OAAO,KAAK,CAAC,iBAAiB,IAAI,IAAI,EAAE,CAAC;YACvC,KAAK,GAAG,KAAK,CAAC,iBAAgC,CAAA;QAChD,CAAC;QACD,IAAI,GAAG,KAAK,CAAC,qBAAqB,EAAE,CAAA;IACtC,CAAC;SAAM,CAAC;QACN,IAAI,GAAG,QAAQ,CAAC,qBAAqB,EAAE,CAAA;IACzC,CAAC;IAED,OAAO,IAAI,CAAA;AACb,CAAC","sourcesContent":["export function getDOMRangeRect(\n  nativeSelection: Selection,\n  rootElement: HTMLElement\n): DOMRect {\n  const domRange = nativeSelection.getRangeAt(0)\n\n  let rect\n\n  if (nativeSelection.anchorNode === rootElement) {\n    let inner = rootElement\n    while (inner.firstElementChild != null) {\n      inner = inner.firstElementChild as HTMLElement\n    }\n    rect = inner.getBoundingClientRect()\n  } else {\n    rect = domRange.getBoundingClientRect()\n  }\n\n  return rect\n}\n"]}