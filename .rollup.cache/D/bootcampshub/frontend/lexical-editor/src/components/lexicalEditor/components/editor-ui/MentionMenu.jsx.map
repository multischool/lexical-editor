{"version":3,"file":"MentionMenu.jsx","sourceRoot":"","sources":["MentionMenu.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Avatar, AvatarFallback, AvatarImage } from \"@/components/lexicalEditor/ui/avatar\";\r\nimport { cn } from \"../../lib/utils\";\r\nimport {\r\n  BeautifulMentionsMenuItemProps,\r\n  BeautifulMentionsMenuProps,\r\n} from \"lexical-beautiful-mentions\";\r\nimport { CircleUser, Loader2 } from \"lucide-react\";\r\nimport { forwardRef } from \"react\";\r\n\r\n/**\r\n * Menu component for the BeautifulMentionsPlugin.\r\n */\r\nexport const MentionMenu = forwardRef<any, BeautifulMentionsMenuProps>(\r\n  ({ open, loading, ...other }, ref) => {\r\n    if (loading) {\r\n      return (\r\n        <div\r\n          ref={ref}\r\n          className=\"m-0 mt-6 min-w-[14rem] overflow-hidden rounded-md border bg-popover p-3 text-sm text-popover-foreground shadow-lg animate-in fade-in-50 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95\"\r\n        >\r\n          <div className=\"flex items-center gap-2 px-1 py-1.5\">\r\n            <Loader2 className=\"h-4 w-4 animate-spin text-muted-foreground\" />\r\n            <span className=\"text-sm text-muted-foreground\">Loading suggestions...</span>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <ul\r\n        ref={ref}\r\n        style={{\r\n          scrollbarWidth: \"thin\",\r\n          msOverflowStyle: \"none\",\r\n        }}\r\n        className=\"absolute top-6 m-0 min-w-[14rem] max-h-[200px] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1.5 text-popover-foreground shadow-lg animate-in fade-in-50 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95\"\r\n        {...other}\r\n      />\r\n    );\r\n  },\r\n);\r\nMentionMenu.displayName = \"Menu\";\r\n\r\n/**\r\n * MenuItem component for the BeautifulMentionsPlugin.\r\n */\r\nexport const MentionMenuItem = forwardRef<\r\n  HTMLLIElement,\r\n  BeautifulMentionsMenuItemProps\r\n>(({ selected, itemValue, label, ...props }, ref) => {\r\n  // Extract additional user data if available\r\n  const subtitle = props?.subtitle || props?.description || props?.role || '';\r\n  const hasSubtitle = subtitle && subtitle.length > 0;\r\n\r\n  return (\r\n    <li\r\n      ref={ref}\r\n      className={cn(\r\n        \"relative flex cursor-pointer select-none items-center rounded-md px-2 py-1.5 text-sm outline-none transition-colors duration-150 ease-in-out\",\r\n        selected ? \"bg-accent text-accent-foreground\" : \"hover:bg-muted\",\r\n        \"my-0.5 gap-3\"\r\n      )}\r\n      {...props}\r\n    >\r\n      <Avatar className=\"h-8 w-8 border shadow-sm\">\r\n        <AvatarImage src={props?.avatar} alt={label} />\r\n        <AvatarFallback className=\"bg-primary/10 text-primary\">\r\n          {label ? label.charAt(0).toUpperCase() : <CircleUser className=\"h-4 w-4\" />}\r\n        </AvatarFallback>\r\n      </Avatar>\r\n\r\n      <div className=\"flex flex-col\">\r\n        <span className=\"font-medium\">{label}</span>\r\n        {hasSubtitle && (\r\n          <span className={cn(\r\n            \"text-xs opacity-70\",\r\n            selected ? \"text-accent-foreground\" : \"text-muted-foreground\"\r\n          )}>\r\n            {subtitle}\r\n          </span>\r\n        )}\r\n      </div>\r\n\r\n      {props?.userStatus && (\r\n        <div className={cn(\r\n          \"ml-auto h-2 w-2 rounded-full\",\r\n          props.userStatus === \"online\" ? \"bg-green-500\" : \r\n          props.userStatus === \"busy\" ? \"bg-red-500\" : \r\n          props.userStatus === \"away\" ? \"bg-yellow-500\" : \"bg-gray-300\"\r\n        )} />\r\n      )}\r\n    </li>\r\n  );\r\n});\r\nMentionMenuItem.displayName = \"MenuItem\";"]}