{"version":3,"file":"font-size-toolbar-plugin.jsx","sourceRoot":"","sources":["font-size-toolbar-plugin.tsx"],"names":[],"mappings":"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","sourcesContent":["'use client'\n\nimport { useCallback, useState } from 'react'\n\nimport {\n  $getSelectionStyleValueForProperty,\n  $patchStyleText,\n} from '@lexical/selection'\nimport { $getSelection, $isRangeSelection, BaseSelection } from 'lexical'\nimport { Minus, Plus } from 'lucide-react'\n\nimport { Button } from '../../../ui/button'\nimport { Input } from '../../../ui/input'\n\nimport { useToolbarContext } from '../../context/toolbar-context'\nimport { useUpdateToolbarHandler } from '../../editor-hooks/use-update-toolbar'\n\nconst DEFAULT_FONT_SIZE = 16\nconst MIN_FONT_SIZE = 1\nconst MAX_FONT_SIZE = 72\n\nexport function FontSizeToolbarPlugin() {\n  const style = 'font-size'\n  const [fontSize, setFontSize] = useState(DEFAULT_FONT_SIZE)\n\n  const { activeEditor } = useToolbarContext()\n\n  const $updateToolbar = (selection: BaseSelection) => {\n    if ($isRangeSelection(selection)) {\n      const value = $getSelectionStyleValueForProperty(\n        selection,\n        'font-size',\n        `${DEFAULT_FONT_SIZE}px`\n      )\n      setFontSize(parseInt(value) || DEFAULT_FONT_SIZE)\n    }\n  }\n\n  useUpdateToolbarHandler($updateToolbar)\n\n  const updateFontSize = useCallback(\n    (newSize: number) => {\n      const size = Math.min(Math.max(newSize, MIN_FONT_SIZE), MAX_FONT_SIZE)\n      activeEditor.update(() => {\n        const selection = $getSelection()\n        if (selection !== null) {\n          $patchStyleText(selection, {\n            [style]: `${size}px`,\n          })\n        }\n      })\n      setFontSize(size)\n    },\n    [activeEditor, style]\n  )\n\n  return (\n    <div className=\"flex items-center gap-1\">\n      <div className=\"flex items-center gap-1\">\n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          className=\"h-8 w-8\"\n          onClick={() => updateFontSize(fontSize - 1)}\n          disabled={fontSize <= MIN_FONT_SIZE}\n        >\n          <Minus className=\"size-3\" />\n        </Button>\n        <Input\n          value={fontSize}\n          onChange={(e) =>\n            updateFontSize(parseInt(e.target.value) || DEFAULT_FONT_SIZE)\n          }\n          className=\"h-8 w-12 text-center\"\n          min={MIN_FONT_SIZE}\n          max={MAX_FONT_SIZE}\n        />\n        <Button\n          variant=\"outline\"\n          size=\"icon\"\n          className=\"h-8 w-8\"\n          onClick={() => updateFontSize(fontSize + 1)}\n          disabled={fontSize >= MAX_FONT_SIZE}\n        >\n          <Plus className=\"size-3\" />\n        </Button>\n      </div>\n    </div>\n  )\n}\n"]}