{"version":3,"file":"caret-from-point.js","sourceRoot":"","sources":["caret-from-point.ts"],"names":[],"mappings":"AAAA,MAAM,UAAU,cAAc,CAC5B,CAAS,EACT,CAAS;IAKT,IAAI,OAAO,QAAQ,CAAC,mBAAmB,KAAK,WAAW,EAAE,CAAC;QACxD,MAAM,KAAK,GAAG,QAAQ,CAAC,mBAAmB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;QAChD,IAAI,KAAK,KAAK,IAAI,EAAE,CAAC;YACnB,OAAO,IAAI,CAAA;QACb,CAAC;QACD,OAAO;YACL,IAAI,EAAE,KAAK,CAAC,cAAc;YAC1B,MAAM,EAAE,KAAK,CAAC,WAAW;SAC1B,CAAA;QACD,aAAa;IACf,CAAC;SAAM,IAAI,QAAQ,CAAC,sBAAsB,KAAK,WAAW,EAAE,CAAC;QAC3D,2BAA2B;QAC3B,MAAM,KAAK,GAAG,QAAQ,CAAC,sBAAsB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAA;QACnD,IAAI,KAAK,KAAK,IAAI,EAAE,CAAC;YACnB,OAAO,IAAI,CAAA;QACb,CAAC;QACD,OAAO;YACL,IAAI,EAAE,KAAK,CAAC,UAAU;YACtB,MAAM,EAAE,KAAK,CAAC,MAAM;SACrB,CAAA;IACH,CAAC;SAAM,CAAC;QACN,uBAAuB;QACvB,OAAO,IAAI,CAAA;IACb,CAAC;AACH,CAAC","sourcesContent":["export function caretFromPoint(\n  x: number,\n  y: number\n): null | {\n  offset: number\n  node: Node\n} {\n  if (typeof document.caretRangeFromPoint !== 'undefined') {\n    const range = document.caretRangeFromPoint(x, y)\n    if (range === null) {\n      return null\n    }\n    return {\n      node: range.startContainer,\n      offset: range.startOffset,\n    }\n    // @ts-ignore\n  } else if (document.caretPositionFromPoint !== 'undefined') {\n    // @ts-ignore FF - no types\n    const range = document.caretPositionFromPoint(x, y)\n    if (range === null) {\n      return null\n    }\n    return {\n      node: range.offsetNode,\n      offset: range.offset,\n    }\n  } else {\n    // Gracefully handle IE\n    return null\n  }\n}\n"]}