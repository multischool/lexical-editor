{"version":3,"file":"katex-equation-alterer.jsx","sourceRoot":"","sources":["katex-equation-alterer.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react'\nimport { useCallback, useState, JSX } from 'react'\n\nimport { useLexicalComposerContext } from '@lexical/react/LexicalComposerContext'\nimport { ErrorBoundary } from 'react-error-boundary'\n\nimport { Button } from '../../ui/button'\nimport { Checkbox } from '../../ui/checkbox'\nimport { Input } from '../../ui/input'\nimport { Label } from '../../ui/label'\nimport { Textarea } from '../../ui/textarea'\n\nimport KatexRenderer from '../editor-ui/katex-renderer'\n\ntype Props = {\n  initialEquation?: string\n  onConfirm: (equation: string, inline: boolean) => void\n}\n\nexport default function KatexEquationAlterer({\n  onConfirm,\n  initialEquation = '',\n}: Props): JSX.Element {\n  const [editor] = useLexicalComposerContext()\n  const [equation, setEquation] = useState<string>(initialEquation)\n  const [inline, setInline] = useState<boolean>(true)\n\n  const onClick = useCallback(() => {\n    onConfirm(equation, inline)\n  }, [onConfirm, equation, inline])\n\n  const onCheckboxChange = useCallback(() => {\n    setInline(!inline)\n  }, [setInline, inline])\n\n  return (\n    <>\n      <div className=\"flex items-center space-x-2\">\n        <Label htmlFor=\"inline-toggle\" className=\"text-sm font-medium\">\n          Inline\n        </Label>\n        <Checkbox\n          id=\"inline-toggle\"\n          checked={inline}\n          onCheckedChange={onCheckboxChange}\n        />\n      </div>\n\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"equation-input\" className=\"text-sm font-medium\">\n          Equation\n        </Label>\n        {inline ? (\n          <Input\n            id=\"equation-input\"\n            onChange={(event) => setEquation(event.target.value)}\n            value={equation}\n            placeholder=\"Enter inline equation...\"\n          />\n        ) : (\n          <Textarea\n            id=\"equation-input\"\n            onChange={(event) => setEquation(event.target.value)}\n            value={equation}\n            placeholder=\"Enter block equation...\"\n            className=\"min-h-[100px]\"\n          />\n        )}\n      </div>\n\n      <div className=\"space-y-2\">\n        <Label className=\"text-sm font-medium\">Visualization</Label>\n        <div className=\"rounded-md border bg-muted p-4\">\n          <ErrorBoundary onError={(e) => editor._onError(e)} fallback={null}>\n            <KatexRenderer\n              equation={equation}\n              inline={false}\n              onDoubleClick={() => null}\n            />\n          </ErrorBoundary>\n        </div>\n      </div>\n\n      <div className=\"flex justify-end\">\n        <Button onClick={onClick}>Confirm</Button>\n      </div>\n    </>\n  )\n}\n"]}