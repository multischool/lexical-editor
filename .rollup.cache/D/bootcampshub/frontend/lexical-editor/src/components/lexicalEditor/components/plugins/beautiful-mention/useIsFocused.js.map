{"version":3,"file":"useIsFocused.js","sourceRoot":"","sources":["useIsFocused.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,yBAAyB,EAAE,MAAM,uCAAuC,CAAC;AAClF,OAAO,EAAE,aAAa,EAAE,MAAM,gBAAgB,CAAC;AAC/C,OAAO,EAAE,YAAY,EAAE,uBAAuB,EAAE,aAAa,EAAE,MAAM,SAAS,CAAC;AAC/E,OAAO,EAAE,SAAS,EAAE,eAAe,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAC7D,OAAO,EAAE,WAAW,EAAE,MAAM,eAAe,CAAC;AAE5C,MAAM,mBAAmB,GAA2B,WAAW;IAC7D,CAAC,CAAC,eAAe;IACjB,CAAC,CAAC,SAAS,CAAC;AAEd,MAAM,CAAC,MAAM,YAAY,GAAG,GAAG,EAAE;IAC/B,MAAM,CAAC,MAAM,CAAC,GAAG,yBAAyB,EAAE,CAAC;IAC7C,MAAM,CAAC,QAAQ,EAAE,WAAW,CAAC,GAAG,QAAQ,CAAC,GAAG,EAAE,CAC5C,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,cAAc,EAAE,KAAK,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC,KAAK,CACzE,CAAC;IAEF,mBAAmB,CAAC,GAAG,EAAE;QACvB,OAAO,aAAa,CAClB,MAAM,CAAC,eAAe,CACpB,aAAa,EACb,GAAG,EAAE;YACH,WAAW,CAAC,IAAI,CAAC,CAAC;YAClB,OAAO,KAAK,CAAC;QACf,CAAC,EACD,uBAAuB,CACxB,EACD,MAAM,CAAC,eAAe,CACpB,YAAY,EACZ,GAAG,EAAE;YACH,WAAW,CAAC,KAAK,CAAC,CAAC;YACnB,OAAO,KAAK,CAAC;QACf,CAAC,EACD,uBAAuB,CACxB,CACF,CAAC;IACJ,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IAEb,OAAO,QAAQ,CAAC;AAClB,CAAC,CAAC","sourcesContent":["import { useLexicalComposerContext } from \"@lexical/react/LexicalComposerContext\";\nimport { mergeRegister } from \"@lexical/utils\";\nimport { BLUR_COMMAND, COMMAND_PRIORITY_NORMAL, FOCUS_COMMAND } from \"lexical\";\nimport { useEffect, useLayoutEffect, useState } from \"react\";\nimport { CAN_USE_DOM } from \"./environment\";\n\nconst useLayoutEffectImpl: typeof useLayoutEffect = CAN_USE_DOM\n  ? useLayoutEffect\n  : useEffect;\n\nexport const useIsFocused = () => {\n  const [editor] = useLexicalComposerContext();\n  const [hasFocus, setHasFocus] = useState(() =>\n    CAN_USE_DOM ? editor.getRootElement() === document.activeElement : false,\n  );\n\n  useLayoutEffectImpl(() => {\n    return mergeRegister(\n      editor.registerCommand(\n        FOCUS_COMMAND,\n        () => {\n          setHasFocus(true);\n          return false;\n        },\n        COMMAND_PRIORITY_NORMAL,\n      ),\n      editor.registerCommand(\n        BLUR_COMMAND,\n        () => {\n          setHasFocus(false);\n          return false;\n        },\n        COMMAND_PRIORITY_NORMAL,\n      ),\n    );\n  }, [editor]);\n\n  return hasFocus;\n};\n"]}